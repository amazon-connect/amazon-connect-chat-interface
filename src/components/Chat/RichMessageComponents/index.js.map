{"version":3,"file":"index.js","sources":["../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/style-inject/dist/style-inject.es.js","../node_modules/markdown-draft-js/esm/draft-to-markdown.js","../node_modules/remarkable/dist/esm/index.js","../node_modules/react-error-boundary/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/react-error-boundary/dist/react-error-boundary.esm.js","../node_modules/react-error-boundary/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../src/components/RichTextEditor/styled.js","../src/components/RichTextEditor/constants.js","../src/components/RichTextEditor/editorUtils.js","../src/components/RichTextEditor/assets/index.js","../src/components/RichTextEditor/SendMessageButton/SendMessageButton.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../src/components/RichTextEditor/RichToolbarButton/RichToolbarButton.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/emoji-mart/dist-es/utils/data.js","../node_modules/emoji-mart/dist-es/polyfills/stringFromCodePoint.js","../node_modules/emoji-mart/dist-es/utils/index.js","../node_modules/emoji-mart/dist-es/utils/store.js","../node_modules/emoji-mart/dist-es/utils/emoji-index/nimble-emoji-index.js","../node_modules/emoji-mart/dist-es/utils/emoji-index/emoji-index.js","../node_modules/emoji-mart/dist-es/utils/frequently.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/emoji-mart/dist-es/svgs/index.js","../node_modules/emoji-mart/dist-es/utils/shared-props.js","../node_modules/emoji-mart/dist-es/components/anchors.js","../node_modules/emoji-mart/dist-es/utils/shared-default-props.js","../node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js","../node_modules/emoji-mart/dist-es/components/not-found.js","../node_modules/emoji-mart/dist-es/components/category.js","../node_modules/emoji-mart/dist-es/components/skins.js","../node_modules/emoji-mart/dist-es/components/skins-emoji.js","../node_modules/emoji-mart/dist-es/components/skins-dot.js","../node_modules/emoji-mart/dist-es/components/preview.js","../node_modules/emoji-mart/dist-es/components/search.js","../node_modules/emoji-mart/dist-es/components/picker/nimble-picker.js","../node_modules/emoji-mart/dist-es/components/picker/picker.js","../node_modules/emoji-mart/dist-es/components/emoji/emoji.js","../src/components/Emojis/emojiConstants.js","../src/components/Emojis/EmojiPicker.js","../src/components/Emojis/emojiUtils.js","../src/components/RichTextEditor/RichTextEditor.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../src/components/RichMessageRenderer/RichMessageRenderer.js"],"sourcesContent":["export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","var TRAILING_WHITESPACE = /[ \\u0020\\t\\n]*$/; // This escapes some markdown but there's a few cases that are TODO -\n// - List items\n// - Back tics  (see https://github.com/Rosey/markdown-draft-js/issues/52#issuecomment-388458017)\n// - Complex markdown, like links or images. Not sure it's even worth it, because if you're typing\n// that into draft chances are you know its markdown and maybe expect it convert? :/\n\nvar MARKDOWN_STYLE_CHARACTERS = ['*', '_', '~', '`'];\nvar MARKDOWN_STYLE_CHARACTER_REGXP = /(\\*|_|~|\\\\|`)/g; // I hate this a bit, being outside of the functionâ€™s scope\n// but canâ€™t think of a better way to keep track of how many ordered list\n// items were are on, as draft doesnâ€™t explicitly tell us in the raw object ðŸ˜¢.\n// This is a hash that will be assigned values based on depth, so like\n// orderedListNumber[0] = 1 would mean that ordered list at depth 0 is on number 1.\n// orderedListNumber[0] = 2 would mean that ordered list at depth 0 is on number 2.\n// This is so we have the right number of numbers when doing a list, eg\n// 1. Item One\n// 2. Item two\n// 3. Item three\n// And so on.\n\nvar orderedListNumber = {},\n    previousOrderedListDepth = 0; // A map of draftjs block types -> markdown open and close characters\n// Both the open and close methods must exist, even if they simply return an empty string.\n// They should always return a string.\n\nvar StyleItems = {\n  // BLOCK LEVEL\n  'unordered-list-item': {\n    open: function open() {\n      return '- ';\n    },\n    close: function close() {\n      return '';\n    }\n  },\n  'ordered-list-item': {\n    open: function open(block) {\n      var number = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      return \"\".concat(number, \". \");\n    },\n    close: function close() {\n      return '';\n    }\n  },\n  'blockquote': {\n    open: function open() {\n      return '> ';\n    },\n    close: function close() {\n      return '';\n    }\n  },\n  'header-one': {\n    open: function open() {\n      return '# ';\n    },\n    close: function close() {\n      return '';\n    }\n  },\n  'header-two': {\n    open: function open() {\n      return '## ';\n    },\n    close: function close() {\n      return '';\n    }\n  },\n  'header-three': {\n    open: function open() {\n      return '### ';\n    },\n    close: function close() {\n      return '';\n    }\n  },\n  'header-four': {\n    open: function open() {\n      return '#### ';\n    },\n    close: function close() {\n      return '';\n    }\n  },\n  'header-five': {\n    open: function open() {\n      return '##### ';\n    },\n    close: function close() {\n      return '';\n    }\n  },\n  'header-six': {\n    open: function open() {\n      return '###### ';\n    },\n    close: function close() {\n      return '';\n    }\n  },\n  'code-block': {\n    open: function open(block) {\n      return '```' + (block.data.language || '') + '\\n';\n    },\n    close: function close() {\n      return '\\n```';\n    }\n  },\n  // INLINE LEVEL\n  'BOLD': {\n    open: function open() {\n      return '**';\n    },\n    close: function close() {\n      return '**';\n    }\n  },\n  'ITALIC': {\n    open: function open() {\n      return '_';\n    },\n    close: function close() {\n      return '_';\n    }\n  },\n  'STRIKETHROUGH': {\n    open: function open() {\n      return '~~';\n    },\n    close: function close() {\n      return '~~';\n    }\n  },\n  'CODE': {\n    open: function open() {\n      return '`';\n    },\n    close: function close() {\n      return '`';\n    }\n  }\n}; // A map of draftjs entity types -> markdown open and close characters\n// entities are different from block types because they have additional data attached to them.\n// an entity object is passed in to both open and close, in case it's needed for string generation.\n//\n// Both the open and close methods must exist, even if they simply return an empty string.\n// They should always return a string.\n\nvar EntityItems = {\n  'LINK': {\n    open: function open(entity) {\n      return '[';\n    },\n    close: function close(entity) {\n      return \"](\".concat(entity.data.url || entity.data.href, \")\");\n    }\n  }\n}; // Bit of a hack - we normally want a double newline after a block,\n// but for list items we just want one (unless it's the _last_ list item in a group.)\n\nvar SingleNewlineAfterBlock = ['unordered-list-item', 'ordered-list-item'];\n\nfunction isEmptyBlock(block) {\n  return block.text.length === 0 && block.entityRanges.length === 0 && Object.keys(block.data || {}).length === 0;\n}\n/**\n * Generate markdown for a single block javascript object\n * DraftJS raw object contains an array of blocks, which is the main \"structure\"\n * of the text. Each block = a new line.\n *\n * @param {Object} block - block to generate markdown for\n * @param {Number} index - index of the block in the blocks array\n * @param {Object} rawDraftObject - entire raw draft object (needed for accessing the entityMap)\n * @param {Object} options - additional options passed in by the user calling this method.\n *\n * @return {String} markdown string\n**/\n\n\nfunction renderBlock(block, index, rawDraftObject, options) {\n  var openInlineStyles = [],\n      markdownToAdd = [];\n  var markdownString = '',\n      customStyleItems = options.styleItems || {},\n      customEntityItems = options.entityItems || {},\n      escapeMarkdownCharacters = options.hasOwnProperty('escapeMarkdownCharacters') ? options.escapeMarkdownCharacters : true;\n  var type = block.type;\n  var markdownStyleCharactersToEscape = []; // draft-js emits empty blocks that have type setâ€¦ donâ€™t style them unless the user wants to preserve new lines\n  // (if newlines are preserved each empty line should be \"styled\" eg in case of blockquote we want to see a blockquote.)\n  // but if newlines arenâ€™t preserved then we'd end up having double or triple or etc markdown characters, which is a bug.\n\n  if (isEmptyBlock(block) && !options.preserveNewlines) {\n    type = 'unstyled';\n  } // Render main block wrapping element\n\n\n  if (customStyleItems[type] || StyleItems[type]) {\n    if (type === 'unordered-list-item' || type === 'ordered-list-item') {\n      markdownString += ' '.repeat(block.depth * 4);\n    }\n\n    if (type === 'ordered-list-item') {\n      orderedListNumber[block.depth] = orderedListNumber[block.depth] || 1;\n      markdownString += (customStyleItems[type] || StyleItems[type]).open(block, orderedListNumber[block.depth]);\n      orderedListNumber[block.depth]++; // Have to reset the number for orderedListNumber if we are breaking out of a list so that if\n      // there's another nested list at the same level further down, it starts at 1 again.\n      // COMPLICATED ðŸ˜­\n\n      if (previousOrderedListDepth > block.depth) {\n        orderedListNumber[previousOrderedListDepth] = 1;\n      }\n\n      previousOrderedListDepth = block.depth;\n    } else {\n      orderedListNumber = {};\n      markdownString += (customStyleItems[type] || StyleItems[type]).open(block);\n    }\n  } else {\n    orderedListNumber = {};\n  } // A stack to keep track of open tags\n\n\n  var openTags = [];\n\n  function openTag(tag) {\n    openTags.push(tag);\n\n    if (tag.style) {\n      // Open inline tag\n      if (customStyleItems[tag.style] || StyleItems[tag.style]) {\n        var styleToAdd = (customStyleItems[tag.style] || StyleItems[tag.style]).open();\n        markdownToAdd.push({\n          type: 'style',\n          style: tag,\n          value: styleToAdd\n        });\n      }\n    } else {\n      // Open entity tag\n      var entity = rawDraftObject.entityMap[tag.key];\n\n      if (customEntityItems[entity.type] || EntityItems[entity.type]) {\n        var entityToAdd = (customEntityItems[entity.type] || EntityItems[entity.type]).open(entity, block);\n        markdownToAdd.push({\n          type: 'entity',\n          value: entityToAdd\n        });\n      }\n    }\n  }\n\n  function closeTag(tag) {\n    var popped = openTags.pop();\n\n    if (tag !== popped) {\n      throw new Error('Invariant violation: Cannot close a tag before all inner tags have been closed');\n    }\n\n    if (tag.style) {\n      // Close inline tag\n      if (customStyleItems[tag.style] || StyleItems[tag.style]) {\n        // Have to trim whitespace first and then re-add after because markdown can't handle leading/trailing whitespace\n        var trailingWhitespace = TRAILING_WHITESPACE.exec(markdownString);\n        markdownString = markdownString.slice(0, markdownString.length - trailingWhitespace[0].length);\n        markdownString += (customStyleItems[tag.style] || StyleItems[tag.style]).close();\n        markdownString += trailingWhitespace[0];\n      }\n    } else {\n      // Close entity tag\n      var entity = rawDraftObject.entityMap[tag.key];\n\n      if (customEntityItems[entity.type] || EntityItems[entity.type]) {\n        markdownString += (customEntityItems[entity.type] || EntityItems[entity.type]).close(entity, block);\n      }\n    }\n  }\n\n  var compareTagsLastCloseFirst = function compareTagsLastCloseFirst(a, b) {\n    return b.offset + b.length - (a.offset + a.length);\n  }; // reverse array without mutating the original\n\n\n  var reverse = function reverse(array) {\n    return array.concat().reverse();\n  }; // Render text within content, along with any inline styles/entities\n\n\n  Array.from(block.text).some(function (character, characterIndex) {\n    // Close any tags that need closing, starting from top of the stack\n    reverse(openTags).forEach(function (tag) {\n      if (tag.offset + tag.length === characterIndex) {\n        // Take all tags stacked on top of the current one, meaning they opened after it.\n        // Since they have not been popped, they'll close only later. So we need to split them.\n        var tagsToSplit = openTags.slice(openTags.indexOf(tag) + 1); // Close in reverse order as they were opened\n\n        reverse(tagsToSplit).forEach(closeTag); // Now we can close the current tag\n\n        closeTag(tag); // Reopen split tags, ordered so that tags that close last open first\n\n        tagsToSplit.sort(compareTagsLastCloseFirst).forEach(openTag);\n      }\n    }); // Open any tags that need opening, using the correct nesting order.\n\n    var inlineTagsToOpen = block.inlineStyleRanges.filter(function (tag) {\n      return tag.offset === characterIndex;\n    });\n    var entityTagsToOpen = block.entityRanges.filter(function (tag) {\n      return tag.offset === characterIndex;\n    });\n    inlineTagsToOpen.concat(entityTagsToOpen).sort(compareTagsLastCloseFirst).forEach(openTag); // These are all the opening entity and style types being added to the markdown string for this loop\n    // we store in an array and add here because if the character is WS character, we want to hang onto it and not apply it until the next non-whitespace\n    // character before adding the markdown, since markdown doesnâ€™t play nice with leading whitespace (eg '** bold**' is no  good, whereas ' **bold**' is good.)\n\n    if (character !== ' ' && markdownToAdd.length) {\n      markdownString += markdownToAdd.map(function (item) {\n        return item.value;\n      }).join('');\n      markdownToAdd = [];\n    }\n\n    if (block.type !== 'code-block' && escapeMarkdownCharacters) {\n      var insideInlineCodeStyle = openTags.find(function (style) {\n        return style.style === 'CODE';\n      });\n\n      if (insideInlineCodeStyle) {// Todo - The syntax to escape backtics when inside backtic code already is to use MORE backtics wrapping.\n        // So we need to see how many backtics in a row we have and then when converting to markdown, use that # + 1\n        // EG  ``Test ` Hllo ``\n        // OR   ```Test `` Hello```\n        // OR ````Test ``` Hello ````\n        // Similar work has to be done for codeblocks.\n      } else {\n        // Special escape logic for blockquotes and heading characters\n        if (characterIndex === 0 && character === '#' && block.text[1] && block.text[1] === ' ') {\n          character = character.replace('#', '\\\\#');\n        } else if (characterIndex === 0 && character === '>') {\n          character = character.replace('>', '\\\\>');\n        } // Escaping inline markdown characters\n        // ðŸ§¹ If someone can think of a more elegant solution, I would love that.\n        // orginally this was just a little char replace using a simple regular expression, but thereâ€™s lots of cases where\n        // a markdown character does not actually get converted to markdown, like this case: http://google.com/i_am_a_link\n        // so this code now tries to be smart and keeps track of potential â€œopeningâ€ characters as well as potential â€œclosingâ€\n        // characters, and only escapes if both opening and closing exist, and they have the correct whitepace-before-open, whitespace-or-end-of-string-after-close pattern\n\n\n        if (MARKDOWN_STYLE_CHARACTERS.includes(character)) {\n          var openingStyle = markdownStyleCharactersToEscape.find(function (item) {\n            return item.character === character;\n          });\n\n          if (!openingStyle && block.text[characterIndex - 1] === ' ' && block.text[characterIndex + 1] !== ' ') {\n            markdownStyleCharactersToEscape.push({\n              character: character,\n              index: characterIndex,\n              markdownStringIndexStart: markdownString.length + character.length - 1,\n              markdownStringIndexEnd: markdownString.length + character.length\n            });\n          } else if (openingStyle && block.text[characterIndex - 1] === character && characterIndex === openingStyle.index + 1) {\n            openingStyle.markdownStringIndexEnd += 1;\n          } else if (openingStyle) {\n            var openingStyleLength = openingStyle.markdownStringIndexEnd - openingStyle.markdownStringIndexStart;\n            var escapeCharacter = false;\n            var popOpeningStyle = false;\n\n            if (openingStyleLength === 1 && (block.text[characterIndex + 1] === ' ' || !block.text[characterIndex + 1])) {\n              popOpeningStyle = true;\n              escapeCharacter = true;\n            }\n\n            if (openingStyleLength === 2 && block.text[characterIndex + 1] === character) {\n              escapeCharacter = true;\n            }\n\n            if (openingStyleLength === 2 && block.text[characterIndex - 1] === character && (block.text[characterIndex + 1] === ' ' || !block.text[characterIndex + 1])) {\n              popOpeningStyle = true;\n              escapeCharacter = true;\n            }\n\n            if (popOpeningStyle) {\n              markdownStyleCharactersToEscape.splice(markdownStyleCharactersToEscape.indexOf(openingStyle), 1);\n              var replacementString = markdownString.slice(openingStyle.markdownStringIndexStart, openingStyle.markdownStringIndexEnd);\n              replacementString = replacementString.replace(MARKDOWN_STYLE_CHARACTER_REGXP, '\\\\$1');\n              markdownString = markdownString.slice(0, openingStyle.markdownStringIndexStart) + replacementString + markdownString.slice(openingStyle.markdownStringIndexEnd);\n            }\n\n            if (escapeCharacter) {\n              character = \"\\\\\".concat(character);\n            }\n          }\n        }\n      }\n    }\n\n    if (character === '\\n' && type === 'blockquote') {\n      markdownString += '\\n> ';\n    } else {\n      markdownString += character;\n    }\n  }); // Finally, close all remaining open tags\n\n  reverse(openTags).forEach(closeTag); // Close block level item\n\n  if (customStyleItems[type] || StyleItems[type]) {\n    markdownString += (customStyleItems[type] || StyleItems[type]).close(block);\n  } // Determine how many newlines to add - generally we want 2, but for list items we just want one when they are succeeded by another list item.\n\n\n  if (SingleNewlineAfterBlock.indexOf(type) !== -1 && rawDraftObject.blocks[index + 1] && SingleNewlineAfterBlock.indexOf(rawDraftObject.blocks[index + 1].type) !== -1) {\n    markdownString += '\\n';\n  } else if (rawDraftObject.blocks[index + 1]) {\n    if (rawDraftObject.blocks[index].text) {\n      if (SingleNewlineAfterBlock.indexOf(type) !== -1 && SingleNewlineAfterBlock.indexOf(rawDraftObject.blocks[index + 1].type) === -1) {\n        markdownString += '\\n\\n';\n      } else if (!options.preserveNewlines) {\n        // 2 newlines if not preserving\n        markdownString += '\\n\\n';\n      } else {\n        markdownString += '\\n';\n      }\n    } else if (options.preserveNewlines) {\n      markdownString += '\\n';\n    }\n  }\n\n  return markdownString;\n}\n/**\n * Generate markdown for a raw draftjs object\n * DraftJS raw object contains an array of blocks, which is the main \"structure\"\n * of the text. Each block = a new line.\n *\n * @param {Object} rawDraftObject - draftjs object to generate markdown for\n * @param {Object} options - optional additional data, see readme for what options can be passed in.\n *\n * @return {String} markdown string\n**/\n\n\nfunction draftToMarkdown(rawDraftObject, options) {\n  options = options || {};\n  var markdownString = '';\n  rawDraftObject.blocks.forEach(function (block, index) {\n    markdownString += renderBlock(block, index, rawDraftObject, options);\n  });\n  orderedListNumber = {}; // See variable definitions at the top of the page to see why we have to do this sad hack.\n\n  return markdownString;\n}\n\nexport default draftToMarkdown;","// List of valid entities\n//\n// Generate with ./support/entities.js script\n//\n\n/*eslint quotes:0*/\nvar entities = {\n  \"Aacute\":\"\\u00C1\",\n  \"aacute\":\"\\u00E1\",\n  \"Abreve\":\"\\u0102\",\n  \"abreve\":\"\\u0103\",\n  \"ac\":\"\\u223E\",\n  \"acd\":\"\\u223F\",\n  \"acE\":\"\\u223E\\u0333\",\n  \"Acirc\":\"\\u00C2\",\n  \"acirc\":\"\\u00E2\",\n  \"acute\":\"\\u00B4\",\n  \"Acy\":\"\\u0410\",\n  \"acy\":\"\\u0430\",\n  \"AElig\":\"\\u00C6\",\n  \"aelig\":\"\\u00E6\",\n  \"af\":\"\\u2061\",\n  \"Afr\":\"\\uD835\\uDD04\",\n  \"afr\":\"\\uD835\\uDD1E\",\n  \"Agrave\":\"\\u00C0\",\n  \"agrave\":\"\\u00E0\",\n  \"alefsym\":\"\\u2135\",\n  \"aleph\":\"\\u2135\",\n  \"Alpha\":\"\\u0391\",\n  \"alpha\":\"\\u03B1\",\n  \"Amacr\":\"\\u0100\",\n  \"amacr\":\"\\u0101\",\n  \"amalg\":\"\\u2A3F\",\n  \"AMP\":\"\\u0026\",\n  \"amp\":\"\\u0026\",\n  \"And\":\"\\u2A53\",\n  \"and\":\"\\u2227\",\n  \"andand\":\"\\u2A55\",\n  \"andd\":\"\\u2A5C\",\n  \"andslope\":\"\\u2A58\",\n  \"andv\":\"\\u2A5A\",\n  \"ang\":\"\\u2220\",\n  \"ange\":\"\\u29A4\",\n  \"angle\":\"\\u2220\",\n  \"angmsd\":\"\\u2221\",\n  \"angmsdaa\":\"\\u29A8\",\n  \"angmsdab\":\"\\u29A9\",\n  \"angmsdac\":\"\\u29AA\",\n  \"angmsdad\":\"\\u29AB\",\n  \"angmsdae\":\"\\u29AC\",\n  \"angmsdaf\":\"\\u29AD\",\n  \"angmsdag\":\"\\u29AE\",\n  \"angmsdah\":\"\\u29AF\",\n  \"angrt\":\"\\u221F\",\n  \"angrtvb\":\"\\u22BE\",\n  \"angrtvbd\":\"\\u299D\",\n  \"angsph\":\"\\u2222\",\n  \"angst\":\"\\u00C5\",\n  \"angzarr\":\"\\u237C\",\n  \"Aogon\":\"\\u0104\",\n  \"aogon\":\"\\u0105\",\n  \"Aopf\":\"\\uD835\\uDD38\",\n  \"aopf\":\"\\uD835\\uDD52\",\n  \"ap\":\"\\u2248\",\n  \"apacir\":\"\\u2A6F\",\n  \"apE\":\"\\u2A70\",\n  \"ape\":\"\\u224A\",\n  \"apid\":\"\\u224B\",\n  \"apos\":\"\\u0027\",\n  \"ApplyFunction\":\"\\u2061\",\n  \"approx\":\"\\u2248\",\n  \"approxeq\":\"\\u224A\",\n  \"Aring\":\"\\u00C5\",\n  \"aring\":\"\\u00E5\",\n  \"Ascr\":\"\\uD835\\uDC9C\",\n  \"ascr\":\"\\uD835\\uDCB6\",\n  \"Assign\":\"\\u2254\",\n  \"ast\":\"\\u002A\",\n  \"asymp\":\"\\u2248\",\n  \"asympeq\":\"\\u224D\",\n  \"Atilde\":\"\\u00C3\",\n  \"atilde\":\"\\u00E3\",\n  \"Auml\":\"\\u00C4\",\n  \"auml\":\"\\u00E4\",\n  \"awconint\":\"\\u2233\",\n  \"awint\":\"\\u2A11\",\n  \"backcong\":\"\\u224C\",\n  \"backepsilon\":\"\\u03F6\",\n  \"backprime\":\"\\u2035\",\n  \"backsim\":\"\\u223D\",\n  \"backsimeq\":\"\\u22CD\",\n  \"Backslash\":\"\\u2216\",\n  \"Barv\":\"\\u2AE7\",\n  \"barvee\":\"\\u22BD\",\n  \"Barwed\":\"\\u2306\",\n  \"barwed\":\"\\u2305\",\n  \"barwedge\":\"\\u2305\",\n  \"bbrk\":\"\\u23B5\",\n  \"bbrktbrk\":\"\\u23B6\",\n  \"bcong\":\"\\u224C\",\n  \"Bcy\":\"\\u0411\",\n  \"bcy\":\"\\u0431\",\n  \"bdquo\":\"\\u201E\",\n  \"becaus\":\"\\u2235\",\n  \"Because\":\"\\u2235\",\n  \"because\":\"\\u2235\",\n  \"bemptyv\":\"\\u29B0\",\n  \"bepsi\":\"\\u03F6\",\n  \"bernou\":\"\\u212C\",\n  \"Bernoullis\":\"\\u212C\",\n  \"Beta\":\"\\u0392\",\n  \"beta\":\"\\u03B2\",\n  \"beth\":\"\\u2136\",\n  \"between\":\"\\u226C\",\n  \"Bfr\":\"\\uD835\\uDD05\",\n  \"bfr\":\"\\uD835\\uDD1F\",\n  \"bigcap\":\"\\u22C2\",\n  \"bigcirc\":\"\\u25EF\",\n  \"bigcup\":\"\\u22C3\",\n  \"bigodot\":\"\\u2A00\",\n  \"bigoplus\":\"\\u2A01\",\n  \"bigotimes\":\"\\u2A02\",\n  \"bigsqcup\":\"\\u2A06\",\n  \"bigstar\":\"\\u2605\",\n  \"bigtriangledown\":\"\\u25BD\",\n  \"bigtriangleup\":\"\\u25B3\",\n  \"biguplus\":\"\\u2A04\",\n  \"bigvee\":\"\\u22C1\",\n  \"bigwedge\":\"\\u22C0\",\n  \"bkarow\":\"\\u290D\",\n  \"blacklozenge\":\"\\u29EB\",\n  \"blacksquare\":\"\\u25AA\",\n  \"blacktriangle\":\"\\u25B4\",\n  \"blacktriangledown\":\"\\u25BE\",\n  \"blacktriangleleft\":\"\\u25C2\",\n  \"blacktriangleright\":\"\\u25B8\",\n  \"blank\":\"\\u2423\",\n  \"blk12\":\"\\u2592\",\n  \"blk14\":\"\\u2591\",\n  \"blk34\":\"\\u2593\",\n  \"block\":\"\\u2588\",\n  \"bne\":\"\\u003D\\u20E5\",\n  \"bnequiv\":\"\\u2261\\u20E5\",\n  \"bNot\":\"\\u2AED\",\n  \"bnot\":\"\\u2310\",\n  \"Bopf\":\"\\uD835\\uDD39\",\n  \"bopf\":\"\\uD835\\uDD53\",\n  \"bot\":\"\\u22A5\",\n  \"bottom\":\"\\u22A5\",\n  \"bowtie\":\"\\u22C8\",\n  \"boxbox\":\"\\u29C9\",\n  \"boxDL\":\"\\u2557\",\n  \"boxDl\":\"\\u2556\",\n  \"boxdL\":\"\\u2555\",\n  \"boxdl\":\"\\u2510\",\n  \"boxDR\":\"\\u2554\",\n  \"boxDr\":\"\\u2553\",\n  \"boxdR\":\"\\u2552\",\n  \"boxdr\":\"\\u250C\",\n  \"boxH\":\"\\u2550\",\n  \"boxh\":\"\\u2500\",\n  \"boxHD\":\"\\u2566\",\n  \"boxHd\":\"\\u2564\",\n  \"boxhD\":\"\\u2565\",\n  \"boxhd\":\"\\u252C\",\n  \"boxHU\":\"\\u2569\",\n  \"boxHu\":\"\\u2567\",\n  \"boxhU\":\"\\u2568\",\n  \"boxhu\":\"\\u2534\",\n  \"boxminus\":\"\\u229F\",\n  \"boxplus\":\"\\u229E\",\n  \"boxtimes\":\"\\u22A0\",\n  \"boxUL\":\"\\u255D\",\n  \"boxUl\":\"\\u255C\",\n  \"boxuL\":\"\\u255B\",\n  \"boxul\":\"\\u2518\",\n  \"boxUR\":\"\\u255A\",\n  \"boxUr\":\"\\u2559\",\n  \"boxuR\":\"\\u2558\",\n  \"boxur\":\"\\u2514\",\n  \"boxV\":\"\\u2551\",\n  \"boxv\":\"\\u2502\",\n  \"boxVH\":\"\\u256C\",\n  \"boxVh\":\"\\u256B\",\n  \"boxvH\":\"\\u256A\",\n  \"boxvh\":\"\\u253C\",\n  \"boxVL\":\"\\u2563\",\n  \"boxVl\":\"\\u2562\",\n  \"boxvL\":\"\\u2561\",\n  \"boxvl\":\"\\u2524\",\n  \"boxVR\":\"\\u2560\",\n  \"boxVr\":\"\\u255F\",\n  \"boxvR\":\"\\u255E\",\n  \"boxvr\":\"\\u251C\",\n  \"bprime\":\"\\u2035\",\n  \"Breve\":\"\\u02D8\",\n  \"breve\":\"\\u02D8\",\n  \"brvbar\":\"\\u00A6\",\n  \"Bscr\":\"\\u212C\",\n  \"bscr\":\"\\uD835\\uDCB7\",\n  \"bsemi\":\"\\u204F\",\n  \"bsim\":\"\\u223D\",\n  \"bsime\":\"\\u22CD\",\n  \"bsol\":\"\\u005C\",\n  \"bsolb\":\"\\u29C5\",\n  \"bsolhsub\":\"\\u27C8\",\n  \"bull\":\"\\u2022\",\n  \"bullet\":\"\\u2022\",\n  \"bump\":\"\\u224E\",\n  \"bumpE\":\"\\u2AAE\",\n  \"bumpe\":\"\\u224F\",\n  \"Bumpeq\":\"\\u224E\",\n  \"bumpeq\":\"\\u224F\",\n  \"Cacute\":\"\\u0106\",\n  \"cacute\":\"\\u0107\",\n  \"Cap\":\"\\u22D2\",\n  \"cap\":\"\\u2229\",\n  \"capand\":\"\\u2A44\",\n  \"capbrcup\":\"\\u2A49\",\n  \"capcap\":\"\\u2A4B\",\n  \"capcup\":\"\\u2A47\",\n  \"capdot\":\"\\u2A40\",\n  \"CapitalDifferentialD\":\"\\u2145\",\n  \"caps\":\"\\u2229\\uFE00\",\n  \"caret\":\"\\u2041\",\n  \"caron\":\"\\u02C7\",\n  \"Cayleys\":\"\\u212D\",\n  \"ccaps\":\"\\u2A4D\",\n  \"Ccaron\":\"\\u010C\",\n  \"ccaron\":\"\\u010D\",\n  \"Ccedil\":\"\\u00C7\",\n  \"ccedil\":\"\\u00E7\",\n  \"Ccirc\":\"\\u0108\",\n  \"ccirc\":\"\\u0109\",\n  \"Cconint\":\"\\u2230\",\n  \"ccups\":\"\\u2A4C\",\n  \"ccupssm\":\"\\u2A50\",\n  \"Cdot\":\"\\u010A\",\n  \"cdot\":\"\\u010B\",\n  \"cedil\":\"\\u00B8\",\n  \"Cedilla\":\"\\u00B8\",\n  \"cemptyv\":\"\\u29B2\",\n  \"cent\":\"\\u00A2\",\n  \"CenterDot\":\"\\u00B7\",\n  \"centerdot\":\"\\u00B7\",\n  \"Cfr\":\"\\u212D\",\n  \"cfr\":\"\\uD835\\uDD20\",\n  \"CHcy\":\"\\u0427\",\n  \"chcy\":\"\\u0447\",\n  \"check\":\"\\u2713\",\n  \"checkmark\":\"\\u2713\",\n  \"Chi\":\"\\u03A7\",\n  \"chi\":\"\\u03C7\",\n  \"cir\":\"\\u25CB\",\n  \"circ\":\"\\u02C6\",\n  \"circeq\":\"\\u2257\",\n  \"circlearrowleft\":\"\\u21BA\",\n  \"circlearrowright\":\"\\u21BB\",\n  \"circledast\":\"\\u229B\",\n  \"circledcirc\":\"\\u229A\",\n  \"circleddash\":\"\\u229D\",\n  \"CircleDot\":\"\\u2299\",\n  \"circledR\":\"\\u00AE\",\n  \"circledS\":\"\\u24C8\",\n  \"CircleMinus\":\"\\u2296\",\n  \"CirclePlus\":\"\\u2295\",\n  \"CircleTimes\":\"\\u2297\",\n  \"cirE\":\"\\u29C3\",\n  \"cire\":\"\\u2257\",\n  \"cirfnint\":\"\\u2A10\",\n  \"cirmid\":\"\\u2AEF\",\n  \"cirscir\":\"\\u29C2\",\n  \"ClockwiseContourIntegral\":\"\\u2232\",\n  \"CloseCurlyDoubleQuote\":\"\\u201D\",\n  \"CloseCurlyQuote\":\"\\u2019\",\n  \"clubs\":\"\\u2663\",\n  \"clubsuit\":\"\\u2663\",\n  \"Colon\":\"\\u2237\",\n  \"colon\":\"\\u003A\",\n  \"Colone\":\"\\u2A74\",\n  \"colone\":\"\\u2254\",\n  \"coloneq\":\"\\u2254\",\n  \"comma\":\"\\u002C\",\n  \"commat\":\"\\u0040\",\n  \"comp\":\"\\u2201\",\n  \"compfn\":\"\\u2218\",\n  \"complement\":\"\\u2201\",\n  \"complexes\":\"\\u2102\",\n  \"cong\":\"\\u2245\",\n  \"congdot\":\"\\u2A6D\",\n  \"Congruent\":\"\\u2261\",\n  \"Conint\":\"\\u222F\",\n  \"conint\":\"\\u222E\",\n  \"ContourIntegral\":\"\\u222E\",\n  \"Copf\":\"\\u2102\",\n  \"copf\":\"\\uD835\\uDD54\",\n  \"coprod\":\"\\u2210\",\n  \"Coproduct\":\"\\u2210\",\n  \"COPY\":\"\\u00A9\",\n  \"copy\":\"\\u00A9\",\n  \"copysr\":\"\\u2117\",\n  \"CounterClockwiseContourIntegral\":\"\\u2233\",\n  \"crarr\":\"\\u21B5\",\n  \"Cross\":\"\\u2A2F\",\n  \"cross\":\"\\u2717\",\n  \"Cscr\":\"\\uD835\\uDC9E\",\n  \"cscr\":\"\\uD835\\uDCB8\",\n  \"csub\":\"\\u2ACF\",\n  \"csube\":\"\\u2AD1\",\n  \"csup\":\"\\u2AD0\",\n  \"csupe\":\"\\u2AD2\",\n  \"ctdot\":\"\\u22EF\",\n  \"cudarrl\":\"\\u2938\",\n  \"cudarrr\":\"\\u2935\",\n  \"cuepr\":\"\\u22DE\",\n  \"cuesc\":\"\\u22DF\",\n  \"cularr\":\"\\u21B6\",\n  \"cularrp\":\"\\u293D\",\n  \"Cup\":\"\\u22D3\",\n  \"cup\":\"\\u222A\",\n  \"cupbrcap\":\"\\u2A48\",\n  \"CupCap\":\"\\u224D\",\n  \"cupcap\":\"\\u2A46\",\n  \"cupcup\":\"\\u2A4A\",\n  \"cupdot\":\"\\u228D\",\n  \"cupor\":\"\\u2A45\",\n  \"cups\":\"\\u222A\\uFE00\",\n  \"curarr\":\"\\u21B7\",\n  \"curarrm\":\"\\u293C\",\n  \"curlyeqprec\":\"\\u22DE\",\n  \"curlyeqsucc\":\"\\u22DF\",\n  \"curlyvee\":\"\\u22CE\",\n  \"curlywedge\":\"\\u22CF\",\n  \"curren\":\"\\u00A4\",\n  \"curvearrowleft\":\"\\u21B6\",\n  \"curvearrowright\":\"\\u21B7\",\n  \"cuvee\":\"\\u22CE\",\n  \"cuwed\":\"\\u22CF\",\n  \"cwconint\":\"\\u2232\",\n  \"cwint\":\"\\u2231\",\n  \"cylcty\":\"\\u232D\",\n  \"Dagger\":\"\\u2021\",\n  \"dagger\":\"\\u2020\",\n  \"daleth\":\"\\u2138\",\n  \"Darr\":\"\\u21A1\",\n  \"dArr\":\"\\u21D3\",\n  \"darr\":\"\\u2193\",\n  \"dash\":\"\\u2010\",\n  \"Dashv\":\"\\u2AE4\",\n  \"dashv\":\"\\u22A3\",\n  \"dbkarow\":\"\\u290F\",\n  \"dblac\":\"\\u02DD\",\n  \"Dcaron\":\"\\u010E\",\n  \"dcaron\":\"\\u010F\",\n  \"Dcy\":\"\\u0414\",\n  \"dcy\":\"\\u0434\",\n  \"DD\":\"\\u2145\",\n  \"dd\":\"\\u2146\",\n  \"ddagger\":\"\\u2021\",\n  \"ddarr\":\"\\u21CA\",\n  \"DDotrahd\":\"\\u2911\",\n  \"ddotseq\":\"\\u2A77\",\n  \"deg\":\"\\u00B0\",\n  \"Del\":\"\\u2207\",\n  \"Delta\":\"\\u0394\",\n  \"delta\":\"\\u03B4\",\n  \"demptyv\":\"\\u29B1\",\n  \"dfisht\":\"\\u297F\",\n  \"Dfr\":\"\\uD835\\uDD07\",\n  \"dfr\":\"\\uD835\\uDD21\",\n  \"dHar\":\"\\u2965\",\n  \"dharl\":\"\\u21C3\",\n  \"dharr\":\"\\u21C2\",\n  \"DiacriticalAcute\":\"\\u00B4\",\n  \"DiacriticalDot\":\"\\u02D9\",\n  \"DiacriticalDoubleAcute\":\"\\u02DD\",\n  \"DiacriticalGrave\":\"\\u0060\",\n  \"DiacriticalTilde\":\"\\u02DC\",\n  \"diam\":\"\\u22C4\",\n  \"Diamond\":\"\\u22C4\",\n  \"diamond\":\"\\u22C4\",\n  \"diamondsuit\":\"\\u2666\",\n  \"diams\":\"\\u2666\",\n  \"die\":\"\\u00A8\",\n  \"DifferentialD\":\"\\u2146\",\n  \"digamma\":\"\\u03DD\",\n  \"disin\":\"\\u22F2\",\n  \"div\":\"\\u00F7\",\n  \"divide\":\"\\u00F7\",\n  \"divideontimes\":\"\\u22C7\",\n  \"divonx\":\"\\u22C7\",\n  \"DJcy\":\"\\u0402\",\n  \"djcy\":\"\\u0452\",\n  \"dlcorn\":\"\\u231E\",\n  \"dlcrop\":\"\\u230D\",\n  \"dollar\":\"\\u0024\",\n  \"Dopf\":\"\\uD835\\uDD3B\",\n  \"dopf\":\"\\uD835\\uDD55\",\n  \"Dot\":\"\\u00A8\",\n  \"dot\":\"\\u02D9\",\n  \"DotDot\":\"\\u20DC\",\n  \"doteq\":\"\\u2250\",\n  \"doteqdot\":\"\\u2251\",\n  \"DotEqual\":\"\\u2250\",\n  \"dotminus\":\"\\u2238\",\n  \"dotplus\":\"\\u2214\",\n  \"dotsquare\":\"\\u22A1\",\n  \"doublebarwedge\":\"\\u2306\",\n  \"DoubleContourIntegral\":\"\\u222F\",\n  \"DoubleDot\":\"\\u00A8\",\n  \"DoubleDownArrow\":\"\\u21D3\",\n  \"DoubleLeftArrow\":\"\\u21D0\",\n  \"DoubleLeftRightArrow\":\"\\u21D4\",\n  \"DoubleLeftTee\":\"\\u2AE4\",\n  \"DoubleLongLeftArrow\":\"\\u27F8\",\n  \"DoubleLongLeftRightArrow\":\"\\u27FA\",\n  \"DoubleLongRightArrow\":\"\\u27F9\",\n  \"DoubleRightArrow\":\"\\u21D2\",\n  \"DoubleRightTee\":\"\\u22A8\",\n  \"DoubleUpArrow\":\"\\u21D1\",\n  \"DoubleUpDownArrow\":\"\\u21D5\",\n  \"DoubleVerticalBar\":\"\\u2225\",\n  \"DownArrow\":\"\\u2193\",\n  \"Downarrow\":\"\\u21D3\",\n  \"downarrow\":\"\\u2193\",\n  \"DownArrowBar\":\"\\u2913\",\n  \"DownArrowUpArrow\":\"\\u21F5\",\n  \"DownBreve\":\"\\u0311\",\n  \"downdownarrows\":\"\\u21CA\",\n  \"downharpoonleft\":\"\\u21C3\",\n  \"downharpoonright\":\"\\u21C2\",\n  \"DownLeftRightVector\":\"\\u2950\",\n  \"DownLeftTeeVector\":\"\\u295E\",\n  \"DownLeftVector\":\"\\u21BD\",\n  \"DownLeftVectorBar\":\"\\u2956\",\n  \"DownRightTeeVector\":\"\\u295F\",\n  \"DownRightVector\":\"\\u21C1\",\n  \"DownRightVectorBar\":\"\\u2957\",\n  \"DownTee\":\"\\u22A4\",\n  \"DownTeeArrow\":\"\\u21A7\",\n  \"drbkarow\":\"\\u2910\",\n  \"drcorn\":\"\\u231F\",\n  \"drcrop\":\"\\u230C\",\n  \"Dscr\":\"\\uD835\\uDC9F\",\n  \"dscr\":\"\\uD835\\uDCB9\",\n  \"DScy\":\"\\u0405\",\n  \"dscy\":\"\\u0455\",\n  \"dsol\":\"\\u29F6\",\n  \"Dstrok\":\"\\u0110\",\n  \"dstrok\":\"\\u0111\",\n  \"dtdot\":\"\\u22F1\",\n  \"dtri\":\"\\u25BF\",\n  \"dtrif\":\"\\u25BE\",\n  \"duarr\":\"\\u21F5\",\n  \"duhar\":\"\\u296F\",\n  \"dwangle\":\"\\u29A6\",\n  \"DZcy\":\"\\u040F\",\n  \"dzcy\":\"\\u045F\",\n  \"dzigrarr\":\"\\u27FF\",\n  \"Eacute\":\"\\u00C9\",\n  \"eacute\":\"\\u00E9\",\n  \"easter\":\"\\u2A6E\",\n  \"Ecaron\":\"\\u011A\",\n  \"ecaron\":\"\\u011B\",\n  \"ecir\":\"\\u2256\",\n  \"Ecirc\":\"\\u00CA\",\n  \"ecirc\":\"\\u00EA\",\n  \"ecolon\":\"\\u2255\",\n  \"Ecy\":\"\\u042D\",\n  \"ecy\":\"\\u044D\",\n  \"eDDot\":\"\\u2A77\",\n  \"Edot\":\"\\u0116\",\n  \"eDot\":\"\\u2251\",\n  \"edot\":\"\\u0117\",\n  \"ee\":\"\\u2147\",\n  \"efDot\":\"\\u2252\",\n  \"Efr\":\"\\uD835\\uDD08\",\n  \"efr\":\"\\uD835\\uDD22\",\n  \"eg\":\"\\u2A9A\",\n  \"Egrave\":\"\\u00C8\",\n  \"egrave\":\"\\u00E8\",\n  \"egs\":\"\\u2A96\",\n  \"egsdot\":\"\\u2A98\",\n  \"el\":\"\\u2A99\",\n  \"Element\":\"\\u2208\",\n  \"elinters\":\"\\u23E7\",\n  \"ell\":\"\\u2113\",\n  \"els\":\"\\u2A95\",\n  \"elsdot\":\"\\u2A97\",\n  \"Emacr\":\"\\u0112\",\n  \"emacr\":\"\\u0113\",\n  \"empty\":\"\\u2205\",\n  \"emptyset\":\"\\u2205\",\n  \"EmptySmallSquare\":\"\\u25FB\",\n  \"emptyv\":\"\\u2205\",\n  \"EmptyVerySmallSquare\":\"\\u25AB\",\n  \"emsp\":\"\\u2003\",\n  \"emsp13\":\"\\u2004\",\n  \"emsp14\":\"\\u2005\",\n  \"ENG\":\"\\u014A\",\n  \"eng\":\"\\u014B\",\n  \"ensp\":\"\\u2002\",\n  \"Eogon\":\"\\u0118\",\n  \"eogon\":\"\\u0119\",\n  \"Eopf\":\"\\uD835\\uDD3C\",\n  \"eopf\":\"\\uD835\\uDD56\",\n  \"epar\":\"\\u22D5\",\n  \"eparsl\":\"\\u29E3\",\n  \"eplus\":\"\\u2A71\",\n  \"epsi\":\"\\u03B5\",\n  \"Epsilon\":\"\\u0395\",\n  \"epsilon\":\"\\u03B5\",\n  \"epsiv\":\"\\u03F5\",\n  \"eqcirc\":\"\\u2256\",\n  \"eqcolon\":\"\\u2255\",\n  \"eqsim\":\"\\u2242\",\n  \"eqslantgtr\":\"\\u2A96\",\n  \"eqslantless\":\"\\u2A95\",\n  \"Equal\":\"\\u2A75\",\n  \"equals\":\"\\u003D\",\n  \"EqualTilde\":\"\\u2242\",\n  \"equest\":\"\\u225F\",\n  \"Equilibrium\":\"\\u21CC\",\n  \"equiv\":\"\\u2261\",\n  \"equivDD\":\"\\u2A78\",\n  \"eqvparsl\":\"\\u29E5\",\n  \"erarr\":\"\\u2971\",\n  \"erDot\":\"\\u2253\",\n  \"Escr\":\"\\u2130\",\n  \"escr\":\"\\u212F\",\n  \"esdot\":\"\\u2250\",\n  \"Esim\":\"\\u2A73\",\n  \"esim\":\"\\u2242\",\n  \"Eta\":\"\\u0397\",\n  \"eta\":\"\\u03B7\",\n  \"ETH\":\"\\u00D0\",\n  \"eth\":\"\\u00F0\",\n  \"Euml\":\"\\u00CB\",\n  \"euml\":\"\\u00EB\",\n  \"euro\":\"\\u20AC\",\n  \"excl\":\"\\u0021\",\n  \"exist\":\"\\u2203\",\n  \"Exists\":\"\\u2203\",\n  \"expectation\":\"\\u2130\",\n  \"ExponentialE\":\"\\u2147\",\n  \"exponentiale\":\"\\u2147\",\n  \"fallingdotseq\":\"\\u2252\",\n  \"Fcy\":\"\\u0424\",\n  \"fcy\":\"\\u0444\",\n  \"female\":\"\\u2640\",\n  \"ffilig\":\"\\uFB03\",\n  \"fflig\":\"\\uFB00\",\n  \"ffllig\":\"\\uFB04\",\n  \"Ffr\":\"\\uD835\\uDD09\",\n  \"ffr\":\"\\uD835\\uDD23\",\n  \"filig\":\"\\uFB01\",\n  \"FilledSmallSquare\":\"\\u25FC\",\n  \"FilledVerySmallSquare\":\"\\u25AA\",\n  \"fjlig\":\"\\u0066\\u006A\",\n  \"flat\":\"\\u266D\",\n  \"fllig\":\"\\uFB02\",\n  \"fltns\":\"\\u25B1\",\n  \"fnof\":\"\\u0192\",\n  \"Fopf\":\"\\uD835\\uDD3D\",\n  \"fopf\":\"\\uD835\\uDD57\",\n  \"ForAll\":\"\\u2200\",\n  \"forall\":\"\\u2200\",\n  \"fork\":\"\\u22D4\",\n  \"forkv\":\"\\u2AD9\",\n  \"Fouriertrf\":\"\\u2131\",\n  \"fpartint\":\"\\u2A0D\",\n  \"frac12\":\"\\u00BD\",\n  \"frac13\":\"\\u2153\",\n  \"frac14\":\"\\u00BC\",\n  \"frac15\":\"\\u2155\",\n  \"frac16\":\"\\u2159\",\n  \"frac18\":\"\\u215B\",\n  \"frac23\":\"\\u2154\",\n  \"frac25\":\"\\u2156\",\n  \"frac34\":\"\\u00BE\",\n  \"frac35\":\"\\u2157\",\n  \"frac38\":\"\\u215C\",\n  \"frac45\":\"\\u2158\",\n  \"frac56\":\"\\u215A\",\n  \"frac58\":\"\\u215D\",\n  \"frac78\":\"\\u215E\",\n  \"frasl\":\"\\u2044\",\n  \"frown\":\"\\u2322\",\n  \"Fscr\":\"\\u2131\",\n  \"fscr\":\"\\uD835\\uDCBB\",\n  \"gacute\":\"\\u01F5\",\n  \"Gamma\":\"\\u0393\",\n  \"gamma\":\"\\u03B3\",\n  \"Gammad\":\"\\u03DC\",\n  \"gammad\":\"\\u03DD\",\n  \"gap\":\"\\u2A86\",\n  \"Gbreve\":\"\\u011E\",\n  \"gbreve\":\"\\u011F\",\n  \"Gcedil\":\"\\u0122\",\n  \"Gcirc\":\"\\u011C\",\n  \"gcirc\":\"\\u011D\",\n  \"Gcy\":\"\\u0413\",\n  \"gcy\":\"\\u0433\",\n  \"Gdot\":\"\\u0120\",\n  \"gdot\":\"\\u0121\",\n  \"gE\":\"\\u2267\",\n  \"ge\":\"\\u2265\",\n  \"gEl\":\"\\u2A8C\",\n  \"gel\":\"\\u22DB\",\n  \"geq\":\"\\u2265\",\n  \"geqq\":\"\\u2267\",\n  \"geqslant\":\"\\u2A7E\",\n  \"ges\":\"\\u2A7E\",\n  \"gescc\":\"\\u2AA9\",\n  \"gesdot\":\"\\u2A80\",\n  \"gesdoto\":\"\\u2A82\",\n  \"gesdotol\":\"\\u2A84\",\n  \"gesl\":\"\\u22DB\\uFE00\",\n  \"gesles\":\"\\u2A94\",\n  \"Gfr\":\"\\uD835\\uDD0A\",\n  \"gfr\":\"\\uD835\\uDD24\",\n  \"Gg\":\"\\u22D9\",\n  \"gg\":\"\\u226B\",\n  \"ggg\":\"\\u22D9\",\n  \"gimel\":\"\\u2137\",\n  \"GJcy\":\"\\u0403\",\n  \"gjcy\":\"\\u0453\",\n  \"gl\":\"\\u2277\",\n  \"gla\":\"\\u2AA5\",\n  \"glE\":\"\\u2A92\",\n  \"glj\":\"\\u2AA4\",\n  \"gnap\":\"\\u2A8A\",\n  \"gnapprox\":\"\\u2A8A\",\n  \"gnE\":\"\\u2269\",\n  \"gne\":\"\\u2A88\",\n  \"gneq\":\"\\u2A88\",\n  \"gneqq\":\"\\u2269\",\n  \"gnsim\":\"\\u22E7\",\n  \"Gopf\":\"\\uD835\\uDD3E\",\n  \"gopf\":\"\\uD835\\uDD58\",\n  \"grave\":\"\\u0060\",\n  \"GreaterEqual\":\"\\u2265\",\n  \"GreaterEqualLess\":\"\\u22DB\",\n  \"GreaterFullEqual\":\"\\u2267\",\n  \"GreaterGreater\":\"\\u2AA2\",\n  \"GreaterLess\":\"\\u2277\",\n  \"GreaterSlantEqual\":\"\\u2A7E\",\n  \"GreaterTilde\":\"\\u2273\",\n  \"Gscr\":\"\\uD835\\uDCA2\",\n  \"gscr\":\"\\u210A\",\n  \"gsim\":\"\\u2273\",\n  \"gsime\":\"\\u2A8E\",\n  \"gsiml\":\"\\u2A90\",\n  \"GT\":\"\\u003E\",\n  \"Gt\":\"\\u226B\",\n  \"gt\":\"\\u003E\",\n  \"gtcc\":\"\\u2AA7\",\n  \"gtcir\":\"\\u2A7A\",\n  \"gtdot\":\"\\u22D7\",\n  \"gtlPar\":\"\\u2995\",\n  \"gtquest\":\"\\u2A7C\",\n  \"gtrapprox\":\"\\u2A86\",\n  \"gtrarr\":\"\\u2978\",\n  \"gtrdot\":\"\\u22D7\",\n  \"gtreqless\":\"\\u22DB\",\n  \"gtreqqless\":\"\\u2A8C\",\n  \"gtrless\":\"\\u2277\",\n  \"gtrsim\":\"\\u2273\",\n  \"gvertneqq\":\"\\u2269\\uFE00\",\n  \"gvnE\":\"\\u2269\\uFE00\",\n  \"Hacek\":\"\\u02C7\",\n  \"hairsp\":\"\\u200A\",\n  \"half\":\"\\u00BD\",\n  \"hamilt\":\"\\u210B\",\n  \"HARDcy\":\"\\u042A\",\n  \"hardcy\":\"\\u044A\",\n  \"hArr\":\"\\u21D4\",\n  \"harr\":\"\\u2194\",\n  \"harrcir\":\"\\u2948\",\n  \"harrw\":\"\\u21AD\",\n  \"Hat\":\"\\u005E\",\n  \"hbar\":\"\\u210F\",\n  \"Hcirc\":\"\\u0124\",\n  \"hcirc\":\"\\u0125\",\n  \"hearts\":\"\\u2665\",\n  \"heartsuit\":\"\\u2665\",\n  \"hellip\":\"\\u2026\",\n  \"hercon\":\"\\u22B9\",\n  \"Hfr\":\"\\u210C\",\n  \"hfr\":\"\\uD835\\uDD25\",\n  \"HilbertSpace\":\"\\u210B\",\n  \"hksearow\":\"\\u2925\",\n  \"hkswarow\":\"\\u2926\",\n  \"hoarr\":\"\\u21FF\",\n  \"homtht\":\"\\u223B\",\n  \"hookleftarrow\":\"\\u21A9\",\n  \"hookrightarrow\":\"\\u21AA\",\n  \"Hopf\":\"\\u210D\",\n  \"hopf\":\"\\uD835\\uDD59\",\n  \"horbar\":\"\\u2015\",\n  \"HorizontalLine\":\"\\u2500\",\n  \"Hscr\":\"\\u210B\",\n  \"hscr\":\"\\uD835\\uDCBD\",\n  \"hslash\":\"\\u210F\",\n  \"Hstrok\":\"\\u0126\",\n  \"hstrok\":\"\\u0127\",\n  \"HumpDownHump\":\"\\u224E\",\n  \"HumpEqual\":\"\\u224F\",\n  \"hybull\":\"\\u2043\",\n  \"hyphen\":\"\\u2010\",\n  \"Iacute\":\"\\u00CD\",\n  \"iacute\":\"\\u00ED\",\n  \"ic\":\"\\u2063\",\n  \"Icirc\":\"\\u00CE\",\n  \"icirc\":\"\\u00EE\",\n  \"Icy\":\"\\u0418\",\n  \"icy\":\"\\u0438\",\n  \"Idot\":\"\\u0130\",\n  \"IEcy\":\"\\u0415\",\n  \"iecy\":\"\\u0435\",\n  \"iexcl\":\"\\u00A1\",\n  \"iff\":\"\\u21D4\",\n  \"Ifr\":\"\\u2111\",\n  \"ifr\":\"\\uD835\\uDD26\",\n  \"Igrave\":\"\\u00CC\",\n  \"igrave\":\"\\u00EC\",\n  \"ii\":\"\\u2148\",\n  \"iiiint\":\"\\u2A0C\",\n  \"iiint\":\"\\u222D\",\n  \"iinfin\":\"\\u29DC\",\n  \"iiota\":\"\\u2129\",\n  \"IJlig\":\"\\u0132\",\n  \"ijlig\":\"\\u0133\",\n  \"Im\":\"\\u2111\",\n  \"Imacr\":\"\\u012A\",\n  \"imacr\":\"\\u012B\",\n  \"image\":\"\\u2111\",\n  \"ImaginaryI\":\"\\u2148\",\n  \"imagline\":\"\\u2110\",\n  \"imagpart\":\"\\u2111\",\n  \"imath\":\"\\u0131\",\n  \"imof\":\"\\u22B7\",\n  \"imped\":\"\\u01B5\",\n  \"Implies\":\"\\u21D2\",\n  \"in\":\"\\u2208\",\n  \"incare\":\"\\u2105\",\n  \"infin\":\"\\u221E\",\n  \"infintie\":\"\\u29DD\",\n  \"inodot\":\"\\u0131\",\n  \"Int\":\"\\u222C\",\n  \"int\":\"\\u222B\",\n  \"intcal\":\"\\u22BA\",\n  \"integers\":\"\\u2124\",\n  \"Integral\":\"\\u222B\",\n  \"intercal\":\"\\u22BA\",\n  \"Intersection\":\"\\u22C2\",\n  \"intlarhk\":\"\\u2A17\",\n  \"intprod\":\"\\u2A3C\",\n  \"InvisibleComma\":\"\\u2063\",\n  \"InvisibleTimes\":\"\\u2062\",\n  \"IOcy\":\"\\u0401\",\n  \"iocy\":\"\\u0451\",\n  \"Iogon\":\"\\u012E\",\n  \"iogon\":\"\\u012F\",\n  \"Iopf\":\"\\uD835\\uDD40\",\n  \"iopf\":\"\\uD835\\uDD5A\",\n  \"Iota\":\"\\u0399\",\n  \"iota\":\"\\u03B9\",\n  \"iprod\":\"\\u2A3C\",\n  \"iquest\":\"\\u00BF\",\n  \"Iscr\":\"\\u2110\",\n  \"iscr\":\"\\uD835\\uDCBE\",\n  \"isin\":\"\\u2208\",\n  \"isindot\":\"\\u22F5\",\n  \"isinE\":\"\\u22F9\",\n  \"isins\":\"\\u22F4\",\n  \"isinsv\":\"\\u22F3\",\n  \"isinv\":\"\\u2208\",\n  \"it\":\"\\u2062\",\n  \"Itilde\":\"\\u0128\",\n  \"itilde\":\"\\u0129\",\n  \"Iukcy\":\"\\u0406\",\n  \"iukcy\":\"\\u0456\",\n  \"Iuml\":\"\\u00CF\",\n  \"iuml\":\"\\u00EF\",\n  \"Jcirc\":\"\\u0134\",\n  \"jcirc\":\"\\u0135\",\n  \"Jcy\":\"\\u0419\",\n  \"jcy\":\"\\u0439\",\n  \"Jfr\":\"\\uD835\\uDD0D\",\n  \"jfr\":\"\\uD835\\uDD27\",\n  \"jmath\":\"\\u0237\",\n  \"Jopf\":\"\\uD835\\uDD41\",\n  \"jopf\":\"\\uD835\\uDD5B\",\n  \"Jscr\":\"\\uD835\\uDCA5\",\n  \"jscr\":\"\\uD835\\uDCBF\",\n  \"Jsercy\":\"\\u0408\",\n  \"jsercy\":\"\\u0458\",\n  \"Jukcy\":\"\\u0404\",\n  \"jukcy\":\"\\u0454\",\n  \"Kappa\":\"\\u039A\",\n  \"kappa\":\"\\u03BA\",\n  \"kappav\":\"\\u03F0\",\n  \"Kcedil\":\"\\u0136\",\n  \"kcedil\":\"\\u0137\",\n  \"Kcy\":\"\\u041A\",\n  \"kcy\":\"\\u043A\",\n  \"Kfr\":\"\\uD835\\uDD0E\",\n  \"kfr\":\"\\uD835\\uDD28\",\n  \"kgreen\":\"\\u0138\",\n  \"KHcy\":\"\\u0425\",\n  \"khcy\":\"\\u0445\",\n  \"KJcy\":\"\\u040C\",\n  \"kjcy\":\"\\u045C\",\n  \"Kopf\":\"\\uD835\\uDD42\",\n  \"kopf\":\"\\uD835\\uDD5C\",\n  \"Kscr\":\"\\uD835\\uDCA6\",\n  \"kscr\":\"\\uD835\\uDCC0\",\n  \"lAarr\":\"\\u21DA\",\n  \"Lacute\":\"\\u0139\",\n  \"lacute\":\"\\u013A\",\n  \"laemptyv\":\"\\u29B4\",\n  \"lagran\":\"\\u2112\",\n  \"Lambda\":\"\\u039B\",\n  \"lambda\":\"\\u03BB\",\n  \"Lang\":\"\\u27EA\",\n  \"lang\":\"\\u27E8\",\n  \"langd\":\"\\u2991\",\n  \"langle\":\"\\u27E8\",\n  \"lap\":\"\\u2A85\",\n  \"Laplacetrf\":\"\\u2112\",\n  \"laquo\":\"\\u00AB\",\n  \"Larr\":\"\\u219E\",\n  \"lArr\":\"\\u21D0\",\n  \"larr\":\"\\u2190\",\n  \"larrb\":\"\\u21E4\",\n  \"larrbfs\":\"\\u291F\",\n  \"larrfs\":\"\\u291D\",\n  \"larrhk\":\"\\u21A9\",\n  \"larrlp\":\"\\u21AB\",\n  \"larrpl\":\"\\u2939\",\n  \"larrsim\":\"\\u2973\",\n  \"larrtl\":\"\\u21A2\",\n  \"lat\":\"\\u2AAB\",\n  \"lAtail\":\"\\u291B\",\n  \"latail\":\"\\u2919\",\n  \"late\":\"\\u2AAD\",\n  \"lates\":\"\\u2AAD\\uFE00\",\n  \"lBarr\":\"\\u290E\",\n  \"lbarr\":\"\\u290C\",\n  \"lbbrk\":\"\\u2772\",\n  \"lbrace\":\"\\u007B\",\n  \"lbrack\":\"\\u005B\",\n  \"lbrke\":\"\\u298B\",\n  \"lbrksld\":\"\\u298F\",\n  \"lbrkslu\":\"\\u298D\",\n  \"Lcaron\":\"\\u013D\",\n  \"lcaron\":\"\\u013E\",\n  \"Lcedil\":\"\\u013B\",\n  \"lcedil\":\"\\u013C\",\n  \"lceil\":\"\\u2308\",\n  \"lcub\":\"\\u007B\",\n  \"Lcy\":\"\\u041B\",\n  \"lcy\":\"\\u043B\",\n  \"ldca\":\"\\u2936\",\n  \"ldquo\":\"\\u201C\",\n  \"ldquor\":\"\\u201E\",\n  \"ldrdhar\":\"\\u2967\",\n  \"ldrushar\":\"\\u294B\",\n  \"ldsh\":\"\\u21B2\",\n  \"lE\":\"\\u2266\",\n  \"le\":\"\\u2264\",\n  \"LeftAngleBracket\":\"\\u27E8\",\n  \"LeftArrow\":\"\\u2190\",\n  \"Leftarrow\":\"\\u21D0\",\n  \"leftarrow\":\"\\u2190\",\n  \"LeftArrowBar\":\"\\u21E4\",\n  \"LeftArrowRightArrow\":\"\\u21C6\",\n  \"leftarrowtail\":\"\\u21A2\",\n  \"LeftCeiling\":\"\\u2308\",\n  \"LeftDoubleBracket\":\"\\u27E6\",\n  \"LeftDownTeeVector\":\"\\u2961\",\n  \"LeftDownVector\":\"\\u21C3\",\n  \"LeftDownVectorBar\":\"\\u2959\",\n  \"LeftFloor\":\"\\u230A\",\n  \"leftharpoondown\":\"\\u21BD\",\n  \"leftharpoonup\":\"\\u21BC\",\n  \"leftleftarrows\":\"\\u21C7\",\n  \"LeftRightArrow\":\"\\u2194\",\n  \"Leftrightarrow\":\"\\u21D4\",\n  \"leftrightarrow\":\"\\u2194\",\n  \"leftrightarrows\":\"\\u21C6\",\n  \"leftrightharpoons\":\"\\u21CB\",\n  \"leftrightsquigarrow\":\"\\u21AD\",\n  \"LeftRightVector\":\"\\u294E\",\n  \"LeftTee\":\"\\u22A3\",\n  \"LeftTeeArrow\":\"\\u21A4\",\n  \"LeftTeeVector\":\"\\u295A\",\n  \"leftthreetimes\":\"\\u22CB\",\n  \"LeftTriangle\":\"\\u22B2\",\n  \"LeftTriangleBar\":\"\\u29CF\",\n  \"LeftTriangleEqual\":\"\\u22B4\",\n  \"LeftUpDownVector\":\"\\u2951\",\n  \"LeftUpTeeVector\":\"\\u2960\",\n  \"LeftUpVector\":\"\\u21BF\",\n  \"LeftUpVectorBar\":\"\\u2958\",\n  \"LeftVector\":\"\\u21BC\",\n  \"LeftVectorBar\":\"\\u2952\",\n  \"lEg\":\"\\u2A8B\",\n  \"leg\":\"\\u22DA\",\n  \"leq\":\"\\u2264\",\n  \"leqq\":\"\\u2266\",\n  \"leqslant\":\"\\u2A7D\",\n  \"les\":\"\\u2A7D\",\n  \"lescc\":\"\\u2AA8\",\n  \"lesdot\":\"\\u2A7F\",\n  \"lesdoto\":\"\\u2A81\",\n  \"lesdotor\":\"\\u2A83\",\n  \"lesg\":\"\\u22DA\\uFE00\",\n  \"lesges\":\"\\u2A93\",\n  \"lessapprox\":\"\\u2A85\",\n  \"lessdot\":\"\\u22D6\",\n  \"lesseqgtr\":\"\\u22DA\",\n  \"lesseqqgtr\":\"\\u2A8B\",\n  \"LessEqualGreater\":\"\\u22DA\",\n  \"LessFullEqual\":\"\\u2266\",\n  \"LessGreater\":\"\\u2276\",\n  \"lessgtr\":\"\\u2276\",\n  \"LessLess\":\"\\u2AA1\",\n  \"lesssim\":\"\\u2272\",\n  \"LessSlantEqual\":\"\\u2A7D\",\n  \"LessTilde\":\"\\u2272\",\n  \"lfisht\":\"\\u297C\",\n  \"lfloor\":\"\\u230A\",\n  \"Lfr\":\"\\uD835\\uDD0F\",\n  \"lfr\":\"\\uD835\\uDD29\",\n  \"lg\":\"\\u2276\",\n  \"lgE\":\"\\u2A91\",\n  \"lHar\":\"\\u2962\",\n  \"lhard\":\"\\u21BD\",\n  \"lharu\":\"\\u21BC\",\n  \"lharul\":\"\\u296A\",\n  \"lhblk\":\"\\u2584\",\n  \"LJcy\":\"\\u0409\",\n  \"ljcy\":\"\\u0459\",\n  \"Ll\":\"\\u22D8\",\n  \"ll\":\"\\u226A\",\n  \"llarr\":\"\\u21C7\",\n  \"llcorner\":\"\\u231E\",\n  \"Lleftarrow\":\"\\u21DA\",\n  \"llhard\":\"\\u296B\",\n  \"lltri\":\"\\u25FA\",\n  \"Lmidot\":\"\\u013F\",\n  \"lmidot\":\"\\u0140\",\n  \"lmoust\":\"\\u23B0\",\n  \"lmoustache\":\"\\u23B0\",\n  \"lnap\":\"\\u2A89\",\n  \"lnapprox\":\"\\u2A89\",\n  \"lnE\":\"\\u2268\",\n  \"lne\":\"\\u2A87\",\n  \"lneq\":\"\\u2A87\",\n  \"lneqq\":\"\\u2268\",\n  \"lnsim\":\"\\u22E6\",\n  \"loang\":\"\\u27EC\",\n  \"loarr\":\"\\u21FD\",\n  \"lobrk\":\"\\u27E6\",\n  \"LongLeftArrow\":\"\\u27F5\",\n  \"Longleftarrow\":\"\\u27F8\",\n  \"longleftarrow\":\"\\u27F5\",\n  \"LongLeftRightArrow\":\"\\u27F7\",\n  \"Longleftrightarrow\":\"\\u27FA\",\n  \"longleftrightarrow\":\"\\u27F7\",\n  \"longmapsto\":\"\\u27FC\",\n  \"LongRightArrow\":\"\\u27F6\",\n  \"Longrightarrow\":\"\\u27F9\",\n  \"longrightarrow\":\"\\u27F6\",\n  \"looparrowleft\":\"\\u21AB\",\n  \"looparrowright\":\"\\u21AC\",\n  \"lopar\":\"\\u2985\",\n  \"Lopf\":\"\\uD835\\uDD43\",\n  \"lopf\":\"\\uD835\\uDD5D\",\n  \"loplus\":\"\\u2A2D\",\n  \"lotimes\":\"\\u2A34\",\n  \"lowast\":\"\\u2217\",\n  \"lowbar\":\"\\u005F\",\n  \"LowerLeftArrow\":\"\\u2199\",\n  \"LowerRightArrow\":\"\\u2198\",\n  \"loz\":\"\\u25CA\",\n  \"lozenge\":\"\\u25CA\",\n  \"lozf\":\"\\u29EB\",\n  \"lpar\":\"\\u0028\",\n  \"lparlt\":\"\\u2993\",\n  \"lrarr\":\"\\u21C6\",\n  \"lrcorner\":\"\\u231F\",\n  \"lrhar\":\"\\u21CB\",\n  \"lrhard\":\"\\u296D\",\n  \"lrm\":\"\\u200E\",\n  \"lrtri\":\"\\u22BF\",\n  \"lsaquo\":\"\\u2039\",\n  \"Lscr\":\"\\u2112\",\n  \"lscr\":\"\\uD835\\uDCC1\",\n  \"Lsh\":\"\\u21B0\",\n  \"lsh\":\"\\u21B0\",\n  \"lsim\":\"\\u2272\",\n  \"lsime\":\"\\u2A8D\",\n  \"lsimg\":\"\\u2A8F\",\n  \"lsqb\":\"\\u005B\",\n  \"lsquo\":\"\\u2018\",\n  \"lsquor\":\"\\u201A\",\n  \"Lstrok\":\"\\u0141\",\n  \"lstrok\":\"\\u0142\",\n  \"LT\":\"\\u003C\",\n  \"Lt\":\"\\u226A\",\n  \"lt\":\"\\u003C\",\n  \"ltcc\":\"\\u2AA6\",\n  \"ltcir\":\"\\u2A79\",\n  \"ltdot\":\"\\u22D6\",\n  \"lthree\":\"\\u22CB\",\n  \"ltimes\":\"\\u22C9\",\n  \"ltlarr\":\"\\u2976\",\n  \"ltquest\":\"\\u2A7B\",\n  \"ltri\":\"\\u25C3\",\n  \"ltrie\":\"\\u22B4\",\n  \"ltrif\":\"\\u25C2\",\n  \"ltrPar\":\"\\u2996\",\n  \"lurdshar\":\"\\u294A\",\n  \"luruhar\":\"\\u2966\",\n  \"lvertneqq\":\"\\u2268\\uFE00\",\n  \"lvnE\":\"\\u2268\\uFE00\",\n  \"macr\":\"\\u00AF\",\n  \"male\":\"\\u2642\",\n  \"malt\":\"\\u2720\",\n  \"maltese\":\"\\u2720\",\n  \"Map\":\"\\u2905\",\n  \"map\":\"\\u21A6\",\n  \"mapsto\":\"\\u21A6\",\n  \"mapstodown\":\"\\u21A7\",\n  \"mapstoleft\":\"\\u21A4\",\n  \"mapstoup\":\"\\u21A5\",\n  \"marker\":\"\\u25AE\",\n  \"mcomma\":\"\\u2A29\",\n  \"Mcy\":\"\\u041C\",\n  \"mcy\":\"\\u043C\",\n  \"mdash\":\"\\u2014\",\n  \"mDDot\":\"\\u223A\",\n  \"measuredangle\":\"\\u2221\",\n  \"MediumSpace\":\"\\u205F\",\n  \"Mellintrf\":\"\\u2133\",\n  \"Mfr\":\"\\uD835\\uDD10\",\n  \"mfr\":\"\\uD835\\uDD2A\",\n  \"mho\":\"\\u2127\",\n  \"micro\":\"\\u00B5\",\n  \"mid\":\"\\u2223\",\n  \"midast\":\"\\u002A\",\n  \"midcir\":\"\\u2AF0\",\n  \"middot\":\"\\u00B7\",\n  \"minus\":\"\\u2212\",\n  \"minusb\":\"\\u229F\",\n  \"minusd\":\"\\u2238\",\n  \"minusdu\":\"\\u2A2A\",\n  \"MinusPlus\":\"\\u2213\",\n  \"mlcp\":\"\\u2ADB\",\n  \"mldr\":\"\\u2026\",\n  \"mnplus\":\"\\u2213\",\n  \"models\":\"\\u22A7\",\n  \"Mopf\":\"\\uD835\\uDD44\",\n  \"mopf\":\"\\uD835\\uDD5E\",\n  \"mp\":\"\\u2213\",\n  \"Mscr\":\"\\u2133\",\n  \"mscr\":\"\\uD835\\uDCC2\",\n  \"mstpos\":\"\\u223E\",\n  \"Mu\":\"\\u039C\",\n  \"mu\":\"\\u03BC\",\n  \"multimap\":\"\\u22B8\",\n  \"mumap\":\"\\u22B8\",\n  \"nabla\":\"\\u2207\",\n  \"Nacute\":\"\\u0143\",\n  \"nacute\":\"\\u0144\",\n  \"nang\":\"\\u2220\\u20D2\",\n  \"nap\":\"\\u2249\",\n  \"napE\":\"\\u2A70\\u0338\",\n  \"napid\":\"\\u224B\\u0338\",\n  \"napos\":\"\\u0149\",\n  \"napprox\":\"\\u2249\",\n  \"natur\":\"\\u266E\",\n  \"natural\":\"\\u266E\",\n  \"naturals\":\"\\u2115\",\n  \"nbsp\":\"\\u00A0\",\n  \"nbump\":\"\\u224E\\u0338\",\n  \"nbumpe\":\"\\u224F\\u0338\",\n  \"ncap\":\"\\u2A43\",\n  \"Ncaron\":\"\\u0147\",\n  \"ncaron\":\"\\u0148\",\n  \"Ncedil\":\"\\u0145\",\n  \"ncedil\":\"\\u0146\",\n  \"ncong\":\"\\u2247\",\n  \"ncongdot\":\"\\u2A6D\\u0338\",\n  \"ncup\":\"\\u2A42\",\n  \"Ncy\":\"\\u041D\",\n  \"ncy\":\"\\u043D\",\n  \"ndash\":\"\\u2013\",\n  \"ne\":\"\\u2260\",\n  \"nearhk\":\"\\u2924\",\n  \"neArr\":\"\\u21D7\",\n  \"nearr\":\"\\u2197\",\n  \"nearrow\":\"\\u2197\",\n  \"nedot\":\"\\u2250\\u0338\",\n  \"NegativeMediumSpace\":\"\\u200B\",\n  \"NegativeThickSpace\":\"\\u200B\",\n  \"NegativeThinSpace\":\"\\u200B\",\n  \"NegativeVeryThinSpace\":\"\\u200B\",\n  \"nequiv\":\"\\u2262\",\n  \"nesear\":\"\\u2928\",\n  \"nesim\":\"\\u2242\\u0338\",\n  \"NestedGreaterGreater\":\"\\u226B\",\n  \"NestedLessLess\":\"\\u226A\",\n  \"NewLine\":\"\\u000A\",\n  \"nexist\":\"\\u2204\",\n  \"nexists\":\"\\u2204\",\n  \"Nfr\":\"\\uD835\\uDD11\",\n  \"nfr\":\"\\uD835\\uDD2B\",\n  \"ngE\":\"\\u2267\\u0338\",\n  \"nge\":\"\\u2271\",\n  \"ngeq\":\"\\u2271\",\n  \"ngeqq\":\"\\u2267\\u0338\",\n  \"ngeqslant\":\"\\u2A7E\\u0338\",\n  \"nges\":\"\\u2A7E\\u0338\",\n  \"nGg\":\"\\u22D9\\u0338\",\n  \"ngsim\":\"\\u2275\",\n  \"nGt\":\"\\u226B\\u20D2\",\n  \"ngt\":\"\\u226F\",\n  \"ngtr\":\"\\u226F\",\n  \"nGtv\":\"\\u226B\\u0338\",\n  \"nhArr\":\"\\u21CE\",\n  \"nharr\":\"\\u21AE\",\n  \"nhpar\":\"\\u2AF2\",\n  \"ni\":\"\\u220B\",\n  \"nis\":\"\\u22FC\",\n  \"nisd\":\"\\u22FA\",\n  \"niv\":\"\\u220B\",\n  \"NJcy\":\"\\u040A\",\n  \"njcy\":\"\\u045A\",\n  \"nlArr\":\"\\u21CD\",\n  \"nlarr\":\"\\u219A\",\n  \"nldr\":\"\\u2025\",\n  \"nlE\":\"\\u2266\\u0338\",\n  \"nle\":\"\\u2270\",\n  \"nLeftarrow\":\"\\u21CD\",\n  \"nleftarrow\":\"\\u219A\",\n  \"nLeftrightarrow\":\"\\u21CE\",\n  \"nleftrightarrow\":\"\\u21AE\",\n  \"nleq\":\"\\u2270\",\n  \"nleqq\":\"\\u2266\\u0338\",\n  \"nleqslant\":\"\\u2A7D\\u0338\",\n  \"nles\":\"\\u2A7D\\u0338\",\n  \"nless\":\"\\u226E\",\n  \"nLl\":\"\\u22D8\\u0338\",\n  \"nlsim\":\"\\u2274\",\n  \"nLt\":\"\\u226A\\u20D2\",\n  \"nlt\":\"\\u226E\",\n  \"nltri\":\"\\u22EA\",\n  \"nltrie\":\"\\u22EC\",\n  \"nLtv\":\"\\u226A\\u0338\",\n  \"nmid\":\"\\u2224\",\n  \"NoBreak\":\"\\u2060\",\n  \"NonBreakingSpace\":\"\\u00A0\",\n  \"Nopf\":\"\\u2115\",\n  \"nopf\":\"\\uD835\\uDD5F\",\n  \"Not\":\"\\u2AEC\",\n  \"not\":\"\\u00AC\",\n  \"NotCongruent\":\"\\u2262\",\n  \"NotCupCap\":\"\\u226D\",\n  \"NotDoubleVerticalBar\":\"\\u2226\",\n  \"NotElement\":\"\\u2209\",\n  \"NotEqual\":\"\\u2260\",\n  \"NotEqualTilde\":\"\\u2242\\u0338\",\n  \"NotExists\":\"\\u2204\",\n  \"NotGreater\":\"\\u226F\",\n  \"NotGreaterEqual\":\"\\u2271\",\n  \"NotGreaterFullEqual\":\"\\u2267\\u0338\",\n  \"NotGreaterGreater\":\"\\u226B\\u0338\",\n  \"NotGreaterLess\":\"\\u2279\",\n  \"NotGreaterSlantEqual\":\"\\u2A7E\\u0338\",\n  \"NotGreaterTilde\":\"\\u2275\",\n  \"NotHumpDownHump\":\"\\u224E\\u0338\",\n  \"NotHumpEqual\":\"\\u224F\\u0338\",\n  \"notin\":\"\\u2209\",\n  \"notindot\":\"\\u22F5\\u0338\",\n  \"notinE\":\"\\u22F9\\u0338\",\n  \"notinva\":\"\\u2209\",\n  \"notinvb\":\"\\u22F7\",\n  \"notinvc\":\"\\u22F6\",\n  \"NotLeftTriangle\":\"\\u22EA\",\n  \"NotLeftTriangleBar\":\"\\u29CF\\u0338\",\n  \"NotLeftTriangleEqual\":\"\\u22EC\",\n  \"NotLess\":\"\\u226E\",\n  \"NotLessEqual\":\"\\u2270\",\n  \"NotLessGreater\":\"\\u2278\",\n  \"NotLessLess\":\"\\u226A\\u0338\",\n  \"NotLessSlantEqual\":\"\\u2A7D\\u0338\",\n  \"NotLessTilde\":\"\\u2274\",\n  \"NotNestedGreaterGreater\":\"\\u2AA2\\u0338\",\n  \"NotNestedLessLess\":\"\\u2AA1\\u0338\",\n  \"notni\":\"\\u220C\",\n  \"notniva\":\"\\u220C\",\n  \"notnivb\":\"\\u22FE\",\n  \"notnivc\":\"\\u22FD\",\n  \"NotPrecedes\":\"\\u2280\",\n  \"NotPrecedesEqual\":\"\\u2AAF\\u0338\",\n  \"NotPrecedesSlantEqual\":\"\\u22E0\",\n  \"NotReverseElement\":\"\\u220C\",\n  \"NotRightTriangle\":\"\\u22EB\",\n  \"NotRightTriangleBar\":\"\\u29D0\\u0338\",\n  \"NotRightTriangleEqual\":\"\\u22ED\",\n  \"NotSquareSubset\":\"\\u228F\\u0338\",\n  \"NotSquareSubsetEqual\":\"\\u22E2\",\n  \"NotSquareSuperset\":\"\\u2290\\u0338\",\n  \"NotSquareSupersetEqual\":\"\\u22E3\",\n  \"NotSubset\":\"\\u2282\\u20D2\",\n  \"NotSubsetEqual\":\"\\u2288\",\n  \"NotSucceeds\":\"\\u2281\",\n  \"NotSucceedsEqual\":\"\\u2AB0\\u0338\",\n  \"NotSucceedsSlantEqual\":\"\\u22E1\",\n  \"NotSucceedsTilde\":\"\\u227F\\u0338\",\n  \"NotSuperset\":\"\\u2283\\u20D2\",\n  \"NotSupersetEqual\":\"\\u2289\",\n  \"NotTilde\":\"\\u2241\",\n  \"NotTildeEqual\":\"\\u2244\",\n  \"NotTildeFullEqual\":\"\\u2247\",\n  \"NotTildeTilde\":\"\\u2249\",\n  \"NotVerticalBar\":\"\\u2224\",\n  \"npar\":\"\\u2226\",\n  \"nparallel\":\"\\u2226\",\n  \"nparsl\":\"\\u2AFD\\u20E5\",\n  \"npart\":\"\\u2202\\u0338\",\n  \"npolint\":\"\\u2A14\",\n  \"npr\":\"\\u2280\",\n  \"nprcue\":\"\\u22E0\",\n  \"npre\":\"\\u2AAF\\u0338\",\n  \"nprec\":\"\\u2280\",\n  \"npreceq\":\"\\u2AAF\\u0338\",\n  \"nrArr\":\"\\u21CF\",\n  \"nrarr\":\"\\u219B\",\n  \"nrarrc\":\"\\u2933\\u0338\",\n  \"nrarrw\":\"\\u219D\\u0338\",\n  \"nRightarrow\":\"\\u21CF\",\n  \"nrightarrow\":\"\\u219B\",\n  \"nrtri\":\"\\u22EB\",\n  \"nrtrie\":\"\\u22ED\",\n  \"nsc\":\"\\u2281\",\n  \"nsccue\":\"\\u22E1\",\n  \"nsce\":\"\\u2AB0\\u0338\",\n  \"Nscr\":\"\\uD835\\uDCA9\",\n  \"nscr\":\"\\uD835\\uDCC3\",\n  \"nshortmid\":\"\\u2224\",\n  \"nshortparallel\":\"\\u2226\",\n  \"nsim\":\"\\u2241\",\n  \"nsime\":\"\\u2244\",\n  \"nsimeq\":\"\\u2244\",\n  \"nsmid\":\"\\u2224\",\n  \"nspar\":\"\\u2226\",\n  \"nsqsube\":\"\\u22E2\",\n  \"nsqsupe\":\"\\u22E3\",\n  \"nsub\":\"\\u2284\",\n  \"nsubE\":\"\\u2AC5\\u0338\",\n  \"nsube\":\"\\u2288\",\n  \"nsubset\":\"\\u2282\\u20D2\",\n  \"nsubseteq\":\"\\u2288\",\n  \"nsubseteqq\":\"\\u2AC5\\u0338\",\n  \"nsucc\":\"\\u2281\",\n  \"nsucceq\":\"\\u2AB0\\u0338\",\n  \"nsup\":\"\\u2285\",\n  \"nsupE\":\"\\u2AC6\\u0338\",\n  \"nsupe\":\"\\u2289\",\n  \"nsupset\":\"\\u2283\\u20D2\",\n  \"nsupseteq\":\"\\u2289\",\n  \"nsupseteqq\":\"\\u2AC6\\u0338\",\n  \"ntgl\":\"\\u2279\",\n  \"Ntilde\":\"\\u00D1\",\n  \"ntilde\":\"\\u00F1\",\n  \"ntlg\":\"\\u2278\",\n  \"ntriangleleft\":\"\\u22EA\",\n  \"ntrianglelefteq\":\"\\u22EC\",\n  \"ntriangleright\":\"\\u22EB\",\n  \"ntrianglerighteq\":\"\\u22ED\",\n  \"Nu\":\"\\u039D\",\n  \"nu\":\"\\u03BD\",\n  \"num\":\"\\u0023\",\n  \"numero\":\"\\u2116\",\n  \"numsp\":\"\\u2007\",\n  \"nvap\":\"\\u224D\\u20D2\",\n  \"nVDash\":\"\\u22AF\",\n  \"nVdash\":\"\\u22AE\",\n  \"nvDash\":\"\\u22AD\",\n  \"nvdash\":\"\\u22AC\",\n  \"nvge\":\"\\u2265\\u20D2\",\n  \"nvgt\":\"\\u003E\\u20D2\",\n  \"nvHarr\":\"\\u2904\",\n  \"nvinfin\":\"\\u29DE\",\n  \"nvlArr\":\"\\u2902\",\n  \"nvle\":\"\\u2264\\u20D2\",\n  \"nvlt\":\"\\u003C\\u20D2\",\n  \"nvltrie\":\"\\u22B4\\u20D2\",\n  \"nvrArr\":\"\\u2903\",\n  \"nvrtrie\":\"\\u22B5\\u20D2\",\n  \"nvsim\":\"\\u223C\\u20D2\",\n  \"nwarhk\":\"\\u2923\",\n  \"nwArr\":\"\\u21D6\",\n  \"nwarr\":\"\\u2196\",\n  \"nwarrow\":\"\\u2196\",\n  \"nwnear\":\"\\u2927\",\n  \"Oacute\":\"\\u00D3\",\n  \"oacute\":\"\\u00F3\",\n  \"oast\":\"\\u229B\",\n  \"ocir\":\"\\u229A\",\n  \"Ocirc\":\"\\u00D4\",\n  \"ocirc\":\"\\u00F4\",\n  \"Ocy\":\"\\u041E\",\n  \"ocy\":\"\\u043E\",\n  \"odash\":\"\\u229D\",\n  \"Odblac\":\"\\u0150\",\n  \"odblac\":\"\\u0151\",\n  \"odiv\":\"\\u2A38\",\n  \"odot\":\"\\u2299\",\n  \"odsold\":\"\\u29BC\",\n  \"OElig\":\"\\u0152\",\n  \"oelig\":\"\\u0153\",\n  \"ofcir\":\"\\u29BF\",\n  \"Ofr\":\"\\uD835\\uDD12\",\n  \"ofr\":\"\\uD835\\uDD2C\",\n  \"ogon\":\"\\u02DB\",\n  \"Ograve\":\"\\u00D2\",\n  \"ograve\":\"\\u00F2\",\n  \"ogt\":\"\\u29C1\",\n  \"ohbar\":\"\\u29B5\",\n  \"ohm\":\"\\u03A9\",\n  \"oint\":\"\\u222E\",\n  \"olarr\":\"\\u21BA\",\n  \"olcir\":\"\\u29BE\",\n  \"olcross\":\"\\u29BB\",\n  \"oline\":\"\\u203E\",\n  \"olt\":\"\\u29C0\",\n  \"Omacr\":\"\\u014C\",\n  \"omacr\":\"\\u014D\",\n  \"Omega\":\"\\u03A9\",\n  \"omega\":\"\\u03C9\",\n  \"Omicron\":\"\\u039F\",\n  \"omicron\":\"\\u03BF\",\n  \"omid\":\"\\u29B6\",\n  \"ominus\":\"\\u2296\",\n  \"Oopf\":\"\\uD835\\uDD46\",\n  \"oopf\":\"\\uD835\\uDD60\",\n  \"opar\":\"\\u29B7\",\n  \"OpenCurlyDoubleQuote\":\"\\u201C\",\n  \"OpenCurlyQuote\":\"\\u2018\",\n  \"operp\":\"\\u29B9\",\n  \"oplus\":\"\\u2295\",\n  \"Or\":\"\\u2A54\",\n  \"or\":\"\\u2228\",\n  \"orarr\":\"\\u21BB\",\n  \"ord\":\"\\u2A5D\",\n  \"order\":\"\\u2134\",\n  \"orderof\":\"\\u2134\",\n  \"ordf\":\"\\u00AA\",\n  \"ordm\":\"\\u00BA\",\n  \"origof\":\"\\u22B6\",\n  \"oror\":\"\\u2A56\",\n  \"orslope\":\"\\u2A57\",\n  \"orv\":\"\\u2A5B\",\n  \"oS\":\"\\u24C8\",\n  \"Oscr\":\"\\uD835\\uDCAA\",\n  \"oscr\":\"\\u2134\",\n  \"Oslash\":\"\\u00D8\",\n  \"oslash\":\"\\u00F8\",\n  \"osol\":\"\\u2298\",\n  \"Otilde\":\"\\u00D5\",\n  \"otilde\":\"\\u00F5\",\n  \"Otimes\":\"\\u2A37\",\n  \"otimes\":\"\\u2297\",\n  \"otimesas\":\"\\u2A36\",\n  \"Ouml\":\"\\u00D6\",\n  \"ouml\":\"\\u00F6\",\n  \"ovbar\":\"\\u233D\",\n  \"OverBar\":\"\\u203E\",\n  \"OverBrace\":\"\\u23DE\",\n  \"OverBracket\":\"\\u23B4\",\n  \"OverParenthesis\":\"\\u23DC\",\n  \"par\":\"\\u2225\",\n  \"para\":\"\\u00B6\",\n  \"parallel\":\"\\u2225\",\n  \"parsim\":\"\\u2AF3\",\n  \"parsl\":\"\\u2AFD\",\n  \"part\":\"\\u2202\",\n  \"PartialD\":\"\\u2202\",\n  \"Pcy\":\"\\u041F\",\n  \"pcy\":\"\\u043F\",\n  \"percnt\":\"\\u0025\",\n  \"period\":\"\\u002E\",\n  \"permil\":\"\\u2030\",\n  \"perp\":\"\\u22A5\",\n  \"pertenk\":\"\\u2031\",\n  \"Pfr\":\"\\uD835\\uDD13\",\n  \"pfr\":\"\\uD835\\uDD2D\",\n  \"Phi\":\"\\u03A6\",\n  \"phi\":\"\\u03C6\",\n  \"phiv\":\"\\u03D5\",\n  \"phmmat\":\"\\u2133\",\n  \"phone\":\"\\u260E\",\n  \"Pi\":\"\\u03A0\",\n  \"pi\":\"\\u03C0\",\n  \"pitchfork\":\"\\u22D4\",\n  \"piv\":\"\\u03D6\",\n  \"planck\":\"\\u210F\",\n  \"planckh\":\"\\u210E\",\n  \"plankv\":\"\\u210F\",\n  \"plus\":\"\\u002B\",\n  \"plusacir\":\"\\u2A23\",\n  \"plusb\":\"\\u229E\",\n  \"pluscir\":\"\\u2A22\",\n  \"plusdo\":\"\\u2214\",\n  \"plusdu\":\"\\u2A25\",\n  \"pluse\":\"\\u2A72\",\n  \"PlusMinus\":\"\\u00B1\",\n  \"plusmn\":\"\\u00B1\",\n  \"plussim\":\"\\u2A26\",\n  \"plustwo\":\"\\u2A27\",\n  \"pm\":\"\\u00B1\",\n  \"Poincareplane\":\"\\u210C\",\n  \"pointint\":\"\\u2A15\",\n  \"Popf\":\"\\u2119\",\n  \"popf\":\"\\uD835\\uDD61\",\n  \"pound\":\"\\u00A3\",\n  \"Pr\":\"\\u2ABB\",\n  \"pr\":\"\\u227A\",\n  \"prap\":\"\\u2AB7\",\n  \"prcue\":\"\\u227C\",\n  \"prE\":\"\\u2AB3\",\n  \"pre\":\"\\u2AAF\",\n  \"prec\":\"\\u227A\",\n  \"precapprox\":\"\\u2AB7\",\n  \"preccurlyeq\":\"\\u227C\",\n  \"Precedes\":\"\\u227A\",\n  \"PrecedesEqual\":\"\\u2AAF\",\n  \"PrecedesSlantEqual\":\"\\u227C\",\n  \"PrecedesTilde\":\"\\u227E\",\n  \"preceq\":\"\\u2AAF\",\n  \"precnapprox\":\"\\u2AB9\",\n  \"precneqq\":\"\\u2AB5\",\n  \"precnsim\":\"\\u22E8\",\n  \"precsim\":\"\\u227E\",\n  \"Prime\":\"\\u2033\",\n  \"prime\":\"\\u2032\",\n  \"primes\":\"\\u2119\",\n  \"prnap\":\"\\u2AB9\",\n  \"prnE\":\"\\u2AB5\",\n  \"prnsim\":\"\\u22E8\",\n  \"prod\":\"\\u220F\",\n  \"Product\":\"\\u220F\",\n  \"profalar\":\"\\u232E\",\n  \"profline\":\"\\u2312\",\n  \"profsurf\":\"\\u2313\",\n  \"prop\":\"\\u221D\",\n  \"Proportion\":\"\\u2237\",\n  \"Proportional\":\"\\u221D\",\n  \"propto\":\"\\u221D\",\n  \"prsim\":\"\\u227E\",\n  \"prurel\":\"\\u22B0\",\n  \"Pscr\":\"\\uD835\\uDCAB\",\n  \"pscr\":\"\\uD835\\uDCC5\",\n  \"Psi\":\"\\u03A8\",\n  \"psi\":\"\\u03C8\",\n  \"puncsp\":\"\\u2008\",\n  \"Qfr\":\"\\uD835\\uDD14\",\n  \"qfr\":\"\\uD835\\uDD2E\",\n  \"qint\":\"\\u2A0C\",\n  \"Qopf\":\"\\u211A\",\n  \"qopf\":\"\\uD835\\uDD62\",\n  \"qprime\":\"\\u2057\",\n  \"Qscr\":\"\\uD835\\uDCAC\",\n  \"qscr\":\"\\uD835\\uDCC6\",\n  \"quaternions\":\"\\u210D\",\n  \"quatint\":\"\\u2A16\",\n  \"quest\":\"\\u003F\",\n  \"questeq\":\"\\u225F\",\n  \"QUOT\":\"\\u0022\",\n  \"quot\":\"\\u0022\",\n  \"rAarr\":\"\\u21DB\",\n  \"race\":\"\\u223D\\u0331\",\n  \"Racute\":\"\\u0154\",\n  \"racute\":\"\\u0155\",\n  \"radic\":\"\\u221A\",\n  \"raemptyv\":\"\\u29B3\",\n  \"Rang\":\"\\u27EB\",\n  \"rang\":\"\\u27E9\",\n  \"rangd\":\"\\u2992\",\n  \"range\":\"\\u29A5\",\n  \"rangle\":\"\\u27E9\",\n  \"raquo\":\"\\u00BB\",\n  \"Rarr\":\"\\u21A0\",\n  \"rArr\":\"\\u21D2\",\n  \"rarr\":\"\\u2192\",\n  \"rarrap\":\"\\u2975\",\n  \"rarrb\":\"\\u21E5\",\n  \"rarrbfs\":\"\\u2920\",\n  \"rarrc\":\"\\u2933\",\n  \"rarrfs\":\"\\u291E\",\n  \"rarrhk\":\"\\u21AA\",\n  \"rarrlp\":\"\\u21AC\",\n  \"rarrpl\":\"\\u2945\",\n  \"rarrsim\":\"\\u2974\",\n  \"Rarrtl\":\"\\u2916\",\n  \"rarrtl\":\"\\u21A3\",\n  \"rarrw\":\"\\u219D\",\n  \"rAtail\":\"\\u291C\",\n  \"ratail\":\"\\u291A\",\n  \"ratio\":\"\\u2236\",\n  \"rationals\":\"\\u211A\",\n  \"RBarr\":\"\\u2910\",\n  \"rBarr\":\"\\u290F\",\n  \"rbarr\":\"\\u290D\",\n  \"rbbrk\":\"\\u2773\",\n  \"rbrace\":\"\\u007D\",\n  \"rbrack\":\"\\u005D\",\n  \"rbrke\":\"\\u298C\",\n  \"rbrksld\":\"\\u298E\",\n  \"rbrkslu\":\"\\u2990\",\n  \"Rcaron\":\"\\u0158\",\n  \"rcaron\":\"\\u0159\",\n  \"Rcedil\":\"\\u0156\",\n  \"rcedil\":\"\\u0157\",\n  \"rceil\":\"\\u2309\",\n  \"rcub\":\"\\u007D\",\n  \"Rcy\":\"\\u0420\",\n  \"rcy\":\"\\u0440\",\n  \"rdca\":\"\\u2937\",\n  \"rdldhar\":\"\\u2969\",\n  \"rdquo\":\"\\u201D\",\n  \"rdquor\":\"\\u201D\",\n  \"rdsh\":\"\\u21B3\",\n  \"Re\":\"\\u211C\",\n  \"real\":\"\\u211C\",\n  \"realine\":\"\\u211B\",\n  \"realpart\":\"\\u211C\",\n  \"reals\":\"\\u211D\",\n  \"rect\":\"\\u25AD\",\n  \"REG\":\"\\u00AE\",\n  \"reg\":\"\\u00AE\",\n  \"ReverseElement\":\"\\u220B\",\n  \"ReverseEquilibrium\":\"\\u21CB\",\n  \"ReverseUpEquilibrium\":\"\\u296F\",\n  \"rfisht\":\"\\u297D\",\n  \"rfloor\":\"\\u230B\",\n  \"Rfr\":\"\\u211C\",\n  \"rfr\":\"\\uD835\\uDD2F\",\n  \"rHar\":\"\\u2964\",\n  \"rhard\":\"\\u21C1\",\n  \"rharu\":\"\\u21C0\",\n  \"rharul\":\"\\u296C\",\n  \"Rho\":\"\\u03A1\",\n  \"rho\":\"\\u03C1\",\n  \"rhov\":\"\\u03F1\",\n  \"RightAngleBracket\":\"\\u27E9\",\n  \"RightArrow\":\"\\u2192\",\n  \"Rightarrow\":\"\\u21D2\",\n  \"rightarrow\":\"\\u2192\",\n  \"RightArrowBar\":\"\\u21E5\",\n  \"RightArrowLeftArrow\":\"\\u21C4\",\n  \"rightarrowtail\":\"\\u21A3\",\n  \"RightCeiling\":\"\\u2309\",\n  \"RightDoubleBracket\":\"\\u27E7\",\n  \"RightDownTeeVector\":\"\\u295D\",\n  \"RightDownVector\":\"\\u21C2\",\n  \"RightDownVectorBar\":\"\\u2955\",\n  \"RightFloor\":\"\\u230B\",\n  \"rightharpoondown\":\"\\u21C1\",\n  \"rightharpoonup\":\"\\u21C0\",\n  \"rightleftarrows\":\"\\u21C4\",\n  \"rightleftharpoons\":\"\\u21CC\",\n  \"rightrightarrows\":\"\\u21C9\",\n  \"rightsquigarrow\":\"\\u219D\",\n  \"RightTee\":\"\\u22A2\",\n  \"RightTeeArrow\":\"\\u21A6\",\n  \"RightTeeVector\":\"\\u295B\",\n  \"rightthreetimes\":\"\\u22CC\",\n  \"RightTriangle\":\"\\u22B3\",\n  \"RightTriangleBar\":\"\\u29D0\",\n  \"RightTriangleEqual\":\"\\u22B5\",\n  \"RightUpDownVector\":\"\\u294F\",\n  \"RightUpTeeVector\":\"\\u295C\",\n  \"RightUpVector\":\"\\u21BE\",\n  \"RightUpVectorBar\":\"\\u2954\",\n  \"RightVector\":\"\\u21C0\",\n  \"RightVectorBar\":\"\\u2953\",\n  \"ring\":\"\\u02DA\",\n  \"risingdotseq\":\"\\u2253\",\n  \"rlarr\":\"\\u21C4\",\n  \"rlhar\":\"\\u21CC\",\n  \"rlm\":\"\\u200F\",\n  \"rmoust\":\"\\u23B1\",\n  \"rmoustache\":\"\\u23B1\",\n  \"rnmid\":\"\\u2AEE\",\n  \"roang\":\"\\u27ED\",\n  \"roarr\":\"\\u21FE\",\n  \"robrk\":\"\\u27E7\",\n  \"ropar\":\"\\u2986\",\n  \"Ropf\":\"\\u211D\",\n  \"ropf\":\"\\uD835\\uDD63\",\n  \"roplus\":\"\\u2A2E\",\n  \"rotimes\":\"\\u2A35\",\n  \"RoundImplies\":\"\\u2970\",\n  \"rpar\":\"\\u0029\",\n  \"rpargt\":\"\\u2994\",\n  \"rppolint\":\"\\u2A12\",\n  \"rrarr\":\"\\u21C9\",\n  \"Rrightarrow\":\"\\u21DB\",\n  \"rsaquo\":\"\\u203A\",\n  \"Rscr\":\"\\u211B\",\n  \"rscr\":\"\\uD835\\uDCC7\",\n  \"Rsh\":\"\\u21B1\",\n  \"rsh\":\"\\u21B1\",\n  \"rsqb\":\"\\u005D\",\n  \"rsquo\":\"\\u2019\",\n  \"rsquor\":\"\\u2019\",\n  \"rthree\":\"\\u22CC\",\n  \"rtimes\":\"\\u22CA\",\n  \"rtri\":\"\\u25B9\",\n  \"rtrie\":\"\\u22B5\",\n  \"rtrif\":\"\\u25B8\",\n  \"rtriltri\":\"\\u29CE\",\n  \"RuleDelayed\":\"\\u29F4\",\n  \"ruluhar\":\"\\u2968\",\n  \"rx\":\"\\u211E\",\n  \"Sacute\":\"\\u015A\",\n  \"sacute\":\"\\u015B\",\n  \"sbquo\":\"\\u201A\",\n  \"Sc\":\"\\u2ABC\",\n  \"sc\":\"\\u227B\",\n  \"scap\":\"\\u2AB8\",\n  \"Scaron\":\"\\u0160\",\n  \"scaron\":\"\\u0161\",\n  \"sccue\":\"\\u227D\",\n  \"scE\":\"\\u2AB4\",\n  \"sce\":\"\\u2AB0\",\n  \"Scedil\":\"\\u015E\",\n  \"scedil\":\"\\u015F\",\n  \"Scirc\":\"\\u015C\",\n  \"scirc\":\"\\u015D\",\n  \"scnap\":\"\\u2ABA\",\n  \"scnE\":\"\\u2AB6\",\n  \"scnsim\":\"\\u22E9\",\n  \"scpolint\":\"\\u2A13\",\n  \"scsim\":\"\\u227F\",\n  \"Scy\":\"\\u0421\",\n  \"scy\":\"\\u0441\",\n  \"sdot\":\"\\u22C5\",\n  \"sdotb\":\"\\u22A1\",\n  \"sdote\":\"\\u2A66\",\n  \"searhk\":\"\\u2925\",\n  \"seArr\":\"\\u21D8\",\n  \"searr\":\"\\u2198\",\n  \"searrow\":\"\\u2198\",\n  \"sect\":\"\\u00A7\",\n  \"semi\":\"\\u003B\",\n  \"seswar\":\"\\u2929\",\n  \"setminus\":\"\\u2216\",\n  \"setmn\":\"\\u2216\",\n  \"sext\":\"\\u2736\",\n  \"Sfr\":\"\\uD835\\uDD16\",\n  \"sfr\":\"\\uD835\\uDD30\",\n  \"sfrown\":\"\\u2322\",\n  \"sharp\":\"\\u266F\",\n  \"SHCHcy\":\"\\u0429\",\n  \"shchcy\":\"\\u0449\",\n  \"SHcy\":\"\\u0428\",\n  \"shcy\":\"\\u0448\",\n  \"ShortDownArrow\":\"\\u2193\",\n  \"ShortLeftArrow\":\"\\u2190\",\n  \"shortmid\":\"\\u2223\",\n  \"shortparallel\":\"\\u2225\",\n  \"ShortRightArrow\":\"\\u2192\",\n  \"ShortUpArrow\":\"\\u2191\",\n  \"shy\":\"\\u00AD\",\n  \"Sigma\":\"\\u03A3\",\n  \"sigma\":\"\\u03C3\",\n  \"sigmaf\":\"\\u03C2\",\n  \"sigmav\":\"\\u03C2\",\n  \"sim\":\"\\u223C\",\n  \"simdot\":\"\\u2A6A\",\n  \"sime\":\"\\u2243\",\n  \"simeq\":\"\\u2243\",\n  \"simg\":\"\\u2A9E\",\n  \"simgE\":\"\\u2AA0\",\n  \"siml\":\"\\u2A9D\",\n  \"simlE\":\"\\u2A9F\",\n  \"simne\":\"\\u2246\",\n  \"simplus\":\"\\u2A24\",\n  \"simrarr\":\"\\u2972\",\n  \"slarr\":\"\\u2190\",\n  \"SmallCircle\":\"\\u2218\",\n  \"smallsetminus\":\"\\u2216\",\n  \"smashp\":\"\\u2A33\",\n  \"smeparsl\":\"\\u29E4\",\n  \"smid\":\"\\u2223\",\n  \"smile\":\"\\u2323\",\n  \"smt\":\"\\u2AAA\",\n  \"smte\":\"\\u2AAC\",\n  \"smtes\":\"\\u2AAC\\uFE00\",\n  \"SOFTcy\":\"\\u042C\",\n  \"softcy\":\"\\u044C\",\n  \"sol\":\"\\u002F\",\n  \"solb\":\"\\u29C4\",\n  \"solbar\":\"\\u233F\",\n  \"Sopf\":\"\\uD835\\uDD4A\",\n  \"sopf\":\"\\uD835\\uDD64\",\n  \"spades\":\"\\u2660\",\n  \"spadesuit\":\"\\u2660\",\n  \"spar\":\"\\u2225\",\n  \"sqcap\":\"\\u2293\",\n  \"sqcaps\":\"\\u2293\\uFE00\",\n  \"sqcup\":\"\\u2294\",\n  \"sqcups\":\"\\u2294\\uFE00\",\n  \"Sqrt\":\"\\u221A\",\n  \"sqsub\":\"\\u228F\",\n  \"sqsube\":\"\\u2291\",\n  \"sqsubset\":\"\\u228F\",\n  \"sqsubseteq\":\"\\u2291\",\n  \"sqsup\":\"\\u2290\",\n  \"sqsupe\":\"\\u2292\",\n  \"sqsupset\":\"\\u2290\",\n  \"sqsupseteq\":\"\\u2292\",\n  \"squ\":\"\\u25A1\",\n  \"Square\":\"\\u25A1\",\n  \"square\":\"\\u25A1\",\n  \"SquareIntersection\":\"\\u2293\",\n  \"SquareSubset\":\"\\u228F\",\n  \"SquareSubsetEqual\":\"\\u2291\",\n  \"SquareSuperset\":\"\\u2290\",\n  \"SquareSupersetEqual\":\"\\u2292\",\n  \"SquareUnion\":\"\\u2294\",\n  \"squarf\":\"\\u25AA\",\n  \"squf\":\"\\u25AA\",\n  \"srarr\":\"\\u2192\",\n  \"Sscr\":\"\\uD835\\uDCAE\",\n  \"sscr\":\"\\uD835\\uDCC8\",\n  \"ssetmn\":\"\\u2216\",\n  \"ssmile\":\"\\u2323\",\n  \"sstarf\":\"\\u22C6\",\n  \"Star\":\"\\u22C6\",\n  \"star\":\"\\u2606\",\n  \"starf\":\"\\u2605\",\n  \"straightepsilon\":\"\\u03F5\",\n  \"straightphi\":\"\\u03D5\",\n  \"strns\":\"\\u00AF\",\n  \"Sub\":\"\\u22D0\",\n  \"sub\":\"\\u2282\",\n  \"subdot\":\"\\u2ABD\",\n  \"subE\":\"\\u2AC5\",\n  \"sube\":\"\\u2286\",\n  \"subedot\":\"\\u2AC3\",\n  \"submult\":\"\\u2AC1\",\n  \"subnE\":\"\\u2ACB\",\n  \"subne\":\"\\u228A\",\n  \"subplus\":\"\\u2ABF\",\n  \"subrarr\":\"\\u2979\",\n  \"Subset\":\"\\u22D0\",\n  \"subset\":\"\\u2282\",\n  \"subseteq\":\"\\u2286\",\n  \"subseteqq\":\"\\u2AC5\",\n  \"SubsetEqual\":\"\\u2286\",\n  \"subsetneq\":\"\\u228A\",\n  \"subsetneqq\":\"\\u2ACB\",\n  \"subsim\":\"\\u2AC7\",\n  \"subsub\":\"\\u2AD5\",\n  \"subsup\":\"\\u2AD3\",\n  \"succ\":\"\\u227B\",\n  \"succapprox\":\"\\u2AB8\",\n  \"succcurlyeq\":\"\\u227D\",\n  \"Succeeds\":\"\\u227B\",\n  \"SucceedsEqual\":\"\\u2AB0\",\n  \"SucceedsSlantEqual\":\"\\u227D\",\n  \"SucceedsTilde\":\"\\u227F\",\n  \"succeq\":\"\\u2AB0\",\n  \"succnapprox\":\"\\u2ABA\",\n  \"succneqq\":\"\\u2AB6\",\n  \"succnsim\":\"\\u22E9\",\n  \"succsim\":\"\\u227F\",\n  \"SuchThat\":\"\\u220B\",\n  \"Sum\":\"\\u2211\",\n  \"sum\":\"\\u2211\",\n  \"sung\":\"\\u266A\",\n  \"Sup\":\"\\u22D1\",\n  \"sup\":\"\\u2283\",\n  \"sup1\":\"\\u00B9\",\n  \"sup2\":\"\\u00B2\",\n  \"sup3\":\"\\u00B3\",\n  \"supdot\":\"\\u2ABE\",\n  \"supdsub\":\"\\u2AD8\",\n  \"supE\":\"\\u2AC6\",\n  \"supe\":\"\\u2287\",\n  \"supedot\":\"\\u2AC4\",\n  \"Superset\":\"\\u2283\",\n  \"SupersetEqual\":\"\\u2287\",\n  \"suphsol\":\"\\u27C9\",\n  \"suphsub\":\"\\u2AD7\",\n  \"suplarr\":\"\\u297B\",\n  \"supmult\":\"\\u2AC2\",\n  \"supnE\":\"\\u2ACC\",\n  \"supne\":\"\\u228B\",\n  \"supplus\":\"\\u2AC0\",\n  \"Supset\":\"\\u22D1\",\n  \"supset\":\"\\u2283\",\n  \"supseteq\":\"\\u2287\",\n  \"supseteqq\":\"\\u2AC6\",\n  \"supsetneq\":\"\\u228B\",\n  \"supsetneqq\":\"\\u2ACC\",\n  \"supsim\":\"\\u2AC8\",\n  \"supsub\":\"\\u2AD4\",\n  \"supsup\":\"\\u2AD6\",\n  \"swarhk\":\"\\u2926\",\n  \"swArr\":\"\\u21D9\",\n  \"swarr\":\"\\u2199\",\n  \"swarrow\":\"\\u2199\",\n  \"swnwar\":\"\\u292A\",\n  \"szlig\":\"\\u00DF\",\n  \"Tab\":\"\\u0009\",\n  \"target\":\"\\u2316\",\n  \"Tau\":\"\\u03A4\",\n  \"tau\":\"\\u03C4\",\n  \"tbrk\":\"\\u23B4\",\n  \"Tcaron\":\"\\u0164\",\n  \"tcaron\":\"\\u0165\",\n  \"Tcedil\":\"\\u0162\",\n  \"tcedil\":\"\\u0163\",\n  \"Tcy\":\"\\u0422\",\n  \"tcy\":\"\\u0442\",\n  \"tdot\":\"\\u20DB\",\n  \"telrec\":\"\\u2315\",\n  \"Tfr\":\"\\uD835\\uDD17\",\n  \"tfr\":\"\\uD835\\uDD31\",\n  \"there4\":\"\\u2234\",\n  \"Therefore\":\"\\u2234\",\n  \"therefore\":\"\\u2234\",\n  \"Theta\":\"\\u0398\",\n  \"theta\":\"\\u03B8\",\n  \"thetasym\":\"\\u03D1\",\n  \"thetav\":\"\\u03D1\",\n  \"thickapprox\":\"\\u2248\",\n  \"thicksim\":\"\\u223C\",\n  \"ThickSpace\":\"\\u205F\\u200A\",\n  \"thinsp\":\"\\u2009\",\n  \"ThinSpace\":\"\\u2009\",\n  \"thkap\":\"\\u2248\",\n  \"thksim\":\"\\u223C\",\n  \"THORN\":\"\\u00DE\",\n  \"thorn\":\"\\u00FE\",\n  \"Tilde\":\"\\u223C\",\n  \"tilde\":\"\\u02DC\",\n  \"TildeEqual\":\"\\u2243\",\n  \"TildeFullEqual\":\"\\u2245\",\n  \"TildeTilde\":\"\\u2248\",\n  \"times\":\"\\u00D7\",\n  \"timesb\":\"\\u22A0\",\n  \"timesbar\":\"\\u2A31\",\n  \"timesd\":\"\\u2A30\",\n  \"tint\":\"\\u222D\",\n  \"toea\":\"\\u2928\",\n  \"top\":\"\\u22A4\",\n  \"topbot\":\"\\u2336\",\n  \"topcir\":\"\\u2AF1\",\n  \"Topf\":\"\\uD835\\uDD4B\",\n  \"topf\":\"\\uD835\\uDD65\",\n  \"topfork\":\"\\u2ADA\",\n  \"tosa\":\"\\u2929\",\n  \"tprime\":\"\\u2034\",\n  \"TRADE\":\"\\u2122\",\n  \"trade\":\"\\u2122\",\n  \"triangle\":\"\\u25B5\",\n  \"triangledown\":\"\\u25BF\",\n  \"triangleleft\":\"\\u25C3\",\n  \"trianglelefteq\":\"\\u22B4\",\n  \"triangleq\":\"\\u225C\",\n  \"triangleright\":\"\\u25B9\",\n  \"trianglerighteq\":\"\\u22B5\",\n  \"tridot\":\"\\u25EC\",\n  \"trie\":\"\\u225C\",\n  \"triminus\":\"\\u2A3A\",\n  \"TripleDot\":\"\\u20DB\",\n  \"triplus\":\"\\u2A39\",\n  \"trisb\":\"\\u29CD\",\n  \"tritime\":\"\\u2A3B\",\n  \"trpezium\":\"\\u23E2\",\n  \"Tscr\":\"\\uD835\\uDCAF\",\n  \"tscr\":\"\\uD835\\uDCC9\",\n  \"TScy\":\"\\u0426\",\n  \"tscy\":\"\\u0446\",\n  \"TSHcy\":\"\\u040B\",\n  \"tshcy\":\"\\u045B\",\n  \"Tstrok\":\"\\u0166\",\n  \"tstrok\":\"\\u0167\",\n  \"twixt\":\"\\u226C\",\n  \"twoheadleftarrow\":\"\\u219E\",\n  \"twoheadrightarrow\":\"\\u21A0\",\n  \"Uacute\":\"\\u00DA\",\n  \"uacute\":\"\\u00FA\",\n  \"Uarr\":\"\\u219F\",\n  \"uArr\":\"\\u21D1\",\n  \"uarr\":\"\\u2191\",\n  \"Uarrocir\":\"\\u2949\",\n  \"Ubrcy\":\"\\u040E\",\n  \"ubrcy\":\"\\u045E\",\n  \"Ubreve\":\"\\u016C\",\n  \"ubreve\":\"\\u016D\",\n  \"Ucirc\":\"\\u00DB\",\n  \"ucirc\":\"\\u00FB\",\n  \"Ucy\":\"\\u0423\",\n  \"ucy\":\"\\u0443\",\n  \"udarr\":\"\\u21C5\",\n  \"Udblac\":\"\\u0170\",\n  \"udblac\":\"\\u0171\",\n  \"udhar\":\"\\u296E\",\n  \"ufisht\":\"\\u297E\",\n  \"Ufr\":\"\\uD835\\uDD18\",\n  \"ufr\":\"\\uD835\\uDD32\",\n  \"Ugrave\":\"\\u00D9\",\n  \"ugrave\":\"\\u00F9\",\n  \"uHar\":\"\\u2963\",\n  \"uharl\":\"\\u21BF\",\n  \"uharr\":\"\\u21BE\",\n  \"uhblk\":\"\\u2580\",\n  \"ulcorn\":\"\\u231C\",\n  \"ulcorner\":\"\\u231C\",\n  \"ulcrop\":\"\\u230F\",\n  \"ultri\":\"\\u25F8\",\n  \"Umacr\":\"\\u016A\",\n  \"umacr\":\"\\u016B\",\n  \"uml\":\"\\u00A8\",\n  \"UnderBar\":\"\\u005F\",\n  \"UnderBrace\":\"\\u23DF\",\n  \"UnderBracket\":\"\\u23B5\",\n  \"UnderParenthesis\":\"\\u23DD\",\n  \"Union\":\"\\u22C3\",\n  \"UnionPlus\":\"\\u228E\",\n  \"Uogon\":\"\\u0172\",\n  \"uogon\":\"\\u0173\",\n  \"Uopf\":\"\\uD835\\uDD4C\",\n  \"uopf\":\"\\uD835\\uDD66\",\n  \"UpArrow\":\"\\u2191\",\n  \"Uparrow\":\"\\u21D1\",\n  \"uparrow\":\"\\u2191\",\n  \"UpArrowBar\":\"\\u2912\",\n  \"UpArrowDownArrow\":\"\\u21C5\",\n  \"UpDownArrow\":\"\\u2195\",\n  \"Updownarrow\":\"\\u21D5\",\n  \"updownarrow\":\"\\u2195\",\n  \"UpEquilibrium\":\"\\u296E\",\n  \"upharpoonleft\":\"\\u21BF\",\n  \"upharpoonright\":\"\\u21BE\",\n  \"uplus\":\"\\u228E\",\n  \"UpperLeftArrow\":\"\\u2196\",\n  \"UpperRightArrow\":\"\\u2197\",\n  \"Upsi\":\"\\u03D2\",\n  \"upsi\":\"\\u03C5\",\n  \"upsih\":\"\\u03D2\",\n  \"Upsilon\":\"\\u03A5\",\n  \"upsilon\":\"\\u03C5\",\n  \"UpTee\":\"\\u22A5\",\n  \"UpTeeArrow\":\"\\u21A5\",\n  \"upuparrows\":\"\\u21C8\",\n  \"urcorn\":\"\\u231D\",\n  \"urcorner\":\"\\u231D\",\n  \"urcrop\":\"\\u230E\",\n  \"Uring\":\"\\u016E\",\n  \"uring\":\"\\u016F\",\n  \"urtri\":\"\\u25F9\",\n  \"Uscr\":\"\\uD835\\uDCB0\",\n  \"uscr\":\"\\uD835\\uDCCA\",\n  \"utdot\":\"\\u22F0\",\n  \"Utilde\":\"\\u0168\",\n  \"utilde\":\"\\u0169\",\n  \"utri\":\"\\u25B5\",\n  \"utrif\":\"\\u25B4\",\n  \"uuarr\":\"\\u21C8\",\n  \"Uuml\":\"\\u00DC\",\n  \"uuml\":\"\\u00FC\",\n  \"uwangle\":\"\\u29A7\",\n  \"vangrt\":\"\\u299C\",\n  \"varepsilon\":\"\\u03F5\",\n  \"varkappa\":\"\\u03F0\",\n  \"varnothing\":\"\\u2205\",\n  \"varphi\":\"\\u03D5\",\n  \"varpi\":\"\\u03D6\",\n  \"varpropto\":\"\\u221D\",\n  \"vArr\":\"\\u21D5\",\n  \"varr\":\"\\u2195\",\n  \"varrho\":\"\\u03F1\",\n  \"varsigma\":\"\\u03C2\",\n  \"varsubsetneq\":\"\\u228A\\uFE00\",\n  \"varsubsetneqq\":\"\\u2ACB\\uFE00\",\n  \"varsupsetneq\":\"\\u228B\\uFE00\",\n  \"varsupsetneqq\":\"\\u2ACC\\uFE00\",\n  \"vartheta\":\"\\u03D1\",\n  \"vartriangleleft\":\"\\u22B2\",\n  \"vartriangleright\":\"\\u22B3\",\n  \"Vbar\":\"\\u2AEB\",\n  \"vBar\":\"\\u2AE8\",\n  \"vBarv\":\"\\u2AE9\",\n  \"Vcy\":\"\\u0412\",\n  \"vcy\":\"\\u0432\",\n  \"VDash\":\"\\u22AB\",\n  \"Vdash\":\"\\u22A9\",\n  \"vDash\":\"\\u22A8\",\n  \"vdash\":\"\\u22A2\",\n  \"Vdashl\":\"\\u2AE6\",\n  \"Vee\":\"\\u22C1\",\n  \"vee\":\"\\u2228\",\n  \"veebar\":\"\\u22BB\",\n  \"veeeq\":\"\\u225A\",\n  \"vellip\":\"\\u22EE\",\n  \"Verbar\":\"\\u2016\",\n  \"verbar\":\"\\u007C\",\n  \"Vert\":\"\\u2016\",\n  \"vert\":\"\\u007C\",\n  \"VerticalBar\":\"\\u2223\",\n  \"VerticalLine\":\"\\u007C\",\n  \"VerticalSeparator\":\"\\u2758\",\n  \"VerticalTilde\":\"\\u2240\",\n  \"VeryThinSpace\":\"\\u200A\",\n  \"Vfr\":\"\\uD835\\uDD19\",\n  \"vfr\":\"\\uD835\\uDD33\",\n  \"vltri\":\"\\u22B2\",\n  \"vnsub\":\"\\u2282\\u20D2\",\n  \"vnsup\":\"\\u2283\\u20D2\",\n  \"Vopf\":\"\\uD835\\uDD4D\",\n  \"vopf\":\"\\uD835\\uDD67\",\n  \"vprop\":\"\\u221D\",\n  \"vrtri\":\"\\u22B3\",\n  \"Vscr\":\"\\uD835\\uDCB1\",\n  \"vscr\":\"\\uD835\\uDCCB\",\n  \"vsubnE\":\"\\u2ACB\\uFE00\",\n  \"vsubne\":\"\\u228A\\uFE00\",\n  \"vsupnE\":\"\\u2ACC\\uFE00\",\n  \"vsupne\":\"\\u228B\\uFE00\",\n  \"Vvdash\":\"\\u22AA\",\n  \"vzigzag\":\"\\u299A\",\n  \"Wcirc\":\"\\u0174\",\n  \"wcirc\":\"\\u0175\",\n  \"wedbar\":\"\\u2A5F\",\n  \"Wedge\":\"\\u22C0\",\n  \"wedge\":\"\\u2227\",\n  \"wedgeq\":\"\\u2259\",\n  \"weierp\":\"\\u2118\",\n  \"Wfr\":\"\\uD835\\uDD1A\",\n  \"wfr\":\"\\uD835\\uDD34\",\n  \"Wopf\":\"\\uD835\\uDD4E\",\n  \"wopf\":\"\\uD835\\uDD68\",\n  \"wp\":\"\\u2118\",\n  \"wr\":\"\\u2240\",\n  \"wreath\":\"\\u2240\",\n  \"Wscr\":\"\\uD835\\uDCB2\",\n  \"wscr\":\"\\uD835\\uDCCC\",\n  \"xcap\":\"\\u22C2\",\n  \"xcirc\":\"\\u25EF\",\n  \"xcup\":\"\\u22C3\",\n  \"xdtri\":\"\\u25BD\",\n  \"Xfr\":\"\\uD835\\uDD1B\",\n  \"xfr\":\"\\uD835\\uDD35\",\n  \"xhArr\":\"\\u27FA\",\n  \"xharr\":\"\\u27F7\",\n  \"Xi\":\"\\u039E\",\n  \"xi\":\"\\u03BE\",\n  \"xlArr\":\"\\u27F8\",\n  \"xlarr\":\"\\u27F5\",\n  \"xmap\":\"\\u27FC\",\n  \"xnis\":\"\\u22FB\",\n  \"xodot\":\"\\u2A00\",\n  \"Xopf\":\"\\uD835\\uDD4F\",\n  \"xopf\":\"\\uD835\\uDD69\",\n  \"xoplus\":\"\\u2A01\",\n  \"xotime\":\"\\u2A02\",\n  \"xrArr\":\"\\u27F9\",\n  \"xrarr\":\"\\u27F6\",\n  \"Xscr\":\"\\uD835\\uDCB3\",\n  \"xscr\":\"\\uD835\\uDCCD\",\n  \"xsqcup\":\"\\u2A06\",\n  \"xuplus\":\"\\u2A04\",\n  \"xutri\":\"\\u25B3\",\n  \"xvee\":\"\\u22C1\",\n  \"xwedge\":\"\\u22C0\",\n  \"Yacute\":\"\\u00DD\",\n  \"yacute\":\"\\u00FD\",\n  \"YAcy\":\"\\u042F\",\n  \"yacy\":\"\\u044F\",\n  \"Ycirc\":\"\\u0176\",\n  \"ycirc\":\"\\u0177\",\n  \"Ycy\":\"\\u042B\",\n  \"ycy\":\"\\u044B\",\n  \"yen\":\"\\u00A5\",\n  \"Yfr\":\"\\uD835\\uDD1C\",\n  \"yfr\":\"\\uD835\\uDD36\",\n  \"YIcy\":\"\\u0407\",\n  \"yicy\":\"\\u0457\",\n  \"Yopf\":\"\\uD835\\uDD50\",\n  \"yopf\":\"\\uD835\\uDD6A\",\n  \"Yscr\":\"\\uD835\\uDCB4\",\n  \"yscr\":\"\\uD835\\uDCCE\",\n  \"YUcy\":\"\\u042E\",\n  \"yucy\":\"\\u044E\",\n  \"Yuml\":\"\\u0178\",\n  \"yuml\":\"\\u00FF\",\n  \"Zacute\":\"\\u0179\",\n  \"zacute\":\"\\u017A\",\n  \"Zcaron\":\"\\u017D\",\n  \"zcaron\":\"\\u017E\",\n  \"Zcy\":\"\\u0417\",\n  \"zcy\":\"\\u0437\",\n  \"Zdot\":\"\\u017B\",\n  \"zdot\":\"\\u017C\",\n  \"zeetrf\":\"\\u2128\",\n  \"ZeroWidthSpace\":\"\\u200B\",\n  \"Zeta\":\"\\u0396\",\n  \"zeta\":\"\\u03B6\",\n  \"Zfr\":\"\\u2128\",\n  \"zfr\":\"\\uD835\\uDD37\",\n  \"ZHcy\":\"\\u0416\",\n  \"zhcy\":\"\\u0436\",\n  \"zigrarr\":\"\\u21DD\",\n  \"Zopf\":\"\\u2124\",\n  \"zopf\":\"\\uD835\\uDD6B\",\n  \"Zscr\":\"\\uD835\\uDCB5\",\n  \"zscr\":\"\\uD835\\uDCCF\",\n  \"zwj\":\"\\u200D\",\n  \"zwnj\":\"\\u200C\"\n};\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return object\n    ? hasOwn.call(object, key)\n    : false;\n}\n\nfunction decodeEntity(name) {\n  if (has(entities, name)) {\n    return entities[name]\n  } else {\n    return name;\n  }\n}\n\n/**\n * Utility functions\n */\n\nfunction typeOf(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nfunction isString(obj) {\n  return typeOf(obj) === '[object String]';\n}\n\nvar hasOwn$1 = Object.prototype.hasOwnProperty;\n\nfunction has$1(object, key) {\n  return object\n    ? hasOwn$1.call(object, key)\n    : false;\n}\n\n// Extend objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = [].slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar UNESCAPE_MD_RE = /\\\\([\\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\nvar NAMED_ENTITY_RE   = /&([a-z#][a-z0-9]{1,31});/gi;\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n  var decoded = decodeEntity(name);\n\n  if (name !== decoded) {\n    return decoded;\n  } else if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16)\n    :\n      parseInt(name.slice(1), 10);\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n  return match;\n}\n\nfunction replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(NAMED_ENTITY_RE, replaceEntityPattern);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\nvar utils = /*#__PURE__*/Object.freeze({\n  isString: isString,\n  has: has$1,\n  assign: assign,\n  unescapeMd: unescapeMd,\n  isValidEntityCode: isValidEntityCode,\n  fromCodePoint: fromCodePoint,\n  replaceEntities: replaceEntities,\n  escapeHtml: escapeHtml\n});\n\n/**\n * Renderer rules cache\n */\n\nvar rules = {};\n\n/**\n * Blockquotes\n */\n\nrules.blockquote_open = function(/* tokens, idx, options, env */) {\n  return '<blockquote>\\n';\n};\n\nrules.blockquote_close = function(tokens, idx /*, options, env */) {\n  return '</blockquote>' + getBreak(tokens, idx);\n};\n\n/**\n * Code\n */\n\nrules.code = function(tokens, idx /*, options, env */) {\n  if (tokens[idx].block) {\n    return '<pre><code>' + escapeHtml(tokens[idx].content) + '</code></pre>' + getBreak(tokens, idx);\n  }\n  return '<code>' + escapeHtml(tokens[idx].content) + '</code>';\n};\n\n/**\n * Fenced code blocks\n */\n\nrules.fence = function(tokens, idx, options, env, instance) {\n  var token = tokens[idx];\n  var langClass = '';\n  var langPrefix = options.langPrefix;\n  var langName = '', fences, fenceName;\n  var highlighted;\n\n  if (token.params) {\n\n    //\n    // ```foo bar\n    //\n    // Try custom renderer \"foo\" first. That will simplify overwrite\n    // for diagrams, latex, and any other fenced block with custom look\n    //\n\n    fences = token.params.split(/\\s+/g);\n    fenceName = fences.join(' ');\n\n    if (has$1(instance.rules.fence_custom, fences[0])) {\n      return instance.rules.fence_custom[fences[0]](tokens, idx, options, env, instance);\n    }\n\n    langName = escapeHtml(replaceEntities(unescapeMd(fenceName)));\n    langClass = ' class=\"' + langPrefix + langName + '\"';\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight.apply(options.highlight, [ token.content ].concat(fences))\n      || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  return '<pre><code' + langClass + '>'\n        + highlighted\n        + '</code></pre>'\n        + getBreak(tokens, idx);\n};\n\nrules.fence_custom = {};\n\n/**\n * Headings\n */\n\nrules.heading_open = function(tokens, idx /*, options, env */) {\n  return '<h' + tokens[idx].hLevel + '>';\n};\nrules.heading_close = function(tokens, idx /*, options, env */) {\n  return '</h' + tokens[idx].hLevel + '>\\n';\n};\n\n/**\n * Horizontal rules\n */\n\nrules.hr = function(tokens, idx, options /*, env */) {\n  return (options.xhtmlOut ? '<hr />' : '<hr>') + getBreak(tokens, idx);\n};\n\n/**\n * Bullets\n */\n\nrules.bullet_list_open = function(/* tokens, idx, options, env */) {\n  return '<ul>\\n';\n};\nrules.bullet_list_close = function(tokens, idx /*, options, env */) {\n  return '</ul>' + getBreak(tokens, idx);\n};\n\n/**\n * List items\n */\n\nrules.list_item_open = function(/* tokens, idx, options, env */) {\n  return '<li>';\n};\nrules.list_item_close = function(/* tokens, idx, options, env */) {\n  return '</li>\\n';\n};\n\n/**\n * Ordered list items\n */\n\nrules.ordered_list_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  var order = token.order > 1 ? ' start=\"' + token.order + '\"' : '';\n  return '<ol' + order + '>\\n';\n};\nrules.ordered_list_close = function(tokens, idx /*, options, env */) {\n  return '</ol>' + getBreak(tokens, idx);\n};\n\n/**\n * Paragraphs\n */\n\nrules.paragraph_open = function(tokens, idx /*, options, env */) {\n  return tokens[idx].tight ? '' : '<p>';\n};\nrules.paragraph_close = function(tokens, idx /*, options, env */) {\n  var addBreak = !(tokens[idx].tight && idx && tokens[idx - 1].type === 'inline' && !tokens[idx - 1].content);\n  return (tokens[idx].tight ? '' : '</p>') + (addBreak ? getBreak(tokens, idx) : '');\n};\n\n/**\n * Links\n */\n\nrules.link_open = function(tokens, idx, options /* env */) {\n  var title = tokens[idx].title ? (' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"') : '';\n  var target = options.linkTarget ? (' target=\"' + options.linkTarget + '\"') : '';\n  return '<a href=\"' + escapeHtml(tokens[idx].href) + '\"' + title + target + '>';\n};\nrules.link_close = function(/* tokens, idx, options, env */) {\n  return '</a>';\n};\n\n/**\n * Images\n */\n\nrules.image = function(tokens, idx, options /*, env */) {\n  var src = ' src=\"' + escapeHtml(tokens[idx].src) + '\"';\n  var title = tokens[idx].title ? (' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"') : '';\n  var alt = ' alt=\"' + (tokens[idx].alt ? escapeHtml(replaceEntities(unescapeMd(tokens[idx].alt))) : '') + '\"';\n  var suffix = options.xhtmlOut ? ' /' : '';\n  return '<img' + src + alt + title + suffix + '>';\n};\n\n/**\n * Tables\n */\n\nrules.table_open = function(/* tokens, idx, options, env */) {\n  return '<table>\\n';\n};\nrules.table_close = function(/* tokens, idx, options, env */) {\n  return '</table>\\n';\n};\nrules.thead_open = function(/* tokens, idx, options, env */) {\n  return '<thead>\\n';\n};\nrules.thead_close = function(/* tokens, idx, options, env */) {\n  return '</thead>\\n';\n};\nrules.tbody_open = function(/* tokens, idx, options, env */) {\n  return '<tbody>\\n';\n};\nrules.tbody_close = function(/* tokens, idx, options, env */) {\n  return '</tbody>\\n';\n};\nrules.tr_open = function(/* tokens, idx, options, env */) {\n  return '<tr>';\n};\nrules.tr_close = function(/* tokens, idx, options, env */) {\n  return '</tr>\\n';\n};\nrules.th_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  return '<th'\n    + (token.align ? ' style=\"text-align:' + token.align + '\"' : '')\n    + '>';\n};\nrules.th_close = function(/* tokens, idx, options, env */) {\n  return '</th>';\n};\nrules.td_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  return '<td'\n    + (token.align ? ' style=\"text-align:' + token.align + '\"' : '')\n    + '>';\n};\nrules.td_close = function(/* tokens, idx, options, env */) {\n  return '</td>';\n};\n\n/**\n * Bold\n */\n\nrules.strong_open = function(/* tokens, idx, options, env */) {\n  return '<strong>';\n};\nrules.strong_close = function(/* tokens, idx, options, env */) {\n  return '</strong>';\n};\n\n/**\n * Italicize\n */\n\nrules.em_open = function(/* tokens, idx, options, env */) {\n  return '<em>';\n};\nrules.em_close = function(/* tokens, idx, options, env */) {\n  return '</em>';\n};\n\n/**\n * Strikethrough\n */\n\nrules.del_open = function(/* tokens, idx, options, env */) {\n  return '<del>';\n};\nrules.del_close = function(/* tokens, idx, options, env */) {\n  return '</del>';\n};\n\n/**\n * Insert\n */\n\nrules.ins_open = function(/* tokens, idx, options, env */) {\n  return '<ins>';\n};\nrules.ins_close = function(/* tokens, idx, options, env */) {\n  return '</ins>';\n};\n\n/**\n * Highlight\n */\n\nrules.mark_open = function(/* tokens, idx, options, env */) {\n  return '<mark>';\n};\nrules.mark_close = function(/* tokens, idx, options, env */) {\n  return '</mark>';\n};\n\n/**\n * Super- and sub-script\n */\n\nrules.sub = function(tokens, idx /*, options, env */) {\n  return '<sub>' + escapeHtml(tokens[idx].content) + '</sub>';\n};\nrules.sup = function(tokens, idx /*, options, env */) {\n  return '<sup>' + escapeHtml(tokens[idx].content) + '</sup>';\n};\n\n/**\n * Breaks\n */\n\nrules.hardbreak = function(tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\nrules.softbreak = function(tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n/**\n * Text\n */\n\nrules.text = function(tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n/**\n * Content\n */\n\nrules.htmlblock = function(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\nrules.htmltag = function(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n/**\n * Abbreviations, initialism\n */\n\nrules.abbr_open = function(tokens, idx /*, options, env */) {\n  return '<abbr title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\">';\n};\nrules.abbr_close = function(/* tokens, idx, options, env */) {\n  return '</abbr>';\n};\n\n/**\n * Footnotes\n */\n\nrules.footnote_ref = function(tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n  return '<sup class=\"footnote-ref\"><a href=\"#fn' + n + '\" id=\"' + id + '\">[' + n + ']</a></sup>';\n};\nrules.footnote_block_open = function(tokens, idx, options) {\n  var hr = options.xhtmlOut\n    ? '<hr class=\"footnotes-sep\" />\\n'\n    : '<hr class=\"footnotes-sep\">\\n';\n  return hr + '<section class=\"footnotes\">\\n<ol class=\"footnotes-list\">\\n';\n};\nrules.footnote_block_close = function() {\n  return '</ol>\\n</section>\\n';\n};\nrules.footnote_open = function(tokens, idx) {\n  var id = Number(tokens[idx].id + 1).toString();\n  return '<li id=\"fn' + id + '\"  class=\"footnote-item\">';\n};\nrules.footnote_close = function() {\n  return '</li>\\n';\n};\nrules.footnote_anchor = function(tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n  return ' <a href=\"#' + id + '\" class=\"footnote-backref\">â†©</a>';\n};\n\n/**\n * Definition lists\n */\n\nrules.dl_open = function() {\n  return '<dl>\\n';\n};\nrules.dt_open = function() {\n  return '<dt>';\n};\nrules.dd_open = function() {\n  return '<dd>';\n};\nrules.dl_close = function() {\n  return '</dl>\\n';\n};\nrules.dt_close = function() {\n  return '</dt>\\n';\n};\nrules.dd_close = function() {\n  return '</dd>\\n';\n};\n\n/**\n * Helper functions\n */\n\nfunction nextToken(tokens, idx) {\n  if (++idx >= tokens.length - 2) {\n    return idx;\n  }\n  if ((tokens[idx].type === 'paragraph_open' && tokens[idx].tight) &&\n      (tokens[idx + 1].type === 'inline' && tokens[idx + 1].content.length === 0) &&\n      (tokens[idx + 2].type === 'paragraph_close' && tokens[idx + 2].tight)) {\n    return nextToken(tokens, idx + 2);\n  }\n  return idx;\n}\n\n/**\n * Check to see if `\\n` is needed before the next token.\n *\n * @param  {Array} `tokens`\n * @param  {Number} `idx`\n * @return {String} Empty string or newline\n * @api private\n */\n\nvar getBreak = rules.getBreak = function getBreak(tokens, idx) {\n  idx = nextToken(tokens, idx);\n  if (idx < tokens.length && tokens[idx].type === 'list_item_close') {\n    return '';\n  }\n  return '\\n';\n};\n\n/**\n * Renderer class. Renders HTML and exposes `rules` to allow\n * local modifications.\n */\n\nfunction Renderer() {\n  this.rules = assign({}, rules);\n\n  // exported helper, for custom rules only\n  this.getBreak = rules.getBreak;\n}\n\n/**\n * Render a string of inline HTML with the given `tokens` and\n * `options`.\n *\n * @param  {Array} `tokens`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @return {String}\n * @api public\n */\n\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var _rules = this.rules;\n  var len = tokens.length, i = 0;\n  var result = '';\n\n  while (len--) {\n    result += _rules[tokens[i].type](tokens, i++, options, env, this);\n  }\n\n  return result;\n};\n\n/**\n * Render a string of HTML with the given `tokens` and\n * `options`.\n *\n * @param  {Array} `tokens`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @return {String}\n * @api public\n */\n\nRenderer.prototype.render = function (tokens, options, env) {\n  var _rules = this.rules;\n  var len = tokens.length, i = -1;\n  var result = '';\n\n  while (++i < len) {\n    if (tokens[i].type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else {\n      result += _rules[tokens[i].type](tokens, i, options, env, this);\n    }\n  }\n  return result;\n};\n\n/**\n * Ruler is a helper class for building responsibility chains from\n * parse rules. It allows:\n *\n *   - easy stack rules chains\n *   - getting main chain and named chains content (as arrays of functions)\n *\n * Helper methods, should not be used directly.\n * @api private\n */\n\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // { name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ] }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - digital anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n/**\n * Find the index of a rule by `name`.\n *\n * @param  {String} `name`\n * @return {Number} Index of the given `name`\n * @api private\n */\n\nRuler.prototype.__find__ = function (name) {\n  var len = this.__rules__.length;\n  var i = -1;\n\n  while (len--) {\n    if (this.__rules__[++i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n/**\n * Build the rules lookup cache\n *\n * @api private\n */\n\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) {\n      return;\n    }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) {\n        return;\n      }\n\n      if (chain && rule.alt.indexOf(chain) < 0) {\n        return;\n      }\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n/**\n * Ruler public methods\n * ------------------------------------------------\n */\n\n/**\n * Replace rule function\n *\n * @param  {String} `name` Rule name\n * @param  {Function `fn`\n * @param  {Object} `options`\n * @api private\n */\n\nRuler.prototype.at = function (name, fn, options) {\n  var idx = this.__find__(name);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + name);\n  }\n\n  this.__rules__[idx].fn = fn;\n  this.__rules__[idx].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the chain before given the `ruleName`.\n *\n * @param  {String}   `beforeName`\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @api private\n */\n\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var idx = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + beforeName);\n  }\n\n  this.__rules__.splice(idx, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the chain after the given `ruleName`.\n *\n * @param  {String}   `afterName`\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @api private\n */\n\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var idx = this.__find__(afterName);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + afterName);\n  }\n\n  this.__rules__.splice(idx + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the end of chain.\n *\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @return {String}\n */\n\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Enable a rule or list of rules.\n *\n * @param  {String|Array} `list` Name or array of rule names to enable\n * @param  {Boolean} `strict` If `true`, all non listed rules will be disabled.\n * @api private\n */\n\nRuler.prototype.enable = function (list, strict) {\n  list = !Array.isArray(list)\n    ? [ list ]\n    : list;\n\n  // In strict mode disable all existing rules first\n  if (strict) {\n    this.__rules__.forEach(function (rule) {\n      rule.enabled = false;\n    });\n  }\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n    if (idx < 0) {\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n  }, this);\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Disable a rule or list of rules.\n *\n * @param  {String|Array} `list` Name or array of rule names to disable\n * @api private\n */\n\nRuler.prototype.disable = function (list) {\n  list = !Array.isArray(list)\n    ? [ list ]\n    : list;\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n    if (idx < 0) {\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n  }, this);\n\n  this.__cache__ = null;\n};\n\n/**\n * Get a rules list as an array of functions.\n *\n * @param  {String} `chainName`\n * @return {Object}\n * @api private\n */\n\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n  return this.__cache__[chainName] || [];\n};\n\nfunction block(state) {\n\n  if (state.inlineMode) {\n    state.tokens.push({\n      type: 'inline',\n      content: state.src.replace(/\\n/g, ' ').trim(),\n      level: 0,\n      lines: [ 0, 1 ],\n      children: []\n    });\n\n  } else {\n    state.block.parse(state.src, state.options, state.env, state.tokens);\n  }\n}\n\n// Inline parser state\n\nfunction StateInline(src, parserInline, options, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.options = options;\n  this.parser = parserInline;\n  this.tokens = outTokens;\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  this.cache = [];        // Stores { start: end } pairs. Useful for backtrack\n                          // optimization of pairs parse (emphasis, strikes).\n\n  // Link parser state vars\n\n  this.isInLabel = false; // Set true when seek link label - we should disable\n                          // \"paired\" rules (emphasis, strikes) to not skip\n                          // tailing `]`\n\n  this.linkLevel = 0;     // Increment for each nesting link. Used to prevent\n                          // nesting in definitions\n\n  this.linkContent = '';  // Temporary storage for link url\n\n  this.labelUnmatchedScopes = 0; // Track unpaired `[` for link labels\n                                 // (backtrack optimization)\n}\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  this.tokens.push({\n    type: 'text',\n    content: this.pending,\n    level: this.pendingLevel\n  });\n  this.pending = '';\n};\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (token) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  this.tokens.push(token);\n  this.pendingLevel = this.level;\n};\n\n// Store value to cache.\n// !!! Implementation has parser-specific optimizations\n// !!! keys MUST be integer, >= 0; values MUST be integer, > 0\n//\nStateInline.prototype.cacheSet = function (key, val) {\n  for (var i = this.cache.length; i <= key; i++) {\n    this.cache.push(0);\n  }\n\n  this.cache[key] = val;\n};\n\n// Get cache value\n//\nStateInline.prototype.cacheGet = function (key) {\n  return key < this.cache.length ? this.cache[key] : 0;\n};\n\n/**\n * Parse link labels\n *\n * This function assumes that first character (`[`) already matches;\n * returns the end of the label.\n *\n * @param  {Object} state\n * @param  {Number} start\n * @api private\n */\n\nfunction parseLinkLabel(state, start) {\n  var level, found, marker,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos,\n      oldFlag = state.isInLabel;\n\n  if (state.isInLabel) { return -1; }\n\n  if (state.labelUnmatchedScopes) {\n    state.labelUnmatchedScopes--;\n    return -1;\n  }\n\n  state.pos = start + 1;\n  state.isInLabel = true;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5B /* [ */) {\n      level++;\n    } else if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n    state.labelUnmatchedScopes = 0;\n  } else {\n    state.labelUnmatchedScopes = level - 1;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n  state.isInLabel = oldFlag;\n\n  return labelEnd;\n}\n\n// Parse abbreviation definitions, i.e. `*[abbr]: description`\n\n\nfunction parseAbbr(str, parserInline, options, env) {\n  var state, labelEnd, pos, max, label, title;\n\n  if (str.charCodeAt(0) !== 0x2A/* * */) { return -1; }\n  if (str.charCodeAt(1) !== 0x5B/* [ */) { return -1; }\n\n  if (str.indexOf(']:') === -1) { return -1; }\n\n  state = new StateInline(str, parserInline, options, env, []);\n  labelEnd = parseLinkLabel(state, 1);\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return -1; }\n\n  max = state.posMax;\n\n  // abbr title is always one line, so looking for ending \"\\n\" here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x0A) { break; }\n  }\n\n  label = str.slice(2, labelEnd);\n  title = str.slice(labelEnd + 2, pos).trim();\n  if (title.length === 0) { return -1; }\n  if (!env.abbreviations) { env.abbreviations = {}; }\n  // prepend ':' to avoid conflict with Object.prototype members\n  if (typeof env.abbreviations[':' + label] === 'undefined') {\n    env.abbreviations[':' + label] = title;\n  }\n\n  return pos;\n}\n\nfunction abbr(state) {\n  var tokens = state.tokens, i, l, content, pos;\n\n  if (state.inlineMode) {\n    return;\n  }\n\n  // Parse inlines\n  for (i = 1, l = tokens.length - 1; i < l; i++) {\n    if (tokens[i - 1].type === 'paragraph_open' &&\n        tokens[i].type === 'inline' &&\n        tokens[i + 1].type === 'paragraph_close') {\n\n      content = tokens[i].content;\n      while (content.length) {\n        pos = parseAbbr(content, state.inline, state.options, state.env);\n        if (pos < 0) { break; }\n        content = content.slice(pos).trim();\n      }\n\n      tokens[i].content = content;\n      if (!content.length) {\n        tokens[i - 1].tight = true;\n        tokens[i + 1].tight = true;\n      }\n    }\n  }\n}\n\nfunction normalizeLink(url) {\n  var normalized = replaceEntities(url);\n  // We shouldn't care about the result of malformed URIs,\n  // and should not throw an exception.\n  try {\n    normalized = decodeURI(normalized);\n  } catch (err) {}\n  return encodeURI(normalized);\n}\n\n/**\n * Parse link destination\n *\n *   - on success it returns a string and updates state.pos;\n *   - on failure it returns null\n *\n * @param  {Object} state\n * @param  {Number} pos\n * @api private\n */\n\nfunction parseLinkDestination(state, pos) {\n  var code, level, link,\n      start = pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = state.src.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) { return false; }\n      if (code === 0x3E /* > */) {\n        link = normalizeLink(unescapeMd(state.src.slice(start + 1, pos)));\n        if (!state.parser.validateLink(link)) { return false; }\n        state.pos = pos + 1;\n        state.linkContent = link;\n        return true;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return false;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = state.src.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control chars\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n      if (level > 1) { break; }\n    }\n\n    if (code === 0x29 /* ) */) {\n      level--;\n      if (level < 0) { break; }\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return false; }\n\n  link = unescapeMd(state.src.slice(start, pos));\n  if (!state.parser.validateLink(link)) { return false; }\n\n  state.linkContent = link;\n  state.pos = pos;\n  return true;\n}\n\n/**\n * Parse link title\n *\n *   - on success it returns a string and updates state.pos;\n *   - on failure it returns null\n *\n * @param  {Object} state\n * @param  {Number} pos\n * @api private\n */\n\nfunction parseLinkTitle(state, pos) {\n  var code,\n      start = pos,\n      max = state.posMax,\n      marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return false; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = state.src.charCodeAt(pos);\n    if (code === marker) {\n      state.pos = pos + 1;\n      state.linkContent = unescapeMd(state.src.slice(start + 1, pos));\n      return true;\n    }\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    pos++;\n  }\n\n  return false;\n}\n\nfunction normalizeReference(str) {\n  // use .toUpperCase() instead of .toLowerCase()\n  // here to avoid a conflict with Object.prototype\n  // members (most notably, `__proto__`)\n  return str.trim().replace(/\\s+/g, ' ').toUpperCase();\n}\n\nfunction parseReference(str, parser, options, env) {\n  var state, labelEnd, pos, max, code, start, href, title, label;\n\n  if (str.charCodeAt(0) !== 0x5B/* [ */) { return -1; }\n\n  if (str.indexOf(']:') === -1) { return -1; }\n\n  state = new StateInline(str, parser, options, env, []);\n  labelEnd = parseLinkLabel(state, 0);\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return -1; }\n\n  max = state.posMax;\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    code = state.src.charCodeAt(pos);\n    if (code !== 0x20 && code !== 0x0A) { break; }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  if (!parseLinkDestination(state, pos)) { return -1; }\n  href = state.linkContent;\n  pos = state.pos;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (pos = pos + 1; pos < max; pos++) {\n    code = state.src.charCodeAt(pos);\n    if (code !== 0x20 && code !== 0x0A) { break; }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  if (pos < max && start !== pos && parseLinkTitle(state, pos)) {\n    title = state.linkContent;\n    pos = state.pos;\n  } else {\n    title = '';\n    pos = start;\n  }\n\n  // ensure that the end of the line is empty\n  while (pos < max && state.src.charCodeAt(pos) === 0x20/* space */) { pos++; }\n  if (pos < max && state.src.charCodeAt(pos) !== 0x0A) { return -1; }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (typeof env.references[label] === 'undefined') {\n    env.references[label] = { title: title, href: href };\n  }\n\n  return pos;\n}\n\n\nfunction references(state) {\n  var tokens = state.tokens, i, l, content, pos;\n\n  state.env.references = state.env.references || {};\n\n  if (state.inlineMode) {\n    return;\n  }\n\n  // Scan definitions in paragraph inlines\n  for (i = 1, l = tokens.length - 1; i < l; i++) {\n    if (tokens[i].type === 'inline' &&\n        tokens[i - 1].type === 'paragraph_open' &&\n        tokens[i + 1].type === 'paragraph_close') {\n\n      content = tokens[i].content;\n      while (content.length) {\n        pos = parseReference(content, state.inline, state.options, state.env);\n        if (pos < 0) { break; }\n        content = content.slice(pos).trim();\n      }\n\n      tokens[i].content = content;\n      if (!content.length) {\n        tokens[i - 1].tight = true;\n        tokens[i + 1].tight = true;\n      }\n    }\n  }\n}\n\nfunction inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.inline.parse(tok.content, state.options, state.env, tok.children);\n    }\n  }\n}\n\nfunction footnote_block(state) {\n  var i, l, j, t, lastParagraph, list, tokens, current, currentLabel,\n      level = 0,\n      insideRef = false,\n      refTokens = {};\n\n  if (!state.env.footnotes) { return; }\n\n  state.tokens = state.tokens.filter(function(tok) {\n    if (tok.type === 'footnote_reference_open') {\n      insideRef = true;\n      current = [];\n      currentLabel = tok.label;\n      return false;\n    }\n    if (tok.type === 'footnote_reference_close') {\n      insideRef = false;\n      // prepend ':' to avoid conflict with Object.prototype members\n      refTokens[':' + currentLabel] = current;\n      return false;\n    }\n    if (insideRef) { current.push(tok); }\n    return !insideRef;\n  });\n\n  if (!state.env.footnotes.list) { return; }\n  list = state.env.footnotes.list;\n\n  state.tokens.push({\n    type: 'footnote_block_open',\n    level: level++\n  });\n  for (i = 0, l = list.length; i < l; i++) {\n    state.tokens.push({\n      type: 'footnote_open',\n      id: i,\n      level: level++\n    });\n\n    if (list[i].tokens) {\n      tokens = [];\n      tokens.push({\n        type: 'paragraph_open',\n        tight: false,\n        level: level++\n      });\n      tokens.push({\n        type: 'inline',\n        content: '',\n        level: level,\n        children: list[i].tokens\n      });\n      tokens.push({\n        type: 'paragraph_close',\n        tight: false,\n        level: --level\n      });\n    } else if (list[i].label) {\n      tokens = refTokens[':' + list[i].label];\n    }\n\n    state.tokens = state.tokens.concat(tokens);\n    if (state.tokens[state.tokens.length - 1].type === 'paragraph_close') {\n      lastParagraph = state.tokens.pop();\n    } else {\n      lastParagraph = null;\n    }\n\n    t = list[i].count > 0 ? list[i].count : 1;\n    for (j = 0; j < t; j++) {\n      state.tokens.push({\n        type: 'footnote_anchor',\n        id: i,\n        subId: j,\n        level: level\n      });\n    }\n\n    if (lastParagraph) {\n      state.tokens.push(lastParagraph);\n    }\n\n    state.tokens.push({\n      type: 'footnote_close',\n      level: --level\n    });\n  }\n  state.tokens.push({\n    type: 'footnote_block_close',\n    level: --level\n  });\n}\n\n// Enclose abbreviations in <abbr> tags\n//\n\nvar PUNCT_CHARS = ' \\n()[]\\'\".,!?-';\n\n\n// from Google closure library\n// http://closure-library.googlecode.com/git-history/docs/local_closure_goog_string_string.js.source.html#line1021\nfunction regEscape(s) {\n  return s.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1');\n}\n\n\nfunction abbr2(state) {\n  var i, j, l, tokens, token, text, nodes, pos, level, reg, m, regText,\n      blockTokens = state.tokens;\n\n  if (!state.env.abbreviations) { return; }\n  if (!state.env.abbrRegExp) {\n    regText = '(^|[' + PUNCT_CHARS.split('').map(regEscape).join('') + '])'\n            + '(' + Object.keys(state.env.abbreviations).map(function (x) {\n                      return x.substr(1);\n                    }).sort(function (a, b) {\n                      return b.length - a.length;\n                    }).map(regEscape).join('|') + ')'\n            + '($|[' + PUNCT_CHARS.split('').map(regEscape).join('') + '])';\n    state.env.abbrRegExp = new RegExp(regText, 'g');\n  }\n  reg = state.env.abbrRegExp;\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline') { continue; }\n    tokens = blockTokens[j].children;\n\n    // We scan from the end, to keep position when new tags added.\n    for (i = tokens.length - 1; i >= 0; i--) {\n      token = tokens[i];\n      if (token.type !== 'text') { continue; }\n\n      pos = 0;\n      text = token.content;\n      reg.lastIndex = 0;\n      level = token.level;\n      nodes = [];\n\n      while ((m = reg.exec(text))) {\n        if (reg.lastIndex > pos) {\n          nodes.push({\n            type: 'text',\n            content: text.slice(pos, m.index + m[1].length),\n            level: level\n          });\n        }\n\n        nodes.push({\n          type: 'abbr_open',\n          title: state.env.abbreviations[':' + m[2]],\n          level: level++\n        });\n        nodes.push({\n          type: 'text',\n          content: m[2],\n          level: level\n        });\n        nodes.push({\n          type: 'abbr_close',\n          level: --level\n        });\n        pos = reg.lastIndex - m[3].length;\n      }\n\n      if (!nodes.length) { continue; }\n\n      if (pos < text.length) {\n        nodes.push({\n          type: 'text',\n          content: text.slice(pos),\n          level: level\n        });\n      }\n\n      // replace current node\n      blockTokens[j].children = tokens = [].concat(tokens.slice(0, i), nodes, tokens.slice(i + 1));\n    }\n  }\n}\n\n// Simple typographical replacements\n//\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> Â½, Â¼, Â¾\n// - miltiplication 2 x 4 -> 2 Ã— 4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r|p)\\)/ig;\nvar SCOPED_ABBR = {\n  'c': 'Â©',\n  'r': 'Â®',\n  'p': 'Â§',\n  'tm': 'â„¢'\n};\n\nfunction replaceScopedAbbr(str) {\n  if (str.indexOf('(') < 0) { return str; }\n\n  return str.replace(SCOPED_ABBR_RE, function(match, name) {\n    return SCOPED_ABBR[name.toLowerCase()];\n  });\n}\n\n\nfunction replace(state) {\n  var i, token, text, inlineTokens, blkIdx;\n\n  if (!state.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    inlineTokens = state.tokens[blkIdx].children;\n\n    for (i = inlineTokens.length - 1; i >= 0; i--) {\n      token = inlineTokens[i];\n      if (token.type === 'text') {\n        text = token.content;\n\n        text = replaceScopedAbbr(text);\n\n        if (RARE_RE.test(text)) {\n          text = text\n            .replace(/\\+-/g, 'Â±')\n            // .., ..., ....... -> â€¦\n            // but ?..... & !..... -> ?.. & !..\n            .replace(/\\.{2,}/g, 'â€¦').replace(/([?!])â€¦/g, '$1..')\n            .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n            // em-dash\n            .replace(/(^|[^-])---([^-]|$)/mg, '$1\\u2014$2')\n            // en-dash\n            .replace(/(^|\\s)--(\\s|$)/mg, '$1\\u2013$2')\n            .replace(/(^|[^-\\s])--([^-\\s]|$)/mg, '$1\\u2013$2');\n        }\n\n        token.content = text;\n      }\n    }\n  }\n}\n\n// Convert straight quotation marks to typographic ones\n//\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar PUNCT_RE = /[-\\s()\\[\\]]/;\nvar APOSTROPHE = 'â€™';\n\n// This function returns true if the character at `pos`\n// could be inside a word.\nfunction isLetter(str, pos) {\n  if (pos < 0 || pos >= str.length) { return false; }\n  return !PUNCT_RE.test(str[pos]);\n}\n\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\n\nfunction smartquotes(state) {\n  /*eslint max-depth:0*/\n  var i, token, text, t, pos, max, thisLevel, lastSpace, nextSpace, item,\n      canOpen, canClose, j, isSingle, blkIdx, tokens,\n      stack;\n\n  if (!state.options.typographer) { return; }\n\n  stack = [];\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    tokens = state.tokens[blkIdx].children;\n    stack.length = 0;\n\n    for (i = 0; i < tokens.length; i++) {\n      token = tokens[i];\n\n      if (token.type !== 'text' || QUOTE_TEST_RE.test(token.text)) { continue; }\n\n      thisLevel = tokens[i].level;\n\n      for (j = stack.length - 1; j >= 0; j--) {\n        if (stack[j].level <= thisLevel) { break; }\n      }\n      stack.length = j + 1;\n\n      text = token.content;\n      pos = 0;\n      max = text.length;\n\n      /*eslint no-labels:0,block-scoped-var:0*/\n      OUTER:\n      while (pos < max) {\n        QUOTE_RE.lastIndex = pos;\n        t = QUOTE_RE.exec(text);\n        if (!t) { break; }\n\n        lastSpace = !isLetter(text, t.index - 1);\n        pos = t.index + 1;\n        isSingle = (t[0] === \"'\");\n        nextSpace = !isLetter(text, pos);\n\n        if (!nextSpace && !lastSpace) {\n          // middle of word\n          if (isSingle) {\n            token.content = replaceAt(token.content, t.index, APOSTROPHE);\n          }\n          continue;\n        }\n\n        canOpen = !nextSpace;\n        canClose = !lastSpace;\n\n        if (canClose) {\n          // this could be a closing quote, rewind the stack to get a match\n          for (j = stack.length - 1; j >= 0; j--) {\n            item = stack[j];\n            if (stack[j].level < thisLevel) { break; }\n            if (item.single === isSingle && stack[j].level === thisLevel) {\n              item = stack[j];\n              if (isSingle) {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[2]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[3]);\n              } else {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[0]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[1]);\n              }\n              stack.length = j;\n              continue OUTER;\n            }\n          }\n        }\n\n        if (canOpen) {\n          stack.push({\n            token: i,\n            pos: t.index,\n            single: isSingle,\n            level: thisLevel\n          });\n        } else if (canClose && isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n      }\n    }\n  }\n}\n\n/**\n * Core parser `rules`\n */\n\nvar _rules = [\n  [ 'block',          block          ],\n  [ 'abbr',           abbr           ],\n  [ 'references',     references     ],\n  [ 'inline',         inline         ],\n  [ 'footnote_tail',  footnote_block  ],\n  [ 'abbr2',          abbr2          ],\n  [ 'replacements',   replace   ],\n  [ 'smartquotes',    smartquotes    ],\n];\n\n/**\n * Class for top level (`core`) parser rules\n *\n * @api private\n */\n\nfunction Core() {\n  this.options = {};\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n/**\n * Process rules with the given `state`\n *\n * @param  {Object} `state`\n * @api private\n */\n\nCore.prototype.process = function (state) {\n  var i, l, rules;\n  rules = this.ruler.getRules('');\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\n// Parser state class\n\nfunction StateBlock(src, parser, options, env, tokens) {\n  var ch, s, start, pos, len, indent, indent_found;\n\n  this.src = src;\n\n  // Shortcuts to simplify nested calls\n  this.parser = parser;\n\n  this.options = options;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // indent for each line\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent\n                       // (for example, if we are in list)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.parentType = 'root'; // if `list`, block parser stops on two newlines\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent = 0;\n  indent_found = false;\n\n  for (start = pos = indent = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (ch === 0x20/* space */) {\n        indent++;\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n\n      indent_found = false;\n      indent = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== 0x20/* space */) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, first, last, queue, shift,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  // Opt: don't use push queue for single line;\n  if (line + 1 === end) {\n    first = this.bMarks[line] + Math.min(this.tShift[line], indent);\n    last = keepLastLF ? this.eMarks[line] + 1 : this.eMarks[line];\n    return this.src.slice(first, last);\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    shift = this.tShift[line];\n    if (shift > indent) { shift = indent; }\n    if (shift < 0) { shift = 0; }\n\n    first = this.bMarks[line] + shift;\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    queue[i] = this.src.slice(first, last);\n  }\n\n  return queue.join('');\n};\n\n// Code block (4 spaces padded)\n\nfunction code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last;\n\n  if (state.tShift[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n    if (state.tShift[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = nextLine;\n  state.tokens.push({\n    type: 'code',\n    content: state.getLines(startLine, last, 4 + state.blkIndent, true),\n    block: true,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n}\n\n// fences (``` lang, ~~~ lang)\n\nfunction fences(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  params = state.src.slice(pos, max).trim();\n\n  if (params.indexOf('`') >= 0) { return false; }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.tShift[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.tShift[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.tShift[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n  state.tokens.push({\n    type: 'fence',\n    params: params,\n    content: state.getLines(startLine + 1, nextLine, len, true),\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n}\n\n// Block quotes\n\nfunction blockquote(state, startLine, endLine, silent) {\n  var nextLine, lastLineEmpty, oldTShift, oldBMarks, oldIndent, oldParentType, lines,\n      terminatorRules,\n      i, l, terminate,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos > max) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos++) !== 0x3E/* > */) { return false; }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  // skip one optional space after '>'\n  if (state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  oldBMarks = [ state.bMarks[startLine] ];\n  state.bMarks[startLine] = pos;\n\n  // check if we have an empty blockquote\n  pos = pos < max ? state.skipSpaces(pos) : pos;\n  lastLineEmpty = pos >= max;\n\n  oldTShift = [ state.tShift[startLine] ];\n  state.tShift[startLine] = pos - state.bMarks[startLine];\n\n  terminatorRules = state.parser.ruler.getRules('blockquote');\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine + 1; nextLine < endLine; nextLine++) {\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */) {\n      // This line is inside the blockquote.\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      pos = pos < max ? state.skipSpaces(pos) : pos;\n      lastLineEmpty = pos >= max;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n\n    // A negative number means that this is a paragraph continuation;\n    //\n    // Any negative number will do the job here, but it's better for it\n    // to be large enough to make any bugs obvious.\n    state.tShift[nextLine] = -1337;\n  }\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n  state.tokens.push({\n    type: 'blockquote_open',\n    lines: lines = [ startLine, 0 ],\n    level: state.level++\n  });\n  state.parser.tokenize(state, startLine, nextLine);\n  state.tokens.push({\n    type: 'blockquote_close',\n    level: --state.level\n  });\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n}\n\n// Horizontal rule\n\nfunction hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch,\n      pos = state.bMarks[startLine],\n      max = state.eMarks[startLine];\n\n  pos += state.tShift[startLine];\n\n  if (pos > max) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 one\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && ch !== 0x20/* space */) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n  state.tokens.push({\n    type: 'hr',\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n}\n\n// Lists\n\n// Search `[-+*][\\n ]`, returns next pos arter marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  if (pos >= max) { return -1; }\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max && state.src.charCodeAt(pos) !== 0x20) {\n    // \" 1.test \" - is not a list item\n    return -1;\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos arter marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max && state.src.charCodeAt(pos) !== 0x20/* space */) {\n    // \" 1.test \" - is not a list item\n    return -1;\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].tight = true;\n      state.tokens[i].tight = true;\n      i += 2;\n    }\n  }\n}\n\n\nfunction list(state, startLine, endLine, silent) {\n  var nextLine,\n      indent,\n      oldTShift,\n      oldIndent,\n      oldTight,\n      oldParentType,\n      start,\n      posAfterMarker,\n      max,\n      indentAfterMarker,\n      markerValue,\n      markerCharCode,\n      isOrdered,\n      contentStart,\n      listTokIdx,\n      prevEmptyEnd,\n      listLines,\n      itemLines,\n      tight = true,\n      terminatorRules,\n      i, l, terminate;\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, startLine)) >= 0) {\n    isOrdered = true;\n  } else if ((posAfterMarker = skipBulletListMarker(state, startLine)) >= 0) {\n    isOrdered = false;\n  } else {\n    return false;\n  }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    start = state.bMarks[startLine] + state.tShift[startLine];\n    markerValue = Number(state.src.substr(start, posAfterMarker - start - 1));\n\n    state.tokens.push({\n      type: 'ordered_list_open',\n      order: markerValue,\n      lines: listLines = [ startLine, 0 ],\n      level: state.level++\n    });\n\n  } else {\n    state.tokens.push({\n      type: 'bullet_list_open',\n      lines: listLines = [ startLine, 0 ],\n      level: state.level++\n    });\n  }\n\n  //\n  // Iterate list items\n  //\n\n  nextLine = startLine;\n  prevEmptyEnd = false;\n  terminatorRules = state.parser.ruler.getRules('list');\n\n  while (nextLine < endLine) {\n    contentStart = state.skipSpaces(posAfterMarker);\n    max = state.eMarks[nextLine];\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = contentStart - posAfterMarker;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // If indent is less than 1, assume that it's one, example:\n    //  \"-\\n  test\"\n    if (indentAfterMarker < 1) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = (posAfterMarker - state.bMarks[nextLine]) + indentAfterMarker;\n\n    // Run subparser & write tokens\n    state.tokens.push({\n      type: 'list_item_open',\n      lines: itemLines = [ startLine, 0 ],\n      level: state.level++\n    });\n\n    oldIndent = state.blkIndent;\n    oldTight = state.tight;\n    oldTShift = state.tShift[startLine];\n    oldParentType = state.parentType;\n    state.tShift[startLine] = contentStart - state.bMarks[startLine];\n    state.blkIndent = indent;\n    state.tight = true;\n    state.parentType = 'list';\n\n    state.parser.tokenize(state, startLine, endLine, true);\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - startLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = oldIndent;\n    state.tShift[startLine] = oldTShift;\n    state.tight = oldTight;\n    state.parentType = oldParentType;\n\n    state.tokens.push({\n      type: 'list_item_close',\n      level: --state.level\n    });\n\n    nextLine = startLine = state.line;\n    itemLines[1] = nextLine;\n    contentStart = state.bMarks[startLine];\n\n    if (nextLine >= endLine) { break; }\n\n    if (state.isEmpty(nextLine)) {\n      break;\n    }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.tShift[nextLine] < state.blkIndent) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finilize list\n  state.tokens.push({\n    type: isOrdered ? 'ordered_list_close' : 'bullet_list_close',\n    level: --state.level\n  });\n  listLines[1] = nextLine;\n\n  state.line = nextLine;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n}\n\n// Process footnote reference list\n\nfunction footnote(state, startLine, endLine, silent) {\n  var oldBMark, oldTShift, oldParentType, pos, label,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // line should be at least 5 chars - \"[^x]:\"\n  if (start + 4 > max) { return false; }\n\n  if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x20) { return false; }\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n      break;\n    }\n  }\n\n  if (pos === start + 2) { return false; } // no empty footnote labels\n  if (pos + 1 >= max || state.src.charCodeAt(++pos) !== 0x3A /* : */) { return false; }\n  if (silent) { return true; }\n  pos++;\n\n  if (!state.env.footnotes) { state.env.footnotes = {}; }\n  if (!state.env.footnotes.refs) { state.env.footnotes.refs = {}; }\n  label = state.src.slice(start + 2, pos - 2);\n  state.env.footnotes.refs[':' + label] = -1;\n\n  state.tokens.push({\n    type: 'footnote_reference_open',\n    label: label,\n    level: state.level++\n  });\n\n  oldBMark = state.bMarks[startLine];\n  oldTShift = state.tShift[startLine];\n  oldParentType = state.parentType;\n  state.tShift[startLine] = state.skipSpaces(pos) - pos;\n  state.bMarks[startLine] = pos;\n  state.blkIndent += 4;\n  state.parentType = 'footnote';\n\n  if (state.tShift[startLine] < state.blkIndent) {\n    state.tShift[startLine] += state.blkIndent;\n    state.bMarks[startLine] -= state.blkIndent;\n  }\n\n  state.parser.tokenize(state, startLine, endLine, true);\n\n  state.parentType = oldParentType;\n  state.blkIndent -= 4;\n  state.tShift[startLine] = oldTShift;\n  state.bMarks[startLine] = oldBMark;\n\n  state.tokens.push({\n    type: 'footnote_reference_close',\n    level: --state.level\n  });\n\n  return true;\n}\n\n// heading (#, ##, ...)\n\nfunction heading(state, startLine, endLine, silent) {\n  var ch, level, tmp,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos >= max) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && ch !== 0x20/* space */)) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipCharsBack(max, 0x20, pos); // space\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && state.src.charCodeAt(tmp - 1) === 0x20/* space */) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  state.tokens.push({ type: 'heading_open',\n    hLevel: level,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  // only if header is not empty\n  if (pos < max) {\n    state.tokens.push({\n      type: 'inline',\n      content: state.src.slice(pos, max).trim(),\n      level: state.level + 1,\n      lines: [ startLine, state.line ],\n      children: []\n    });\n  }\n  state.tokens.push({ type: 'heading_close', hLevel: level, level: state.level });\n\n  return true;\n}\n\n// lheading (---, ===)\n\nfunction lheading(state, startLine, endLine/*, silent*/) {\n  var marker, pos, max,\n      next = startLine + 1;\n\n  if (next >= endLine) { return false; }\n  if (state.tShift[next] < state.blkIndent) { return false; }\n\n  // Scan next line\n\n  if (state.tShift[next] - state.blkIndent > 3) { return false; }\n\n  pos = state.bMarks[next] + state.tShift[next];\n  max = state.eMarks[next];\n\n  if (pos >= max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x2D/* - */ && marker !== 0x3D/* = */) { return false; }\n\n  pos = state.skipChars(pos, marker);\n\n  pos = state.skipSpaces(pos);\n\n  if (pos < max) { return false; }\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n\n  state.line = next + 1;\n  state.tokens.push({\n    type: 'heading_open',\n    hLevel: marker === 0x3D/* = */ ? 1 : 2,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n  state.tokens.push({\n    type: 'inline',\n    content: state.src.slice(pos, state.eMarks[startLine]).trim(),\n    level: state.level + 1,\n    lines: [ startLine, state.line - 1 ],\n    children: []\n  });\n  state.tokens.push({\n    type: 'heading_close',\n    hLevel: marker === 0x3D/* = */ ? 1 : 2,\n    level: state.level\n  });\n\n  return true;\n}\n\n// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\nvar html_blocks = {};\n\n[\n  'article',\n  'aside',\n  'button',\n  'blockquote',\n  'body',\n  'canvas',\n  'caption',\n  'col',\n  'colgroup',\n  'dd',\n  'div',\n  'dl',\n  'dt',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'header',\n  'hgroup',\n  'hr',\n  'iframe',\n  'li',\n  'map',\n  'object',\n  'ol',\n  'output',\n  'p',\n  'pre',\n  'progress',\n  'script',\n  'section',\n  'style',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'tr',\n  'thead',\n  'ul',\n  'video'\n].forEach(function (name) { html_blocks[name] = true; });\n\n// HTML block\n\n\nvar HTML_TAG_OPEN_RE = /^<([a-zA-Z]{1,15})[\\s\\/>]/;\nvar HTML_TAG_CLOSE_RE = /^<\\/([a-zA-Z]{1,15})[\\s>]/;\n\nfunction isLetter$1(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\nfunction htmlblock(state, startLine, endLine, silent) {\n  var ch, match, nextLine,\n      pos = state.bMarks[startLine],\n      max = state.eMarks[startLine],\n      shift = state.tShift[startLine];\n\n  pos += shift;\n\n  if (!state.options.html) { return false; }\n\n  if (shift > 3 || pos + 2 >= max) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  ch = state.src.charCodeAt(pos + 1);\n\n  if (ch === 0x21/* ! */ || ch === 0x3F/* ? */) {\n    // Directive start / comment start / processing instruction start\n    if (silent) { return true; }\n\n  } else if (ch === 0x2F/* / */ || isLetter$1(ch)) {\n\n    // Probably start or end of tag\n    if (ch === 0x2F/* \\ */) {\n      // closing tag\n      match = state.src.slice(pos, max).match(HTML_TAG_CLOSE_RE);\n      if (!match) { return false; }\n    } else {\n      // opening tag\n      match = state.src.slice(pos, max).match(HTML_TAG_OPEN_RE);\n      if (!match) { return false; }\n    }\n    // Make sure tag name is valid\n    if (html_blocks[match[1].toLowerCase()] !== true) { return false; }\n    if (silent) { return true; }\n\n  } else {\n    return false;\n  }\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till empty line (block end).\n  nextLine = startLine + 1;\n  while (nextLine < state.lineMax && !state.isEmpty(nextLine)) {\n    nextLine++;\n  }\n\n  state.line = nextLine;\n  state.tokens.push({\n    type: 'htmlblock',\n    level: state.level,\n    lines: [ startLine, state.line ],\n    content: state.getLines(startLine, nextLine, 0, true)\n  });\n\n  return true;\n}\n\n// GFM table, non-standard\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.blkIndent,\n      max = state.eMarks[line];\n\n  return state.src.substr(pos, max - pos);\n}\n\nfunction table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, nextLine, rows, cell,\n      aligns, t, tableLines, tbodyLines;\n\n  // should have at least three lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.tShift[nextLine] < state.blkIndent) { return false; }\n\n  // first character of the second line should be '|' or '-'\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  ch = state.src.charCodeAt(pos);\n  if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */) { return false; }\n\n  lineText = getLine(state, startLine + 1);\n  if (!/^[-:| ]+$/.test(lineText)) { return false; }\n\n  rows = lineText.split('|');\n  if (rows <= 2) { return false; }\n  aligns = [];\n  for (i = 0; i < rows.length; i++) {\n    t = rows[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === rows.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  rows = lineText.replace(/^\\||\\|$/g, '').split('|');\n  if (aligns.length !== rows.length) { return false; }\n  if (silent) { return true; }\n\n  state.tokens.push({\n    type: 'table_open',\n    lines: tableLines = [ startLine, 0 ],\n    level: state.level++\n  });\n  state.tokens.push({\n    type: 'thead_open',\n    lines: [ startLine, startLine + 1 ],\n    level: state.level++\n  });\n\n  state.tokens.push({\n    type: 'tr_open',\n    lines: [ startLine, startLine + 1 ],\n    level: state.level++\n  });\n  for (i = 0; i < rows.length; i++) {\n    state.tokens.push({\n      type: 'th_open',\n      align: aligns[i],\n      lines: [ startLine, startLine + 1 ],\n      level: state.level++\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: rows[i].trim(),\n      lines: [ startLine, startLine + 1 ],\n      level: state.level,\n      children: []\n    });\n    state.tokens.push({ type: 'th_close', level: --state.level });\n  }\n  state.tokens.push({ type: 'tr_close', level: --state.level });\n  state.tokens.push({ type: 'thead_close', level: --state.level });\n\n  state.tokens.push({\n    type: 'tbody_open',\n    lines: tbodyLines = [ startLine + 2, 0 ],\n    level: state.level++\n  });\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.tShift[nextLine] < state.blkIndent) { break; }\n\n    lineText = getLine(state, nextLine).trim();\n    if (lineText.indexOf('|') === -1) { break; }\n    rows = lineText.replace(/^\\||\\|$/g, '').split('|');\n\n    state.tokens.push({ type: 'tr_open', level: state.level++ });\n    for (i = 0; i < rows.length; i++) {\n      state.tokens.push({ type: 'td_open', align: aligns[i], level: state.level++ });\n      // 0x7c === '|'\n      cell = rows[i].substring(\n          rows[i].charCodeAt(0) === 0x7c ? 1 : 0,\n          rows[i].charCodeAt(rows[i].length - 1) === 0x7c ? rows[i].length - 1 : rows[i].length\n      ).trim();\n      state.tokens.push({\n        type: 'inline',\n        content: cell,\n        level: state.level,\n        children: []\n      });\n      state.tokens.push({ type: 'td_close', level: --state.level });\n    }\n    state.tokens.push({ type: 'tr_close', level: --state.level });\n  }\n  state.tokens.push({ type: 'tbody_close', level: --state.level });\n  state.tokens.push({ type: 'table_close', level: --state.level });\n\n  tableLines[1] = tbodyLines[1] = nextLine;\n  state.line = nextLine;\n  return true;\n}\n\n// Definition lists\n\n// Search `[:~][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipMarker(state, line) {\n  var pos, marker,\n      start = state.bMarks[line] + state.tShift[line],\n      max = state.eMarks[line];\n\n  if (start >= max) { return -1; }\n\n  // Check bullet\n  marker = state.src.charCodeAt(start++);\n  if (marker !== 0x7E/* ~ */ && marker !== 0x3A/* : */) { return -1; }\n\n  pos = state.skipSpaces(start);\n\n  // require space after \":\"\n  if (start === pos) { return -1; }\n\n  // no empty definitions, e.g. \"  : \"\n  if (pos >= max) { return -1; }\n\n  return pos;\n}\n\nfunction markTightParagraphs$1(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].tight = true;\n      state.tokens[i].tight = true;\n      i += 2;\n    }\n  }\n}\n\nfunction deflist(state, startLine, endLine, silent) {\n  var contentStart,\n      ddLine,\n      dtLine,\n      itemLines,\n      listLines,\n      listTokIdx,\n      nextLine,\n      oldIndent,\n      oldDDIndent,\n      oldParentType,\n      oldTShift,\n      oldTight,\n      prevEmptyEnd,\n      tight;\n\n  if (silent) {\n    // quirk: validation mode validates a dd block only, not a whole deflist\n    if (state.ddIndent < 0) { return false; }\n    return skipMarker(state, startLine) >= 0;\n  }\n\n  nextLine = startLine + 1;\n  if (state.isEmpty(nextLine)) {\n    if (++nextLine > endLine) { return false; }\n  }\n\n  if (state.tShift[nextLine] < state.blkIndent) { return false; }\n  contentStart = skipMarker(state, nextLine);\n  if (contentStart < 0) { return false; }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  state.tokens.push({\n    type: 'dl_open',\n    lines: listLines = [ startLine, 0 ],\n    level: state.level++\n  });\n\n  //\n  // Iterate list items\n  //\n\n  dtLine = startLine;\n  ddLine = nextLine;\n\n  // One definition list can contain multiple DTs,\n  // and one DT can be followed by multiple DDs.\n  //\n  // Thus, there is two loops here, and label is\n  // needed to break out of the second one\n  //\n  /*eslint no-labels:0,block-scoped-var:0*/\n  OUTER:\n  for (;;) {\n    tight = true;\n    prevEmptyEnd = false;\n\n    state.tokens.push({\n      type: 'dt_open',\n      lines: [ dtLine, dtLine ],\n      level: state.level++\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: state.getLines(dtLine, dtLine + 1, state.blkIndent, false).trim(),\n      level: state.level + 1,\n      lines: [ dtLine, dtLine ],\n      children: []\n    });\n    state.tokens.push({\n      type: 'dt_close',\n      level: --state.level\n    });\n\n    for (;;) {\n      state.tokens.push({\n        type: 'dd_open',\n        lines: itemLines = [ nextLine, 0 ],\n        level: state.level++\n      });\n\n      oldTight = state.tight;\n      oldDDIndent = state.ddIndent;\n      oldIndent = state.blkIndent;\n      oldTShift = state.tShift[ddLine];\n      oldParentType = state.parentType;\n      state.blkIndent = state.ddIndent = state.tShift[ddLine] + 2;\n      state.tShift[ddLine] = contentStart - state.bMarks[ddLine];\n      state.tight = true;\n      state.parentType = 'deflist';\n\n      state.parser.tokenize(state, ddLine, endLine, true);\n\n      // If any of list item is tight, mark list as tight\n      if (!state.tight || prevEmptyEnd) {\n        tight = false;\n      }\n      // Item become loose if finish with empty line,\n      // but we should filter last element, because it means list finish\n      prevEmptyEnd = (state.line - ddLine) > 1 && state.isEmpty(state.line - 1);\n\n      state.tShift[ddLine] = oldTShift;\n      state.tight = oldTight;\n      state.parentType = oldParentType;\n      state.blkIndent = oldIndent;\n      state.ddIndent = oldDDIndent;\n\n      state.tokens.push({\n        type: 'dd_close',\n        level: --state.level\n      });\n\n      itemLines[1] = nextLine = state.line;\n\n      if (nextLine >= endLine) { break OUTER; }\n\n      if (state.tShift[nextLine] < state.blkIndent) { break OUTER; }\n      contentStart = skipMarker(state, nextLine);\n      if (contentStart < 0) { break; }\n\n      ddLine = nextLine;\n\n      // go to the next loop iteration:\n      // insert DD tag and repeat checking\n    }\n\n    if (nextLine >= endLine) { break; }\n    dtLine = nextLine;\n\n    if (state.isEmpty(dtLine)) { break; }\n    if (state.tShift[dtLine] < state.blkIndent) { break; }\n\n    ddLine = dtLine + 1;\n    if (ddLine >= endLine) { break; }\n    if (state.isEmpty(ddLine)) { ddLine++; }\n    if (ddLine >= endLine) { break; }\n\n    if (state.tShift[ddLine] < state.blkIndent) { break; }\n    contentStart = skipMarker(state, ddLine);\n    if (contentStart < 0) { break; }\n\n    // go to the next loop iteration:\n    // insert DT and DD tags and repeat checking\n  }\n\n  // Finilize list\n  state.tokens.push({\n    type: 'dl_close',\n    level: --state.level\n  });\n  listLines[1] = nextLine;\n\n  state.line = nextLine;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs$1(state, listTokIdx);\n  }\n\n  return true;\n}\n\n// Paragraph\n\nfunction paragraph(state, startLine/*, endLine*/) {\n  var endLine, content, terminate, i, l,\n      nextLine = startLine + 1,\n      terminatorRules;\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  if (nextLine < endLine && !state.isEmpty(nextLine)) {\n    terminatorRules = state.parser.ruler.getRules('paragraph');\n\n    for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n      // this would be a code block normally, but after paragraph\n      // it's considered a lazy continuation regardless of what's there\n      if (state.tShift[nextLine] - state.blkIndent > 3) { continue; }\n\n      // Some tags can terminate paragraph without empty line.\n      terminate = false;\n      for (i = 0, l = terminatorRules.length; i < l; i++) {\n        if (terminatorRules[i](state, nextLine, endLine, true)) {\n          terminate = true;\n          break;\n        }\n      }\n      if (terminate) { break; }\n    }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n  if (content.length) {\n    state.tokens.push({\n      type: 'paragraph_open',\n      tight: false,\n      lines: [ startLine, state.line ],\n      level: state.level\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: content,\n      level: state.level + 1,\n      lines: [ startLine, state.line ],\n      children: []\n    });\n    state.tokens.push({\n      type: 'paragraph_close',\n      tight: false,\n      level: state.level\n    });\n  }\n\n  return true;\n}\n\n/**\n * Parser rules\n */\n\nvar _rules$1 = [\n  [ 'code',       code ],\n  [ 'fences',     fences,     [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'blockquote', blockquote, [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'hr',         hr,         [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'list',       list,       [ 'paragraph', 'blockquote' ] ],\n  [ 'footnote',   footnote,   [ 'paragraph' ] ],\n  [ 'heading',    heading,    [ 'paragraph', 'blockquote' ] ],\n  [ 'lheading',   lheading ],\n  [ 'htmlblock',  htmlblock,  [ 'paragraph', 'blockquote' ] ],\n  [ 'table',      table,      [ 'paragraph' ] ],\n  [ 'deflist',    deflist,    [ 'paragraph' ] ],\n  [ 'paragraph',  paragraph ]\n];\n\n/**\n * Block Parser class\n *\n * @api private\n */\n\nfunction ParserBlock() {\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules$1.length; i++) {\n    this.ruler.push(_rules$1[i][0], _rules$1[i][1], {\n      alt: (_rules$1[i][2] || []).slice()\n    });\n  }\n}\n\n/**\n * Generate tokens for the given input range.\n *\n * @param  {Object} `state` Has properties like `src`, `parser`, `options` etc\n * @param  {Number} `startLine`\n * @param  {Number} `endLine`\n * @api private\n */\n\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var line = startLine;\n  var hasEmptyLines = false;\n  var ok, i;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) {\n      break;\n    }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.tShift[line] < state.blkIndent) {\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) {\n        break;\n      }\n    }\n\n    // set state.tight iff we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n\n      // two empty lines should stop the parser in list mode\n      if (line < endLine && state.parentType === 'list' && state.isEmpty(line)) { break; }\n      state.line = line;\n    }\n  }\n};\n\nvar TABS_SCAN_RE = /[\\n\\t]/g;\nvar NEWLINES_RE  = /\\r[\\n\\u0085]|[\\u2424\\u2028\\u0085]/g;\nvar SPACES_RE    = /\\u00a0/g;\n\n/**\n * Tokenize the given `str`.\n *\n * @param  {String} `str` Source string\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @param  {Array} `outTokens`\n * @api private\n */\n\nParserBlock.prototype.parse = function (str, options, env, outTokens) {\n  var state, lineStart = 0, lastTabPos = 0;\n  if (!str) { return []; }\n\n  // Normalize spaces\n  str = str.replace(SPACES_RE, ' ');\n\n  // Normalize newlines\n  str = str.replace(NEWLINES_RE, '\\n');\n\n  // Replace tabs with proper number of spaces (1..4)\n  if (str.indexOf('\\t') >= 0) {\n    str = str.replace(TABS_SCAN_RE, function (match, offset) {\n      var result;\n      if (str.charCodeAt(offset) === 0x0A) {\n        lineStart = offset + 1;\n        lastTabPos = 0;\n        return match;\n      }\n      result = '    '.slice((offset - lineStart - lastTabPos) % 4);\n      lastTabPos = offset - lineStart + 1;\n      return result;\n    });\n  }\n\n  state = new StateBlock(str, this, options, env, outTokens);\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x5C/* \\ */:\n    case 0x60/* ` */:\n    case 0x2A/* * */:\n    case 0x5F/* _ */:\n    case 0x5E/* ^ */:\n    case 0x5B/* [ */:\n    case 0x5D/* ] */:\n    case 0x21/* ! */:\n    case 0x26/* & */:\n    case 0x3C/* < */:\n    case 0x3E/* > */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x40/* @ */:\n    case 0x7E/* ~ */:\n    case 0x2B/* + */:\n    case 0x3D/* = */:\n    case 0x3A/* : */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nfunction text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n}\n\n// Proceess '\\n'\n\nfunction newline(state, silent) {\n  var pmax, max, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        // Strip out all trailing spaces on this line.\n        for (var i = pmax - 2; i >= 0; i--) {\n          if (state.pending.charCodeAt(i) !== 0x20) {\n            state.pending = state.pending.substring(0, i + 1);\n            break;\n          }\n        }\n        state.push({\n          type: 'hardbreak',\n          level: state.level\n        });\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push({\n          type: 'softbreak',\n          level: state.level\n        });\n      }\n\n    } else {\n      state.push({\n        type: 'softbreak',\n        level: state.level\n      });\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n  state.pos = pos;\n  return true;\n}\n\n// Proceess escaped chars and hardbreaks\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function(ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nfunction escape(state, silent) {\n  var ch, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) { return false; }\n\n  pos++;\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch < 256 && ESCAPED[ch] !== 0) {\n      if (!silent) { state.pending += state.src[pos]; }\n      state.pos += 2;\n      return true;\n    }\n\n    if (ch === 0x0A) {\n      if (!silent) {\n        state.push({\n          type: 'hardbreak',\n          level: state.level\n        });\n      }\n\n      pos++;\n      // skip leading whitespaces from next line\n      while (pos < max && state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n      state.pos = pos;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += '\\\\'; }\n  state.pos++;\n  return true;\n}\n\n// Parse backticks\n\nfunction backticks(state, silent) {\n  var start, max, marker, matchStart, matchEnd,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n\n  matchStart = matchEnd = pos;\n\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    if (matchEnd - matchStart === marker.length) {\n      if (!silent) {\n        state.push({\n          type: 'code',\n          content: state.src.slice(pos, matchStart)\n                              .replace(/[ \\n]+/g, ' ')\n                              .trim(),\n          block: false,\n          level: state.level\n        });\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += marker; }\n  state.pos += marker.length;\n  return true;\n}\n\n// Process ~~deleted text~~\n\nfunction del(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x7E/* ~ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x7E/* ~ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x7E/* ~ */) { return false; }\n  if (nextChar === 0x7E/* ~ */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x7E/* ~ */) { pos++; }\n  if (pos > start + 3) {\n    // sequence of 4+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x7E/* ~ */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x7E/* ~ */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x7E/* ~ */ && lastChar !== 0x7E/* ~ */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '~~'\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '~~'\n            stack++;\n          } // else {\n            //  // standalone ' ~~ ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'del_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'del_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n}\n\n// Process ++inserted text++\n\nfunction ins(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x2B/* + */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x2B/* + */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x2B/* + */) { return false; }\n  if (nextChar === 0x2B/* + */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x2B/* + */) { pos++; }\n  if (pos !== start + 2) {\n    // sequence of 3+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x2B/* + */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x2B/* + */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x2B/* + */ && lastChar !== 0x2B/* + */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '++'\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '++'\n            stack++;\n          } // else {\n            //  // standalone ' ++ ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'ins_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'ins_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n}\n\n// Process ==highlighted text==\n\nfunction mark(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x3D/* = */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x3D/* = */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x3D/* = */) { return false; }\n  if (nextChar === 0x3D/* = */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x3D/* = */) { pos++; }\n  if (pos !== start + 2) {\n    // sequence of 3+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x3D/* = */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x3D/* = */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x3D/* = */ && lastChar !== 0x3D/* = */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '=='\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '=='\n            stack++;\n          } // else {\n            //  // standalone ' == ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'mark_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'mark_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n}\n\n// Process *this* and _that_\n\nfunction isAlphaNum(code) {\n  return (code >= 0x30 /* 0 */ && code <= 0x39 /* 9 */) ||\n         (code >= 0x41 /* A */ && code <= 0x5A /* Z */) ||\n         (code >= 0x61 /* a */ && code <= 0x7A /* z */);\n}\n\n// parse sequence of emphasis markers,\n// \"start\" should point at a valid marker\nfunction scanDelims(state, start) {\n  var pos = start, lastChar, nextChar, count,\n      can_open = true,\n      can_close = true,\n      max = state.posMax,\n      marker = state.src.charCodeAt(start);\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n\n  while (pos < max && state.src.charCodeAt(pos) === marker) { pos++; }\n  if (pos >= max) { can_open = false; }\n  count = pos - start;\n\n  if (count >= 4) {\n    // sequence of four or more unescaped markers can't start/end an emphasis\n    can_open = can_close = false;\n  } else {\n    nextChar = pos < max ? state.src.charCodeAt(pos) : -1;\n\n    // check whitespace conditions\n    if (nextChar === 0x20 || nextChar === 0x0A) { can_open = false; }\n    if (lastChar === 0x20 || lastChar === 0x0A) { can_close = false; }\n\n    if (marker === 0x5F /* _ */) {\n      // check if we aren't inside the word\n      if (isAlphaNum(lastChar)) { can_open = false; }\n      if (isAlphaNum(nextChar)) { can_close = false; }\n    }\n  }\n\n  return {\n    can_open: can_open,\n    can_close: can_close,\n    delims: count\n  };\n}\n\nfunction emphasis(state, silent) {\n  var startCount,\n      count,\n      found,\n      oldCount,\n      newCount,\n      stack,\n      res,\n      max = state.posMax,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (marker !== 0x5F/* _ */ && marker !== 0x2A /* * */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n\n  res = scanDelims(state, start);\n  startCount = res.delims;\n  if (!res.can_open) {\n    state.pos += startCount;\n    if (!silent) { state.pending += state.src.slice(start, state.pos); }\n    return true;\n  }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + startCount;\n  stack = [ startCount ];\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === marker) {\n      res = scanDelims(state, state.pos);\n      count = res.delims;\n      if (res.can_close) {\n        oldCount = stack.pop();\n        newCount = count;\n\n        while (oldCount !== newCount) {\n          if (newCount < oldCount) {\n            stack.push(oldCount - newCount);\n            break;\n          }\n\n          // assert(newCount > oldCount)\n          newCount -= oldCount;\n\n          if (stack.length === 0) { break; }\n          state.pos += oldCount;\n          oldCount = stack.pop();\n        }\n\n        if (stack.length === 0) {\n          startCount = oldCount;\n          found = true;\n          break;\n        }\n        state.pos += count;\n        continue;\n      }\n\n      if (res.can_open) { stack.push(count); }\n      state.pos += count;\n      continue;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + startCount;\n\n  if (!silent) {\n    if (startCount === 2 || startCount === 3) {\n      state.push({ type: 'strong_open', level: state.level++ });\n    }\n    if (startCount === 1 || startCount === 3) {\n      state.push({ type: 'em_open', level: state.level++ });\n    }\n\n    state.parser.tokenize(state);\n\n    if (startCount === 1 || startCount === 3) {\n      state.push({ type: 'em_close', level: --state.level });\n    }\n    if (startCount === 2 || startCount === 3) {\n      state.push({ type: 'strong_close', level: --state.level });\n    }\n  }\n\n  state.pos = state.posMax + startCount;\n  state.posMax = max;\n  return true;\n}\n\n// Process ~subscript~\n\n// same as UNESCAPE_MD_RE plus a space\nvar UNESCAPE_RE = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction sub(state, silent) {\n  var found,\n      content,\n      max = state.posMax,\n      start = state.pos;\n\n  if (state.src.charCodeAt(start) !== 0x7E/* ~ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 2 >= max) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === 0x7E/* ~ */) {\n      found = true;\n      break;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n    return false;\n  }\n\n  content = state.src.slice(start + 1, state.pos);\n\n  // don't allow unescaped spaces/newlines inside\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  if (!silent) {\n    state.push({\n      type: 'sub',\n      level: state.level,\n      content: content.replace(UNESCAPE_RE, '$1')\n    });\n  }\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n  return true;\n}\n\n// Process ^superscript^\n\n// same as UNESCAPE_MD_RE plus a space\nvar UNESCAPE_RE$1 = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction sup(state, silent) {\n  var found,\n      content,\n      max = state.posMax,\n      start = state.pos;\n\n  if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 2 >= max) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === 0x5E/* ^ */) {\n      found = true;\n      break;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n    return false;\n  }\n\n  content = state.src.slice(start + 1, state.pos);\n\n  // don't allow unescaped spaces/newlines inside\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  if (!silent) {\n    state.push({\n      type: 'sup',\n      level: state.level,\n      content: content.replace(UNESCAPE_RE$1, '$1')\n    });\n  }\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n  return true;\n}\n\n// Process [links](<to> \"stuff\")\n\n\nfunction links(state, silent) {\n  var labelStart,\n      labelEnd,\n      label,\n      href,\n      title,\n      pos,\n      ref,\n      code,\n      isImage = false,\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (marker === 0x21/* ! */) {\n    isImage = true;\n    marker = state.src.charCodeAt(++start);\n  }\n\n  if (marker !== 0x5B/* [ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  labelStart = start + 1;\n  labelEnd = parseLinkLabel(state, start);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    if (parseLinkDestination(state, pos)) {\n      href = state.linkContent;\n      pos = state.pos;\n    } else {\n      href = '';\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    if (pos < max && start !== pos && parseLinkTitle(state, pos)) {\n      title = state.linkContent;\n      pos = state.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (code !== 0x20 && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n\n    // do not allow nested reference links\n    if (state.linkLevel > 0) { return false; }\n\n    // [foo]  [bar]\n    //      ^^ optional whitespace (can include newlines)\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = start - 1;\n      }\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) {\n      if (typeof label === 'undefined') {\n        pos = labelEnd + 1;\n      }\n      label = state.src.slice(labelStart, labelEnd);\n    }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    if (isImage) {\n      state.push({\n        type: 'image',\n        src: href,\n        title: title,\n        alt: state.src.substr(labelStart, labelEnd - labelStart),\n        level: state.level\n      });\n    } else {\n      state.push({\n        type: 'link_open',\n        href: href,\n        title: title,\n        level: state.level++\n      });\n      state.linkLevel++;\n      state.parser.tokenize(state);\n      state.linkLevel--;\n      state.push({ type: 'link_close', level: --state.level });\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n}\n\n// Process inline footnotes (^[...])\n\n\nfunction footnote_inline(state, silent) {\n  var labelStart,\n      labelEnd,\n      footnoteId,\n      oldLength,\n      max = state.posMax,\n      start = state.pos;\n\n  if (start + 2 >= max) { return false; }\n  if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5B/* [ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  labelStart = start + 2;\n  labelEnd = parseLinkLabel(state, start + 1);\n\n  // parser failed to find ']', so it's not a valid note\n  if (labelEnd < 0) { return false; }\n\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    if (!state.env.footnotes) { state.env.footnotes = {}; }\n    if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n    footnoteId = state.env.footnotes.list.length;\n\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      level: state.level\n    });\n    state.linkLevel++;\n    oldLength = state.tokens.length;\n    state.parser.tokenize(state);\n    state.env.footnotes.list[footnoteId] = { tokens: state.tokens.splice(oldLength) };\n    state.linkLevel--;\n  }\n\n  state.pos = labelEnd + 1;\n  state.posMax = max;\n  return true;\n}\n\n// Process footnote references ([^...])\n\nfunction footnote_ref(state, silent) {\n  var label,\n      pos,\n      footnoteId,\n      footnoteSubId,\n      max = state.posMax,\n      start = state.pos;\n\n  // should be at least 4 chars - \"[^x]\"\n  if (start + 3 > max) { return false; }\n\n  if (!state.env.footnotes || !state.env.footnotes.refs) { return false; }\n  if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x20) { return false; }\n    if (state.src.charCodeAt(pos) === 0x0A) { return false; }\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n      break;\n    }\n  }\n\n  if (pos === start + 2) { return false; } // no empty footnote labels\n  if (pos >= max) { return false; }\n  pos++;\n\n  label = state.src.slice(start + 2, pos - 1);\n  if (typeof state.env.footnotes.refs[':' + label] === 'undefined') { return false; }\n\n  if (!silent) {\n    if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n\n    if (state.env.footnotes.refs[':' + label] < 0) {\n      footnoteId = state.env.footnotes.list.length;\n      state.env.footnotes.list[footnoteId] = { label: label, count: 0 };\n      state.env.footnotes.refs[':' + label] = footnoteId;\n    } else {\n      footnoteId = state.env.footnotes.refs[':' + label];\n    }\n\n    footnoteSubId = state.env.footnotes.list[footnoteId].count;\n    state.env.footnotes.list[footnoteId].count++;\n\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      subId: footnoteSubId,\n      level: state.level\n    });\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n}\n\n// List of valid url schemas, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#autolinks\n\nvar url_schemas = [\n  'coap',\n  'doi',\n  'javascript',\n  'aaa',\n  'aaas',\n  'about',\n  'acap',\n  'cap',\n  'cid',\n  'crid',\n  'data',\n  'dav',\n  'dict',\n  'dns',\n  'file',\n  'ftp',\n  'geo',\n  'go',\n  'gopher',\n  'h323',\n  'http',\n  'https',\n  'iax',\n  'icap',\n  'im',\n  'imap',\n  'info',\n  'ipp',\n  'iris',\n  'iris.beep',\n  'iris.xpc',\n  'iris.xpcs',\n  'iris.lwz',\n  'ldap',\n  'mailto',\n  'mid',\n  'msrp',\n  'msrps',\n  'mtqp',\n  'mupdate',\n  'news',\n  'nfs',\n  'ni',\n  'nih',\n  'nntp',\n  'opaquelocktoken',\n  'pop',\n  'pres',\n  'rtsp',\n  'service',\n  'session',\n  'shttp',\n  'sieve',\n  'sip',\n  'sips',\n  'sms',\n  'snmp',\n  'soap.beep',\n  'soap.beeps',\n  'tag',\n  'tel',\n  'telnet',\n  'tftp',\n  'thismessage',\n  'tn3270',\n  'tip',\n  'tv',\n  'urn',\n  'vemmi',\n  'ws',\n  'wss',\n  'xcon',\n  'xcon-userid',\n  'xmlrpc.beep',\n  'xmlrpc.beeps',\n  'xmpp',\n  'z39.50r',\n  'z39.50s',\n  'adiumxtra',\n  'afp',\n  'afs',\n  'aim',\n  'apt',\n  'attachment',\n  'aw',\n  'beshare',\n  'bitcoin',\n  'bolo',\n  'callto',\n  'chrome',\n  'chrome-extension',\n  'com-eventbrite-attendee',\n  'content',\n  'cvs',\n  'dlna-playsingle',\n  'dlna-playcontainer',\n  'dtn',\n  'dvb',\n  'ed2k',\n  'facetime',\n  'feed',\n  'finger',\n  'fish',\n  'gg',\n  'git',\n  'gizmoproject',\n  'gtalk',\n  'hcp',\n  'icon',\n  'ipn',\n  'irc',\n  'irc6',\n  'ircs',\n  'itms',\n  'jar',\n  'jms',\n  'keyparc',\n  'lastfm',\n  'ldaps',\n  'magnet',\n  'maps',\n  'market',\n  'message',\n  'mms',\n  'ms-help',\n  'msnim',\n  'mumble',\n  'mvn',\n  'notes',\n  'oid',\n  'palm',\n  'paparazzi',\n  'platform',\n  'proxy',\n  'psyc',\n  'query',\n  'res',\n  'resource',\n  'rmi',\n  'rsync',\n  'rtmp',\n  'secondlife',\n  'sftp',\n  'sgn',\n  'skype',\n  'smb',\n  'soldat',\n  'spotify',\n  'ssh',\n  'steam',\n  'svn',\n  'teamspeak',\n  'things',\n  'udp',\n  'unreal',\n  'ut2004',\n  'ventrilo',\n  'view-source',\n  'webcal',\n  'wtai',\n  'wyciwyg',\n  'xfire',\n  'xri',\n  'ymsgr'\n];\n\n// Process autolinks '<protocol:...>'\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;\nvar AUTOLINK_RE = /^<([a-zA-Z.\\-]{1,25}):([^<>\\x00-\\x20]*)>/;\n\n\nfunction autolink(state, silent) {\n  var tail, linkMatch, emailMatch, url, fullUrl, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  tail = state.src.slice(pos);\n\n  if (tail.indexOf('>') < 0) { return false; }\n\n  linkMatch = tail.match(AUTOLINK_RE);\n\n  if (linkMatch) {\n    if (url_schemas.indexOf(linkMatch[1].toLowerCase()) < 0) { return false; }\n\n    url = linkMatch[0].slice(1, -1);\n    fullUrl = normalizeLink(url);\n    if (!state.parser.validateLink(url)) { return false; }\n\n    if (!silent) {\n      state.push({\n        type: 'link_open',\n        href: fullUrl,\n        level: state.level\n      });\n      state.push({\n        type: 'text',\n        content: url,\n        level: state.level + 1\n      });\n      state.push({ type: 'link_close', level: state.level });\n    }\n\n    state.pos += linkMatch[0].length;\n    return true;\n  }\n\n  emailMatch = tail.match(EMAIL_RE);\n\n  if (emailMatch) {\n\n    url = emailMatch[0].slice(1, -1);\n\n    fullUrl = normalizeLink('mailto:' + url);\n    if (!state.parser.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      state.push({\n        type: 'link_open',\n        href: fullUrl,\n        level: state.level\n      });\n      state.push({\n        type: 'text',\n        content: url,\n        level: state.level + 1\n      });\n      state.push({ type: 'link_close', level: state.level });\n    }\n\n    state.pos += emailMatch[0].length;\n    return true;\n  }\n\n  return false;\n}\n\n// Regexps to match html elements\n\nfunction replace$1(regex, options) {\n  regex = regex.source;\n  options = options || '';\n\n  return function self(name, val) {\n    if (!name) {\n      return new RegExp(regex, options);\n    }\n    val = val.source || val;\n    regex = regex.replace(name, val);\n    return self;\n  };\n}\n\n\nvar attr_name     = /[a-zA-Z_:][a-zA-Z0-9:._-]*/;\n\nvar unquoted      = /[^\"'=<>`\\x00-\\x20]+/;\nvar single_quoted = /'[^']*'/;\nvar double_quoted = /\"[^\"]*\"/;\n\n/*eslint no-spaced-func:0*/\nvar attr_value  = replace$1(/(?:unquoted|single_quoted|double_quoted)/)\n                    ('unquoted', unquoted)\n                    ('single_quoted', single_quoted)\n                    ('double_quoted', double_quoted)\n                    ();\n\nvar attribute   = replace$1(/(?:\\s+attr_name(?:\\s*=\\s*attr_value)?)/)\n                    ('attr_name', attr_name)\n                    ('attr_value', attr_value)\n                    ();\n\nvar open_tag    = replace$1(/<[A-Za-z][A-Za-z0-9]*attribute*\\s*\\/?>/)\n                    ('attribute', attribute)\n                    ();\n\nvar close_tag   = /<\\/[A-Za-z][A-Za-z0-9]*\\s*>/;\nvar comment     = /<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/;\nvar processing  = /<[?].*?[?]>/;\nvar declaration = /<![A-Z]+\\s+[^>]*>/;\nvar cdata       = /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/;\n\nvar HTML_TAG_RE = replace$1(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)\n  ('open_tag', open_tag)\n  ('close_tag', close_tag)\n  ('comment', comment)\n  ('processing', processing)\n  ('declaration', declaration)\n  ('cdata', cdata)\n  ();\n\n// Process html tags\n\n\nfunction isLetter$2(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nfunction htmltag(state, silent) {\n  var ch, match, max, pos = state.pos;\n\n  if (!state.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter$2(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    state.push({\n      type: 'htmltag',\n      content: state.src.slice(pos, pos + match[0].length),\n      level: state.level\n    });\n  }\n  state.pos += match[0].length;\n  return true;\n}\n\n// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nfunction entity(state, silent) {\n  var ch, code, match, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) { return false; }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23 /* # */) {\n      match = state.src.slice(pos).match(DIGITAL_RE);\n      if (match) {\n        if (!silent) {\n          code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n          state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n      if (match) {\n        var decoded = decodeEntity(match[1]);\n        if (match[1] !== decoded) {\n          if (!silent) { state.pending += decoded; }\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) { state.pending += '&'; }\n  state.pos++;\n  return true;\n}\n\n/**\n * Inline Parser `rules`\n */\n\nvar _rules$2 = [\n  [ 'text',            text ],\n  [ 'newline',         newline ],\n  [ 'escape',          escape ],\n  [ 'backticks',       backticks ],\n  [ 'del',             del ],\n  [ 'ins',             ins ],\n  [ 'mark',            mark ],\n  [ 'emphasis',        emphasis ],\n  [ 'sub',             sub ],\n  [ 'sup',             sup ],\n  [ 'links',           links ],\n  [ 'footnote_inline', footnote_inline ],\n  [ 'footnote_ref',    footnote_ref ],\n  [ 'autolink',        autolink ],\n  [ 'htmltag',         htmltag ],\n  [ 'entity',          entity ]\n];\n\n/**\n * Inline Parser class. Note that link validation is stricter\n * in Remarkable than what is specified by CommonMark. If you\n * want to change this you can use a custom validator.\n *\n * @api private\n */\n\nfunction ParserInline() {\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules$2.length; i++) {\n    this.ruler.push(_rules$2[i][0], _rules$2[i][1]);\n  }\n\n  // Can be overridden with a custom validator\n  this.validateLink = validateLink;\n}\n\n/**\n * Skip a single token by running all rules in validation mode.\n * Returns `true` if any rule reports success.\n *\n * @param  {Object} `state`\n * @api privage\n */\n\nParserInline.prototype.skipToken = function (state) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var pos = state.pos;\n  var i, cached_pos;\n\n  if ((cached_pos = state.cacheGet(pos)) > 0) {\n    state.pos = cached_pos;\n    return;\n  }\n\n  for (i = 0; i < len; i++) {\n    if (rules[i](state, true)) {\n      state.cacheSet(pos, state.pos);\n      return;\n    }\n  }\n\n  state.pos++;\n  state.cacheSet(pos, state.pos);\n};\n\n/**\n * Generate tokens for the given input range.\n *\n * @param  {Object} `state`\n * @api private\n */\n\nParserInline.prototype.tokenize = function (state) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var end = state.posMax;\n  var ok, i;\n\n  while (state.pos < end) {\n\n    // Try all possible rules.\n    // On success, the rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, false);\n\n      if (ok) {\n        break;\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n/**\n * Parse the given input string.\n *\n * @param  {String} `str`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @param  {Array} `outTokens`\n * @api private\n */\n\nParserInline.prototype.parse = function (str, options, env, outTokens) {\n  var state = new StateInline(str, this, options, env, outTokens);\n  this.tokenize(state);\n};\n\n/**\n * Validate the given `url` by checking for bad protocols.\n *\n * @param  {String} `url`\n * @return {Boolean}\n */\n\nfunction validateLink(url) {\n  var BAD_PROTOCOLS = [ 'vbscript', 'javascript', 'file', 'data' ];\n  var str = url.trim().toLowerCase();\n  // Care about digital entities \"javascript&#x3A;alert(1)\"\n  str = replaceEntities(str);\n  if (str.indexOf(':') !== -1 && BAD_PROTOCOLS.indexOf(str.split(':')[0]) !== -1) {\n    return false;\n  }\n  return true;\n}\n\n// Remarkable default options\n\nvar defaultConfig = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to 'Â«Â»' for Russian, 'â€žâ€œ' for German.\n    quotes: 'â€œâ€â€˜â€™',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'block',\n        'inline',\n        'references',\n        'replacements',\n        'smartquotes',\n        'references',\n        'abbr2',\n        'footnote_tail'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fences',\n        'footnote',\n        'heading',\n        'hr',\n        'htmlblock',\n        'lheading',\n        'list',\n        'paragraph',\n        'table'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'del',\n        'emphasis',\n        'entity',\n        'escape',\n        'footnote_ref',\n        'htmltag',\n        'links',\n        'newline',\n        'text'\n      ]\n    }\n  }\n};\n\n// Remarkable default options\n\nvar fullConfig = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to 'Â«Â»' for Russian, 'â€žâ€œ' for German.\n    quotes:       'â€œâ€â€˜â€™',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight:     null,\n\n    maxNesting:    20            // Internal protection, recursion limit\n  },\n\n  components: {\n    // Don't restrict core/block/inline rules\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n\n// Commonmark default options\n\nvar commonmarkConfig = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to 'Â«Â»' for Russian, 'â€žâ€œ' for German.\n    quotes: 'â€œâ€â€˜â€™',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'block',\n        'inline',\n        'references',\n        'abbr2'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fences',\n        'heading',\n        'hr',\n        'htmlblock',\n        'lheading',\n        'list',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'htmltag',\n        'links',\n        'newline',\n        'text'\n      ]\n    }\n  }\n};\n\n/**\n * Preset configs\n */\n\nvar config = {\n  'default': defaultConfig,\n  'full': fullConfig,\n  'commonmark': commonmarkConfig\n};\n\n/**\n * The `StateCore` class manages state.\n *\n * @param {Object} `instance` Remarkable instance\n * @param {String} `str` Markdown string\n * @param {Object} `env`\n */\n\nfunction StateCore(instance, str, env) {\n  this.src = str;\n  this.env = env;\n  this.options = instance.options;\n  this.tokens = [];\n  this.inlineMode = false;\n\n  this.inline = instance.inline;\n  this.block = instance.block;\n  this.renderer = instance.renderer;\n  this.typographer = instance.typographer;\n}\n\n/**\n * The main `Remarkable` class. Create an instance of\n * `Remarkable` with a `preset` and/or `options`.\n *\n * @param {String} `preset` If no preset is given, `default` is used.\n * @param {Object} `options`\n */\n\nfunction Remarkable(preset, options) {\n  if (typeof preset !== 'string') {\n    options = preset;\n    preset = 'default';\n  }\n\n  if (options && options.linkify != null) {\n    console.warn(\n      'linkify option is removed. Use linkify plugin instead:\\n\\n' +\n      'import Remarkable from \\'remarkable\\';\\n' +\n      'import linkify from \\'remarkable/linkify\\';\\n' +\n      'new Remarkable().use(linkify)\\n'\n    );\n  }\n\n  this.inline   = new ParserInline();\n  this.block    = new ParserBlock();\n  this.core     = new Core();\n  this.renderer = new Renderer();\n  this.ruler    = new Ruler();\n\n  this.options  = {};\n  this.configure(config[preset]);\n  this.set(options || {});\n}\n\n/**\n * Set options as an alternative to passing them\n * to the constructor.\n *\n * ```js\n * md.set({typographer: true});\n * ```\n * @param {Object} `options`\n * @api public\n */\n\nRemarkable.prototype.set = function (options) {\n  assign(this.options, options);\n};\n\n/**\n * Batch loader for components rules states, and options\n *\n * @param  {Object} `presets`\n */\n\nRemarkable.prototype.configure = function (presets) {\n  var self = this;\n\n  if (!presets) { throw new Error('Wrong `remarkable` preset, check name/content'); }\n  if (presets.options) { self.set(presets.options); }\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enable(presets.components[name].rules, true);\n      }\n    });\n  }\n};\n\n/**\n * Use a plugin.\n *\n * ```js\n * var md = new Remarkable();\n *\n * md.use(plugin1)\n *   .use(plugin2, opts)\n *   .use(plugin3);\n * ```\n *\n * @param  {Function} `plugin`\n * @param  {Object} `options`\n * @return {Object} `Remarkable` for chaining\n */\n\nRemarkable.prototype.use = function (plugin, options) {\n  plugin(this, options);\n  return this;\n};\n\n\n/**\n * Parse the input `string` and return a tokens array.\n * Modifies `env` with definitions data.\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {Array} Array of tokens\n */\n\nRemarkable.prototype.parse = function (str, env) {\n  var state = new StateCore(this, str, env);\n  this.core.process(state);\n  return state.tokens;\n};\n\n/**\n * The main `.render()` method that does all the magic :)\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {String} Rendered HTML.\n */\n\nRemarkable.prototype.render = function (str, env) {\n  env = env || {};\n  return this.renderer.render(this.parse(str, env), this.options, env);\n};\n\n/**\n * Parse the given content `string` as a single string.\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {Array} Array of tokens\n */\n\nRemarkable.prototype.parseInline = function (str, env) {\n  var state = new StateCore(this, str, env);\n  state.inlineMode = true;\n  this.core.process(state);\n  return state.tokens;\n};\n\n/**\n * Render a single content `string`, without wrapping it\n * to paragraphs\n *\n * @param  {String} `str`\n * @param  {Object} `env`\n * @return {String}\n */\n\nRemarkable.prototype.renderInline = function (str, env) {\n  env = env || {};\n  return this.renderer.render(this.parseInline(str, env), this.options, env);\n};\n\nexport { Remarkable, utils };\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport * as React from 'react';\n\nvar changedArray = function changedArray(a, b) {\n  if (a === void 0) {\n    a = [];\n  }\n\n  if (b === void 0) {\n    b = [];\n  }\n\n  return a.length !== b.length || a.some(function (item, index) {\n    return !Object.is(item, b[index]);\n  });\n};\n\nvar initialState = {\n  error: null\n};\n\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;\n    _this.state = initialState;\n\n    _this.resetErrorBoundary = function () {\n      var _this$props;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _this.props.onReset == null ? void 0 : (_this$props = _this.props).onReset.apply(_this$props, args);\n\n      _this.reset();\n    };\n\n    return _this;\n  }\n\n  ErrorBoundary.getDerivedStateFromError = function getDerivedStateFromError(error) {\n    return {\n      error: error\n    };\n  };\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.reset = function reset() {\n    this.setState(initialState);\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n\n    (_this$props$onError = (_this$props2 = this.props).onError) == null ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var error = this.state.error;\n    var resetKeys = this.props.resetKeys; // There's an edge case where if the thing that triggered the error\n    // happens to *also* be in the resetKeys array, we'd end up resetting\n    // the error boundary immediately. This would likely trigger a second\n    // error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call\n    // of cDU after the error is set\n\n    if (error !== null && prevState.error !== null && changedArray(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onResetKe, _this$props3;\n\n      (_this$props$onResetKe = (_this$props3 = this.props).onResetKeysChange) == null ? void 0 : _this$props$onResetKe.call(_this$props3, prevProps.resetKeys, resetKeys);\n      this.reset();\n    }\n  };\n\n  _proto.render = function render() {\n    var error = this.state.error;\n    var _this$props4 = this.props,\n        fallbackRender = _this$props4.fallbackRender,\n        FallbackComponent = _this$props4.FallbackComponent,\n        fallback = _this$props4.fallback;\n\n    if (error !== null) {\n      var _props = {\n        error: error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n\n      if ( /*#__PURE__*/React.isValidElement(fallback)) {\n        return fallback;\n      } else if (typeof fallbackRender === 'function') {\n        return fallbackRender(_props);\n      } else if (FallbackComponent) {\n        return /*#__PURE__*/React.createElement(FallbackComponent, _props);\n      } else {\n        throw new Error('react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop');\n      }\n    }\n\n    return this.props.children;\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nfunction withErrorBoundary(Component, errorBoundaryProps) {\n  var Wrapped = function Wrapped(props) {\n    return /*#__PURE__*/React.createElement(ErrorBoundary, errorBoundaryProps, /*#__PURE__*/React.createElement(Component, props));\n  }; // Format for display in DevTools\n\n\n  var name = Component.displayName || Component.name || 'Unknown';\n  Wrapped.displayName = \"withErrorBoundary(\" + name + \")\";\n  return Wrapped;\n}\n\nfunction useErrorHandler(givenError) {\n  var _React$useState = React.useState(null),\n      error = _React$useState[0],\n      setError = _React$useState[1];\n\n  if (givenError != null) throw givenError;\n  if (error != null) throw error;\n  return setError;\n}\n/*\neslint\n  @typescript-eslint/sort-type-union-intersection-members: \"off\",\n  @typescript-eslint/no-throw-literal: \"off\",\n  @typescript-eslint/prefer-nullish-coalescing: \"off\"\n*/\n\nexport { ErrorBoundary, useErrorHandler, withErrorBoundary };\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","import { Editor } from \"draft-js\";\nimport styled from \"styled-components\";\nimport DraftCSS from 'draft-js/dist/Draft.css';\n\nexport const RichToolbarContainer = styled.div`\n  height: 30px;\n  width: 100%;\n  background: #ffffff;\n\n  border-top: 1px solid rgba(196, 196, 196, 0.5);\n  border-bottom: 1px solid rgba(196, 196, 196, 0.5);\n`;\n\nexport const StyledEditor = styled(Editor)`\n  ${DraftCSS}\n`\n\nexport const EditorContainer = styled.div`\n  position: relative;\n  max-height: 70px;\n  line-height: 1.5rem;\n  overflow: auto;\n  word-break: break-word;\n  padding: 10px;\n  padding-left: 0;\n  padding-right: 10px 44px 10px 0px;\n  resize: none;\n  margin-left: 10px;\n  min-height: 44px;\n  z-index: 2;\n  font-family: inherit;\n  border-left: 0;\n  border-right: 0;\n  padding-right: 45px;\n`;\n\nexport const SendMessageButtonContainer = styled.div`\n  position: absolute;\n  padding: 10px 10px 0px 10px;\n  top: 0;\n  right: 0;\n  z-index: 2;\n`;\n\nexport const RichToolbarFormattingContainer = styled.div`\n  float: left;\n  height: 100%;\n  display: flex;\n  justify-content: space-evenly;\n`;\n\nexport const RichToolbarAttachmentsContainer = styled.div`\n  float: right;\n  height: 100%;\n`;\n\nexport const AttachmentsIcon = styled.div`\n  border: none;\n  background: none;\n\n  margin-left: 2px;\n  margin-right: 2px;\n  margin-top: 1px;\n  margin-bottom: 1px;\n\n  cursor: pointer;\n\n  &:hover {\n    background: #c4c4c4;\n  }\n\n  label {\n    cursor: pointer;\n  }\n\n  input {\n    display: none;\n  }\n`;\n\nexport const IconButton = styled.button`\n  background-color: transparent;\n  border: 1px solid transparent;\n  position: relative;\n  padding: 0;\n  margin: 0;\n  height: 100%;\n  display: block !important;\n  height: 10px;\n  width: 10px;\n`;\n\nexport const CloseIcon = styled.div`\n  display: flex;\n  font-size: 0;\n  svg {\n    width: \"0.75rem\";\n    height: \"0.75rem\";\n  }\n`;\n\nexport const AttachmentOuterContainer = styled.div`\n  height: 46px;\n\n  border-bottom: 1px solid rgba(196, 196, 196, 0.5);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nexport const AttachmentInnerContainer = styled.div`\n  display: flex;\n`;\n\nexport const AttachmentContainer = styled.div`\n  display: flex;\n  background-color: #AADFB4;\n  border-radius: 5px;\n  margin: 5px;\n  padding: 6px;\n  min-width: 0;\n\n  width: fit-content;\n\n  & > div {\n    span {\n      overflow-wrap: break-word;\n    }\n\n    button {\n      align-items: center;\n      display: inline-flex;\n      cursor: pointer;\n      margin-left: 5px;\n    }\n  }\n\n  & + div {\n    padding-left: 0;\n  }\n`;\n\nexport const URLInputContainer = styled.div`\n    position: relative;\n    background: #FFFFFF;\n    border: 1px solid #CCCCCC;\n    box-sizing: border-box;\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n    font-family: Amazon Ember;\n    font-size: 14px;\n    line-height: 16px;\n    margin-left: 5%;\n    width: 90%;\n    height: 70px;\n`;\n\nexport const URLInput = styled.input`\n    width: 90%;\n    height: 25px;\n    margin-left: 5%;\n    margin-top: 3px;\n    padding: 0px;\n    border: 0px;\n    outline: none;\n    color: #000000;\n`;\n\nexport const URLInputLabel = styled.div`\n    height: 17px;\n    margin-left: 5%;\n    margin-top: 12px;\n    color: #000000;\n`;\n\nexport const URLLink = styled.a`\n    color: #3b5998;\n    text-decoration: none;\n`;\n\nexport const URLConfirmIcon = styled.div`\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    left: calc(90% - 20px);\n    top: 7px;\n    opacity: 0.68;\n    cursor: pointer;\n`;\n\nexport const URLRemoveIcon = styled.div`\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    left: 90%;\n    top: 7px;\n    opacity: 0.68;\n    cursor: pointer;\n`;\n\nexport const EmojiPickerWrapper = styled.div`\n    .emoji-mart-anchors, .emoji-mart-search, .emoji-mart-category-label, .emoji-mart-preview-shortnames,\n     .emoji-mart-preview-emoticons {\n        display: none;\n    }\n    & .emoji-mart-preview {\n        height: 30px;\n    }\n    & .emoji-mart-scroll {\n        height: 70px;\n        padding: 0px !important;\n    }\n    & .emoji-mart-title-label {\n        font-size: 26px;\n    }\n    & .emoji-mart-preview-emoji span {\n        font-size: 27px !important;\n    }\n    & .emoji-mart {\n        position:absolute;\n        button[title|=man-kiss-man], button[title|=woman-kiss-man], button[title|=woman-kiss-woman],\n        button[title|=man-heart-man], button[title|=woman-heart-man], button[title|=woman-heart-woman] {\n            display: none;\n        } \n        @media(max-width:640px) {\n             width: auto !important;\n         }       \n    }\n`;","export const RICH_FORMATS = {\n  BOLD: 'BOLD',\n  ITALICS: 'ITALIC',\n  HYPERLINK: 'HYPERLINK',\n  NUMBERED_LIST: 'ordered-list-item',\n  BULLETED_LIST: 'unordered-list-item',\n  EMOJIS: 'EMOJIS'\n};\n\nexport const inlineFormatDisplayOrder = [RICH_FORMATS.BOLD, RICH_FORMATS.ITALICS];\n\nexport const blockTypeDisplayOrder = [\n  RICH_FORMATS.NUMBERED_LIST,\n  RICH_FORMATS.BULLETED_LIST,\n];\n\nexport const linkFormatDisplayOrder = [RICH_FORMATS.HYPERLINK];\n\nexport const emojisFormatDisplayOrder = [RICH_FORMATS.EMOJIS];\n\nexport const KEY_CODE = {\n  LEFT: 37,\n  RIGHT: 39,\n  SPACE: 32,\n  ENTER: 13,\n  ESCAPE : 27,\n  TAB : 9,\n};\n\n\nexport const NUM_OF_BUTTONS = 7;\n\nexport const RICH_MESSAGE_EVENT = {\n  BOLD: 'USE_BOLD_STYLE',\n  ITALIC: 'USE_ITALIC_STYLE',\n  LINK: 'USE_HYPERLINK',\n  'ordered-list-item': 'USE_NUMBERED_LIST',\n  'unordered-list-item': 'USE_BULLETED_LIST',\n  SEND_MESSAGE_BY_ENTER_KEY: 'SEND_MESSAGE_BY_ENTER_KEY',\n  SEND_MESSAGE_BY_SEND_BUTTON: 'SEND_MESSAGE_BY_SEND_BUTTON'\n}\n\nexport const RICH_MESSAGE_ERROR = 'RICH_MESSAGE_ERROR';","import {\n  EditorState,\n  Modifier,\n  RichUtils,\n} from \"draft-js\";\nimport { NUM_OF_BUTTONS } from \"./constants\";\n\n/**\n * Clear all content from the editor.\n */\nexport function clearEditorContent(editorState) {\n  const blocks = editorState.getCurrentContent().getBlockMap().toList();\n  const updatedSelection = editorState.getSelection().merge({\n    anchorKey: blocks.first().get(\"key\"),\n    anchorOffset: 0,\n    focusKey: blocks.last().get(\"key\"),\n    focusOffset: blocks.last().getLength(),\n  });\n  const newContentState = Modifier.removeRange(\n    editorState.getCurrentContent(),\n    updatedSelection,\n    \"forward\"\n  );\n  return EditorState.push(editorState, newContentState, \"remove-range\");\n}\n\n/**\n * Remove block styles from the editor if any are selected.\n */\nexport function removeSelectedBlocksStyle(editorState) {\n  const newContentState = RichUtils.tryToRemoveBlockStyle(editorState);\n  if (newContentState) {\n    return EditorState.push(editorState, newContentState, 'change-block-type');\n  }\n  return editorState;\n}\n\n/**\n * Set focus to the last or next element in rich tool bar\n */\nexport function focusLastOrNextElement(currentIndex, delta) {\n  if (currentIndex + delta >= NUM_OF_BUTTONS || currentIndex + delta < 0) {\n    return;\n  }\n  const currentElement = document.getElementById(`richToolbarButton_${currentIndex}`);\n  currentElement.tabIndex = -1;\n  const targetElement = document.getElementById(`richToolbarButton_${currentIndex+delta}`);\n  targetElement.tabIndex = 0;\n  targetElement.focus();\n}\n","import React from \"react\";\n\nimport { RICH_FORMATS } from '../constants';\n\nexport const RICH_FORMAT_ICONS = {\n  [RICH_FORMATS.BOLD]: <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#000000\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z\"/></svg>,\n  [RICH_FORMATS.ITALICS]: <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#000000\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z\"/></svg>,\n  [RICH_FORMATS.NUMBERED_LIST]: <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#000000\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z\"/></svg>,\n  [RICH_FORMATS.BULLETED_LIST]: <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#000000\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z\"/></svg>,\n  [RICH_FORMATS.HYPERLINK]: <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M2.26667 7.33333C2.26667 6.19333 3.19333 5.26667 4.33333 5.26667H7V4H4.33333C2.49333 4 1 5.49333 1 7.33333C1 9.17333 2.49333 10.6667 4.33333 10.6667H7V9.4H4.33333C3.19333 9.4 2.26667 8.47333 2.26667 7.33333ZM5 8H10.3333V6.66667H5V8ZM8.33333 4H11C12.84 4 14.3333 5.49333 14.3333 7.33333C14.3333 9.17333 12.84 10.6667 11 10.6667H8.33333V9.4H11C12.14 9.4 13.0667 8.47333 13.0667 7.33333C13.0667 6.19333 12.14 5.26667 11 5.26667H8.33333V4Z\" fill=\"black\" fillOpacity=\"0.8\"/></svg>,\n  [RICH_FORMATS.EMOJIS]: <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.0\" width=\"20px\" height=\"20px\" viewBox=\"0 0 210.000000 225.000000\" preserveAspectRatio=\"xMidYMid meet\"><g transform=\"translate(0.000000,210.000000) scale(0.090000,-0.090000)\" fill=\"#000000\" stroke=\"none\"><path d=\"M905 2184 c-388 -86 -708 -399 -807 -790 -20 -77 -23 -114 -22 -274 0 -167 3 -194 27 -283 104 -388 427 -694 817 -773 128 -25 375 -16 493 20 182 54 319 136 452 270 141 141 234 302 287 496 20 75 23 107 23 275 0 168 -3 200 -23 275 -53 194 -146 355 -287 496 -133 134 -270 215 -452 270 -78 24 -108 27 -263 30 -131 3 -192 0 -245 -12z m478 -148 c301 -89 537 -328 634 -643 25 -82 27 -101 27 -268 0 -167 -2 -186 -27 -268 -52 -168 -140 -311 -262 -426 -117 -109 -226 -173 -372 -218 -80 -24 -104 -27 -253 -27 -143 -1 -176 2 -243 22 -315 91 -556 330 -653 647 -26 84 -28 102 -28 270 0 168 2 186 28 270 94 308 337 555 629 640 101 29 148 34 292 30 115 -2 156 -8 228 -29z\"/><path d=\"M746 1570 c-43 -13 -90 -49 -117 -88 -20 -29 -24 -48 -24 -107 0 -62 4 -77 28 -112 84 -122 265 -113 335 17 33 62 28 150 -11 207 -46 67 -142 105 -211 83z\"/><path d=\"M1408 1571 c-89 -29 -140 -93 -146 -185 -3 -50 1 -69 20 -106 91 -170 350 -118 366 74 5 67 -10 114 -50 155 -55 56 -130 81 -190 62z\"/><path d=\"M473 961 c20 -256 213 -495 461 -570 389 -118 783 137 846 547 7 40 9 80 6 88 -5 12 -99 14 -662 14 l-657 0 6 -79z m1153 -99 c-58 -164 -188 -293 -346 -343 -88 -28 -221 -28 -310 0 -158 50 -288 179 -346 343 l-13 38 514 0 514 0 -13 -38z\"/></g></svg>\n};\n\nexport const RICH_FORMAT_ICONS_SELECTED = {\n  [RICH_FORMATS.BOLD]: <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#ffffff\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z\"/></svg>,\n  [RICH_FORMATS.ITALICS]: <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#ffffff\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z\"/></svg>,\n  [RICH_FORMATS.NUMBERED_LIST]: <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#ffffff\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z\"/></svg>,\n  [RICH_FORMATS.BULLETED_LIST]: <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#ffffff\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z\"/></svg>,\n  [RICH_FORMATS.HYPERLINK]: <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M2.26667 7.33333C2.26667 6.19333 3.19333 5.26667 4.33333 5.26667H7V4H4.33333C2.49333 4 1 5.49333 1 7.33333C1 9.17333 2.49333 10.6667 4.33333 10.6667H7V9.4H4.33333C3.19333 9.4 2.26667 8.47333 2.26667 7.33333ZM5 8H10.3333V6.66667H5V8ZM8.33333 4H11C12.84 4 14.3333 5.49333 14.3333 7.33333C14.3333 9.17333 12.84 10.6667 11 10.6667H8.33333V9.4H11C12.14 9.4 13.0667 8.47333 13.0667 7.33333C13.0667 6.19333 12.14 5.26667 11 5.26667H8.33333V4Z\" fill=\"white\" fillOpacity=\"0.8\"/></svg>,\n  [RICH_FORMATS.EMOJIS]: <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.0\" width=\"20px\" height=\"20px\" viewBox=\"0 0 210.000000 225.000000\" preserveAspectRatio=\"xMidYMid meet\" fill=\"#ffffff\"><g transform=\"translate(0.000000,210.000000) scale(0.090000,-0.090000)\" fill=\"#ffffff\" stroke=\"none\"><path d=\"M905 2184 c-388 -86 -708 -399 -807 -790 -20 -77 -23 -114 -22 -274 0 -167 3 -194 27 -283 104 -388 427 -694 817 -773 128 -25 375 -16 493 20 182 54 319 136 452 270 141 141 234 302 287 496 20 75 23 107 23 275 0 168 -3 200 -23 275 -53 194 -146 355 -287 496 -133 134 -270 215 -452 270 -78 24 -108 27 -263 30 -131 3 -192 0 -245 -12z m478 -148 c301 -89 537 -328 634 -643 25 -82 27 -101 27 -268 0 -167 -2 -186 -27 -268 -52 -168 -140 -311 -262 -426 -117 -109 -226 -173 -372 -218 -80 -24 -104 -27 -253 -27 -143 -1 -176 2 -243 22 -315 91 -556 330 -653 647 -26 84 -28 102 -28 270 0 168 2 186 28 270 94 308 337 555 629 640 101 29 148 34 292 30 115 -2 156 -8 228 -29z\"/><path d=\"M746 1570 c-43 -13 -90 -49 -117 -88 -20 -29 -24 -48 -24 -107 0 -62 4 -77 28 -112 84 -122 265 -113 335 17 33 62 28 150 -11 207 -46 67 -142 105 -211 83z\"/><path d=\"M1408 1571 c-89 -29 -140 -93 -146 -185 -3 -50 1 -69 20 -106 91 -170 350 -118 366 74 5 67 -10 114 -50 155 -55 56 -130 81 -190 62z\"/><path d=\"M473 961 c20 -256 213 -495 461 -570 389 -118 783 137 846 547 7 40 9 80 6 88 -5 12 -99 14 -662 14 l-657 0 6 -79z m1153 -99 c-58 -164 -188 -293 -346 -343 -88 -28 -221 -28 -310 0 -158 50 -288 179 -346 343 l-13 38 514 0 514 0 -13 -38z\"/></g></svg>\n};\n\nexport const ATTACHMENTS_ICON = <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#000000\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z\"/></svg>;\nexport const CONFIRM_LINK_ICON = <svg width=\"10\" height=\"10\" viewBox=\"0 0 18 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path opacity=\"0.680028\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5.99991 11.17L1.82991 7L0.409912 8.41L5.99991 14L17.9999 2L16.5899 0.589996L5.99991 11.17Z\" fill=\"black\"/></svg>;\nexport const REMOVE_LINK_ICON = <svg width=\"10\" height=\"10\" viewBox=\"0 0 10 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path opacity=\"0.680028\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M8.70896 0.229556L4.99966 3.93076L1.29138 0.221466C0.995078 -0.0738219 0.517764 -0.0738219 0.221466 0.221466C-0.0738219 0.517764 -0.0738219 0.995078 0.221466 1.29138L3.93076 4.99966L0.221466 8.70896C-0.0738219 9.00425 -0.0738219 9.48257 0.221466 9.77786C0.517764 10.0742 0.995078 10.0742 1.29138 9.77786L4.99966 6.06957L8.70896 9.77786C9.00425 10.0742 9.48257 10.0742 9.77786 9.77786C10.0742 9.48257 10.0742 9.00425 9.77786 8.70896L6.06957 4.99966L9.77786 1.29138C10.0661 1.00317 10.0661 0.517764 9.77786 0.229556C9.48257 -0.0657318 9.00425 -0.0657318 8.70896 0.229556Z\" fill=\"black\"/></svg>;","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: MIT-0\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { KEY_CODE } from \"../constants\";\n\nconst ACTIVE_COLOR = '#222222';\nconst INACTIVE_COLOR = '#EDEDED';\n\nconst SendButton = styled.div`\n  cursor: ${props => props.isActive ? 'pointer' : 'default'};\n\n  &>svg {\n    fill: ${props => props.isActive ? ACTIVE_COLOR : INACTIVE_COLOR};\n  }\n`;\n\n/**\n * Send message button for the RichTextEditor.\n * \n * @param {Object} props\n * @param {boolean} props.isActive\n * @param {Function} props.sendMessage\n */\nfunction SendMessageButton({ isActive, sendMessage }) {\n    return (\n        <SendButton\n            isActive={isActive}\n            onClick={sendMessage}\n            data-testid={'chat-send-message-button'}\n            aria-label={'Send Message'}\n            tabIndex={0}\n            onKeyDown={(e) => {\n                if (e.keyCode === KEY_CODE.SPACE || e.keyCode === KEY_CODE.ENTER) {\n                    e.preventDefault();\n                    sendMessage(e);\n                }\n            }}\n        >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\" /></svg>\n        </SendButton>\n    );\n}\n\nexport default SendMessageButton;","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: MIT-0\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { KEY_CODE } from \"../constants\";\nimport { focusLastOrNextElement } from \"../editorUtils\";\n\nconst RichToolbarButtonContainer = styled.div`\n  border: none;\n  background: ${props => props.active ? '#676767' : 'none'};\n  margin-left: 2px;\n  margin-right: 2px;\n  margin-top: 1px;\n  margin-bottom: 1px;\n\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n\n  cursor: pointer;\n\n  &:hover {\n    background: ${props => props.active ? '#676767' : '#C4C4C4'};\n  }\n`;\n\nconst RichToolbarButton = ({ id, index, buttonSvg, onFormatToggled, onButtonClicked, isActiveButton }) => {\n    const [isActive, setIsActive] = useState(false);\n\n    const firstToggle = useRef(true);\n\n    useEffect(() => {\n        console.log('RichToolbarButton useEffect')\n        if (firstToggle.current) {\n            firstToggle.current = false;\n            return;\n        }\n\n        if (onFormatToggled) {\n            onFormatToggled(isActive);\n        }\n       \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isActive]);\n\n    function clickButton() {\n        setIsActive(!isActive);\n        if (onButtonClicked) {\n            onButtonClicked();\n        }\n    }\n\n    // TODO: Fix bug with un-focusing toolbar initially requires two clicks to register button selection\n    //  https://app.asana.com/0/1201057534450490/1201449806518231/f\n    return (\n        <RichToolbarButtonContainer\n            id={id}\n            active={isActiveButton}\n            tabIndex={index === 0 ? 0 : -1}\n            data-testid={`chat-rich-toolbar-button_${index}`}\n            onMouseDown={(e) => {\n                e.preventDefault();\n                clickButton();\n            }}\n            onKeyDown={(e) => {\n                if (e.keyCode === KEY_CODE.SPACE || e.keyCode === KEY_CODE.ENTER) {\n                    e.preventDefault();\n                    clickButton();\n                } else if (e.keyCode === KEY_CODE.LEFT) {\n                    e.preventDefault();\n                    focusLastOrNextElement(index, -1);\n                } else if (e.keyCode === KEY_CODE.RIGHT) {\n                    e.preventDefault();\n                    focusLastOrNextElement(index, 1);\n                }\n            }}\n        >\n            {buttonSvg}\n        </RichToolbarButtonContainer>\n    )\n};\n\nexport default RichToolbarButton;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var mapping = {\n  name: 'a',\n  unified: 'b',\n  non_qualified: 'c',\n  has_img_apple: 'd',\n  has_img_google: 'e',\n  has_img_twitter: 'f',\n  has_img_facebook: 'h',\n  keywords: 'j',\n  sheet: 'k',\n  emoticons: 'l',\n  text: 'm',\n  short_names: 'n',\n  added_in: 'o'\n};\n\nvar buildSearch = function buildSearch(emoji) {\n  var search = [];\n\n  var addToSearch = function addToSearch(strings, split) {\n    if (!strings) {\n      return;\n    }\n\n    ;\n    (Array.isArray(strings) ? strings : [strings]).forEach(function (string) {\n      ;\n      (split ? string.split(/[-|_|\\s]+/) : [string]).forEach(function (s) {\n        s = s.toLowerCase();\n\n        if (search.indexOf(s) == -1) {\n          search.push(s);\n        }\n      });\n    });\n  };\n\n  addToSearch(emoji.short_names, true);\n  addToSearch(emoji.name, true);\n  addToSearch(emoji.keywords, false);\n  addToSearch(emoji.emoticons, false);\n  return search.join(',');\n};\n\nvar compress = function compress(emoji) {\n  emoji.short_names = emoji.short_names.filter(function (short_name) {\n    return short_name !== emoji.short_name;\n  });\n  delete emoji.short_name;\n  emoji.sheet = [emoji.sheet_x, emoji.sheet_y];\n  delete emoji.sheet_x;\n  delete emoji.sheet_y;\n  emoji.added_in = parseInt(emoji.added_in);\n\n  if (emoji.added_in === 6) {\n    delete emoji.added_in;\n  }\n\n  for (var key in mapping) {\n    emoji[mapping[key]] = emoji[key];\n    delete emoji[key];\n  }\n\n  for (var _key in emoji) {\n    var value = emoji[_key];\n\n    if (Array.isArray(value) && !value.length) {\n      delete emoji[_key];\n    } else if (typeof value === 'string' && !value.length) {\n      delete emoji[_key];\n    } else if (value === null) {\n      delete emoji[_key];\n    }\n  }\n};\n\nvar uncompress = function uncompress(data) {\n  data.compressed = false;\n\n  for (var id in data.emojis) {\n    var emoji = data.emojis[id];\n\n    for (var key in mapping) {\n      emoji[key] = emoji[mapping[key]];\n      delete emoji[mapping[key]];\n    }\n\n    if (!emoji.short_names) emoji.short_names = [];\n    emoji.short_names.unshift(id);\n    emoji.sheet_x = emoji.sheet[0];\n    emoji.sheet_y = emoji.sheet[1];\n    delete emoji.sheet;\n    if (!emoji.text) emoji.text = '';\n    if (!emoji.added_in) emoji.added_in = 6;\n    emoji.added_in = emoji.added_in.toFixed(1);\n    emoji.search = buildSearch(emoji);\n  }\n};\n\nexport { buildSearch, compress, uncompress };","var _String = String;\nexport default _String.fromCodePoint || function stringFromCodePoint() {\n  var MAX_SIZE = 0x4000;\n  var codeUnits = [];\n  var highSurrogate;\n  var lowSurrogate;\n  var index = -1;\n  var length = arguments.length;\n\n  if (!length) {\n    return '';\n  }\n\n  var result = '';\n\n  while (++index < length) {\n    var codePoint = Number(arguments[index]);\n\n    if (!isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n    codePoint < 0 || // not a valid Unicode code point\n    codePoint > 0x10ffff || // not a valid Unicode code point\n    Math.floor(codePoint) != codePoint // not an integer\n    ) {\n        throw RangeError('Invalid code point: ' + codePoint);\n      }\n\n    if (codePoint <= 0xffff) {\n      // BMP code point\n      codeUnits.push(codePoint);\n    } else {\n      // Astral code point; split in surrogate halves\n      // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n      codePoint -= 0x10000;\n      highSurrogate = (codePoint >> 10) + 0xd800;\n      lowSurrogate = codePoint % 0x400 + 0xdc00;\n      codeUnits.push(highSurrogate, lowSurrogate);\n    }\n\n    if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n      result += String.fromCharCode.apply(null, codeUnits);\n      codeUnits.length = 0;\n    }\n  }\n\n  return result;\n};","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport { buildSearch } from './data';\nimport stringFromCodePoint from '../polyfills/stringFromCodePoint';\nimport { uncompress } from './data';\nvar COLONS_REGEX = /^(?:\\:([^\\:]+)\\:)(?:\\:skin-tone-(\\d)\\:)?$/;\nvar SKINS = ['1F3FA', '1F3FB', '1F3FC', '1F3FD', '1F3FE', '1F3FF'];\n\nfunction unifiedToNative(unified) {\n  var unicodes = unified.split('-'),\n      codePoints = unicodes.map(function (u) {\n    return \"0x\".concat(u);\n  });\n  return stringFromCodePoint.apply(null, codePoints);\n}\n\nfunction sanitize(emoji) {\n  var name = emoji.name,\n      short_names = emoji.short_names,\n      skin_tone = emoji.skin_tone,\n      skin_variations = emoji.skin_variations,\n      emoticons = emoji.emoticons,\n      unified = emoji.unified,\n      custom = emoji.custom,\n      customCategory = emoji.customCategory,\n      imageUrl = emoji.imageUrl,\n      id = emoji.id || short_names[0],\n      colons = \":\".concat(id, \":\");\n\n  if (custom) {\n    return {\n      id: id,\n      name: name,\n      short_names: short_names,\n      colons: colons,\n      emoticons: emoticons,\n      custom: custom,\n      customCategory: customCategory,\n      imageUrl: imageUrl\n    };\n  }\n\n  if (skin_tone) {\n    colons += \":skin-tone-\".concat(skin_tone, \":\");\n  }\n\n  return {\n    id: id,\n    name: name,\n    short_names: short_names,\n    colons: colons,\n    emoticons: emoticons,\n    unified: unified.toLowerCase(),\n    skin: skin_tone || (skin_variations ? 1 : null),\n    \"native\": unifiedToNative(unified)\n  };\n}\n\nfunction getSanitizedData() {\n  return sanitize(getData.apply(void 0, arguments));\n}\n\nfunction getData(emoji, skin, set, data) {\n  var emojiData = {};\n\n  if (typeof emoji == 'string') {\n    var matches = emoji.match(COLONS_REGEX);\n\n    if (matches) {\n      emoji = matches[1];\n\n      if (matches[2]) {\n        skin = parseInt(matches[2], 10);\n      }\n    }\n\n    if (data.aliases.hasOwnProperty(emoji)) {\n      emoji = data.aliases[emoji];\n    }\n\n    if (data.emojis.hasOwnProperty(emoji)) {\n      emojiData = data.emojis[emoji];\n    } else {\n      return null;\n    }\n  } else if (emoji.id) {\n    if (data.aliases.hasOwnProperty(emoji.id)) {\n      emoji.id = data.aliases[emoji.id];\n    }\n\n    if (data.emojis.hasOwnProperty(emoji.id)) {\n      emojiData = data.emojis[emoji.id];\n      skin || (skin = emoji.skin);\n    }\n  }\n\n  if (!Object.keys(emojiData).length) {\n    emojiData = emoji;\n    emojiData.custom = true;\n\n    if (!emojiData.search) {\n      emojiData.search = buildSearch(emoji);\n    }\n  }\n\n  emojiData.emoticons || (emojiData.emoticons = []);\n  emojiData.variations || (emojiData.variations = []);\n\n  if (emojiData.skin_variations && skin > 1) {\n    emojiData = JSON.parse(JSON.stringify(emojiData));\n    var skinKey = SKINS[skin - 1],\n        variationData = emojiData.skin_variations[skinKey];\n\n    if (variationData) {\n      if (!variationData.variations && emojiData.variations) {\n        delete emojiData.variations;\n      }\n\n      if (set && (variationData[\"has_img_\".concat(set)] == undefined || variationData[\"has_img_\".concat(set)]) || !set) {\n        emojiData.skin_tone = skin;\n\n        for (var k in variationData) {\n          var v = variationData[k];\n          emojiData[k] = v;\n        }\n      }\n    }\n  }\n\n  if (emojiData.variations && emojiData.variations.length) {\n    emojiData = JSON.parse(JSON.stringify(emojiData));\n    emojiData.unified = emojiData.variations.shift();\n  }\n\n  return emojiData;\n}\n\nfunction getEmojiDataFromNative(nativeString, set, data) {\n  if (data.compressed) {\n    uncompress(data);\n  }\n\n  var skinTones = ['ðŸ»', 'ðŸ¼', 'ðŸ½', 'ðŸ¾', 'ðŸ¿'];\n  var skinCodes = ['1F3FB', '1F3FC', '1F3FD', '1F3FE', '1F3FF'];\n  var skin;\n  var skinCode;\n  var baseNativeString = nativeString;\n  skinTones.forEach(function (skinTone, skinToneIndex) {\n    if (nativeString.indexOf(skinTone) > 0) {\n      skin = skinToneIndex + 2;\n      skinCode = skinCodes[skinToneIndex];\n    }\n  });\n  var emojiData;\n\n  for (var id in data.emojis) {\n    var emoji = data.emojis[id];\n    var emojiUnified = emoji.unified;\n\n    if (emoji.variations && emoji.variations.length) {\n      emojiUnified = emoji.variations.shift();\n    }\n\n    if (skin && emoji.skin_variations && emoji.skin_variations[skinCode]) {\n      emojiUnified = emoji.skin_variations[skinCode].unified;\n    }\n\n    if (unifiedToNative(emojiUnified) === baseNativeString) emojiData = emoji;\n  }\n\n  if (!emojiData) {\n    return null;\n  }\n\n  emojiData.id = emojiData.short_names[0];\n  return getSanitizedData(emojiData, skin, set, data);\n}\n\nfunction uniq(arr) {\n  return arr.reduce(function (acc, item) {\n    if (acc.indexOf(item) === -1) {\n      acc.push(item);\n    }\n\n    return acc;\n  }, []);\n}\n\nfunction intersect(a, b) {\n  var uniqA = uniq(a);\n  var uniqB = uniq(b);\n  return uniqA.filter(function (item) {\n    return uniqB.indexOf(item) >= 0;\n  });\n}\n\nfunction deepMerge(a, b) {\n  var o = {};\n\n  for (var key in a) {\n    var originalValue = a[key],\n        value = originalValue;\n\n    if (b.hasOwnProperty(key)) {\n      value = b[key];\n    }\n\n    if (_typeof(value) === 'object') {\n      value = deepMerge(originalValue, value);\n    }\n\n    o[key] = value;\n  }\n\n  return o;\n} // https://github.com/sonicdoe/measure-scrollbar\n\n\nfunction measureScrollbar() {\n  if (typeof document == 'undefined') return 0;\n  var div = document.createElement('div');\n  div.style.width = '100px';\n  div.style.height = '100px';\n  div.style.overflow = 'scroll';\n  div.style.position = 'absolute';\n  div.style.top = '-9999px';\n  document.body.appendChild(div);\n  var scrollbarWidth = div.offsetWidth - div.clientWidth;\n  document.body.removeChild(div);\n  return scrollbarWidth;\n} // Use requestIdleCallback() if available, else fall back to setTimeout().\n// Throttle so as not to run too frequently.\n\n\nfunction throttleIdleTask(func) {\n  var doIdleTask = typeof requestIdleCallback === 'function' ? requestIdleCallback : setTimeout;\n  var running = false;\n  return function throttled() {\n    if (running) {\n      return;\n    }\n\n    running = true;\n    doIdleTask(function () {\n      running = false;\n      func();\n    });\n  };\n}\n\nexport { getData, getEmojiDataFromNative, getSanitizedData, uniq, intersect, deepMerge, unifiedToNative, measureScrollbar, throttleIdleTask };","var NAMESPACE = 'emoji-mart';\nvar isLocalStorageSupported = typeof window !== 'undefined' && 'localStorage' in window;\nvar getter;\nvar setter;\n\nfunction setHandlers(handlers) {\n  handlers || (handlers = {});\n  getter = handlers.getter;\n  setter = handlers.setter;\n}\n\nfunction setNamespace(namespace) {\n  NAMESPACE = namespace;\n}\n\nfunction update(state) {\n  for (var key in state) {\n    var value = state[key];\n    set(key, value);\n  }\n}\n\nfunction set(key, value) {\n  if (setter) {\n    setter(key, value);\n  } else {\n    if (!isLocalStorageSupported) return;\n\n    try {\n      window.localStorage[\"\".concat(NAMESPACE, \".\").concat(key)] = JSON.stringify(value);\n    } catch (e) {}\n  }\n}\n\nfunction get(key) {\n  if (getter) {\n    return getter(key);\n  } else {\n    if (!isLocalStorageSupported) return;\n\n    try {\n      var value = window.localStorage[\"\".concat(NAMESPACE, \".\").concat(key)];\n\n      if (value) {\n        return JSON.parse(value);\n      }\n    } catch (e) {\n      return;\n    }\n  }\n}\n\nexport default {\n  update: update,\n  set: set,\n  get: get,\n  setNamespace: setNamespace,\n  setHandlers: setHandlers\n};","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { getData, getSanitizedData, intersect } from '..';\nimport { uncompress } from '../data';\nimport store from '../store';\n\nvar NimbleEmojiIndex =\n/*#__PURE__*/\nfunction () {\n  function NimbleEmojiIndex(data, set) {\n    _classCallCheck(this, NimbleEmojiIndex);\n\n    if (data.compressed) {\n      uncompress(data);\n    }\n\n    this.data = data || {};\n    this.set = set || null;\n    this.originalPool = {};\n    this.index = {};\n    this.emojis = {};\n    this.emoticons = {};\n    this.customEmojisList = [];\n    this.buildIndex();\n  }\n\n  _createClass(NimbleEmojiIndex, [{\n    key: \"buildIndex\",\n    value: function buildIndex() {\n      var _this = this;\n\n      var _loop = function _loop(emoji) {\n        var emojiData = _this.data.emojis[emoji],\n            short_names = emojiData.short_names,\n            emoticons = emojiData.emoticons,\n            skin_variations = emojiData.skin_variations,\n            id = short_names[0];\n\n        if (emoticons) {\n          emoticons.forEach(function (emoticon) {\n            if (_this.emoticons[emoticon]) {\n              return;\n            }\n\n            _this.emoticons[emoticon] = id;\n          });\n        } // If skin variations include them\n\n\n        if (skin_variations) {\n          _this.emojis[id] = {};\n\n          for (var skinTone = 1; skinTone <= 6; skinTone++) {\n            _this.emojis[id][skinTone] = getSanitizedData({\n              id: id,\n              skin: skinTone\n            }, skinTone, _this.set, _this.data);\n          }\n        } else {\n          _this.emojis[id] = getSanitizedData(id, null, _this.set, _this.data);\n        }\n\n        _this.originalPool[id] = emojiData;\n      };\n\n      for (var emoji in this.data.emojis) {\n        _loop(emoji);\n      }\n    }\n  }, {\n    key: \"clearCustomEmojis\",\n    value: function clearCustomEmojis(pool) {\n      var _this2 = this;\n\n      this.customEmojisList.forEach(function (emoji) {\n        var emojiId = emoji.id || emoji.short_names[0];\n        delete pool[emojiId];\n        delete _this2.emojis[emojiId];\n      });\n    }\n  }, {\n    key: \"addCustomToPool\",\n    value: function addCustomToPool(custom, pool) {\n      var _this3 = this;\n\n      if (this.customEmojisList.length) this.clearCustomEmojis(pool);\n      custom.forEach(function (emoji) {\n        var emojiId = emoji.id || emoji.short_names[0];\n\n        if (emojiId && !pool[emojiId]) {\n          pool[emojiId] = getData(emoji, null, null, _this3.data);\n          _this3.emojis[emojiId] = getSanitizedData(emoji, null, null, _this3.data);\n        }\n      });\n      this.customEmojisList = custom;\n      this.index = {};\n    }\n  }, {\n    key: \"search\",\n    value: function search(value) {\n      var _this4 = this;\n\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          emojisToShowFilter = _ref.emojisToShowFilter,\n          maxResults = _ref.maxResults,\n          include = _ref.include,\n          exclude = _ref.exclude,\n          _ref$custom = _ref.custom,\n          custom = _ref$custom === void 0 ? [] : _ref$custom;\n\n      if (this.customEmojisList != custom) this.addCustomToPool(custom, this.originalPool);\n      var skinTone = store.get('skin') || 1;\n      maxResults || (maxResults = 75);\n      include || (include = []);\n      exclude || (exclude = []);\n      var results = null,\n          pool = this.originalPool;\n\n      if (value.length) {\n        if (value == '-' || value == '-1') {\n          return [this.emojis['-1'][skinTone]];\n        }\n\n        var values = value.toLowerCase().split(/[\\s|,|\\-|_]+/),\n            allResults = [];\n\n        if (values.length > 2) {\n          values = [values[0], values[1]];\n        }\n\n        if (include.length || exclude.length) {\n          pool = {};\n          this.data.categories.forEach(function (category) {\n            var isIncluded = include && include.length ? include.indexOf(category.id) > -1 : true;\n            var isExcluded = exclude && exclude.length ? exclude.indexOf(category.id) > -1 : false;\n\n            if (!isIncluded || isExcluded) {\n              return;\n            }\n\n            category.emojis.forEach(function (emojiId) {\n              return pool[emojiId] = _this4.data.emojis[emojiId];\n            });\n          });\n\n          if (custom.length) {\n            var customIsIncluded = include && include.length ? include.indexOf('custom') > -1 : true;\n            var customIsExcluded = exclude && exclude.length ? exclude.indexOf('custom') > -1 : false;\n\n            if (customIsIncluded && !customIsExcluded) {\n              this.addCustomToPool(custom, pool);\n            }\n          }\n        }\n\n        allResults = values.map(function (value) {\n          var aPool = pool,\n              aIndex = _this4.index,\n              length = 0;\n\n          for (var charIndex = 0; charIndex < value.length; charIndex++) {\n            var _char = value[charIndex];\n            length++;\n            aIndex[_char] || (aIndex[_char] = {});\n            aIndex = aIndex[_char];\n\n            if (!aIndex.results) {\n              (function () {\n                var scores = {};\n                aIndex.results = [];\n                aIndex.pool = {};\n\n                for (var id in aPool) {\n                  var emoji = aPool[id],\n                      search = emoji.search,\n                      sub = value.substr(0, length),\n                      subIndex = search.indexOf(sub);\n\n                  if (subIndex != -1) {\n                    var score = subIndex + 1;\n                    if (sub == id) score = 0;\n\n                    if (_this4.emojis[id] && _this4.emojis[id][skinTone]) {\n                      aIndex.results.push(_this4.emojis[id][skinTone]);\n                    } else {\n                      aIndex.results.push(_this4.emojis[id]);\n                    }\n\n                    aIndex.pool[id] = emoji;\n                    scores[id] = score;\n                  }\n                }\n\n                aIndex.results.sort(function (a, b) {\n                  var aScore = scores[a.id],\n                      bScore = scores[b.id];\n\n                  if (aScore == bScore) {\n                    return a.id.localeCompare(b.id);\n                  } else {\n                    return aScore - bScore;\n                  }\n                });\n              })();\n            }\n\n            aPool = aIndex.pool;\n          }\n\n          return aIndex.results;\n        }).filter(function (a) {\n          return a;\n        });\n\n        if (allResults.length > 1) {\n          results = intersect.apply(null, allResults);\n        } else if (allResults.length) {\n          results = allResults[0];\n        } else {\n          results = [];\n        }\n      }\n\n      if (results) {\n        if (emojisToShowFilter) {\n          results = results.filter(function (result) {\n            return emojisToShowFilter(pool[result.id]);\n          });\n        }\n\n        if (results && results.length > maxResults) {\n          results = results.slice(0, maxResults);\n        }\n      }\n\n      return results;\n    }\n  }]);\n\n  return NimbleEmojiIndex;\n}();\n\nexport { NimbleEmojiIndex as default };","import data from '../../../data/all.json';\nimport NimbleEmojiIndex from './nimble-emoji-index';\nvar emojiIndex = new NimbleEmojiIndex(data);\nvar emojis = emojiIndex.emojis,\n    emoticons = emojiIndex.emoticons;\n\nfunction search() {\n  return emojiIndex.search.apply(emojiIndex, arguments);\n}\n\nexport default {\n  search: search,\n  emojis: emojis,\n  emoticons: emoticons\n};","import store from './store';\nvar DEFAULTS = ['+1', 'grinning', 'kissing_heart', 'heart_eyes', 'laughing', 'stuck_out_tongue_winking_eye', 'sweat_smile', 'joy', 'scream', 'disappointed', 'unamused', 'weary', 'sob', 'sunglasses', 'heart', 'poop'];\nvar frequently, initialized;\nvar defaults = {};\n\nfunction init() {\n  initialized = true;\n  frequently = store.get('frequently');\n}\n\nfunction add(emoji) {\n  if (!initialized) init();\n  var id = emoji.id;\n  frequently || (frequently = defaults);\n  frequently[id] || (frequently[id] = 0);\n  frequently[id] += 1;\n  store.set('last', id);\n  store.set('frequently', frequently);\n}\n\nfunction get(perLine) {\n  if (!initialized) init();\n\n  if (!frequently) {\n    defaults = {};\n    var result = [];\n\n    for (var i = 0; i < perLine; i++) {\n      defaults[DEFAULTS[i]] = perLine - i;\n      result.push(DEFAULTS[i]);\n    }\n\n    return result;\n  }\n\n  var quantity = perLine * 4;\n  var frequentlyKeys = [];\n\n  for (var key in frequently) {\n    if (frequently.hasOwnProperty(key)) {\n      frequentlyKeys.push(key);\n    }\n  }\n\n  var sorted = frequentlyKeys.sort(function (a, b) {\n    return frequently[a] - frequently[b];\n  }).reverse();\n  var sliced = sorted.slice(0, quantity);\n  var last = store.get('last');\n\n  if (last && sliced.indexOf(last) == -1) {\n    sliced.pop();\n    sliced.push(last);\n  }\n\n  return sliced;\n}\n\nexport default {\n  add: add,\n  get: get\n};","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","import React from 'react';\nvar categories = {\n  activity: function activity() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113\"\n    }));\n  },\n  custom: function custom() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"g\", {\n      transform: \"translate(2.000000, 1.000000)\"\n    }, React.createElement(\"rect\", {\n      id: \"Rectangle\",\n      x: \"8\",\n      y: \"0\",\n      width: \"3\",\n      height: \"21\",\n      rx: \"1.5\"\n    }), React.createElement(\"rect\", {\n      id: \"Rectangle\",\n      transform: \"translate(9.843, 10.549) rotate(60) translate(-9.843, -10.549) \",\n      x: \"8.343\",\n      y: \"0.049\",\n      width: \"3\",\n      height: \"21\",\n      rx: \"1.5\"\n    }), React.createElement(\"rect\", {\n      id: \"Rectangle\",\n      transform: \"translate(9.843, 10.549) rotate(-60) translate(-9.843, -10.549) \",\n      x: \"8.343\",\n      y: \"0.049\",\n      width: \"3\",\n      height: \"21\",\n      rx: \"1.5\"\n    })));\n  },\n  flags: function flags() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z\"\n    }));\n  },\n  foods: function foods() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9\"\n    }));\n  },\n  nature: function nature() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8\"\n    }), React.createElement(\"path\", {\n      d: \"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235\"\n    }));\n  },\n  objects: function objects() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z\"\n    }), React.createElement(\"path\", {\n      d: \"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789\"\n    }));\n  },\n  people: function people() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10\"\n    }), React.createElement(\"path\", {\n      d: \"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0\"\n    }));\n  },\n  places: function places() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5\"\n    }), React.createElement(\"path\", {\n      d: \"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z\"\n    }));\n  },\n  recent: function recent() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z\"\n    }), React.createElement(\"path\", {\n      d: \"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10\"\n    }));\n  },\n  symbols: function symbols() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76\"\n    }));\n  }\n};\nvar search = {\n  search: function search() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"13\",\n      height: \"13\",\n      viewBox: \"0 0 20 20\",\n      opacity: \"0.5\"\n    }, React.createElement(\"path\", {\n      d: \"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z\"\n    }));\n  },\n  \"delete\": function _delete() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"13\",\n      height: \"13\",\n      viewBox: \"0 0 20 20\",\n      opacity: \"0.5\"\n    }, React.createElement(\"path\", {\n      d: \"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\"\n    }));\n  }\n};\nexport { categories, search };","import PropTypes from 'prop-types';\nvar EmojiPropTypes = {\n  data: PropTypes.object.isRequired,\n  onOver: PropTypes.func,\n  onLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  fallback: PropTypes.func,\n  backgroundImageFn: PropTypes.func,\n  \"native\": PropTypes.bool,\n  forceSize: PropTypes.bool,\n  tooltip: PropTypes.bool,\n  useButton: PropTypes.bool,\n  skin: PropTypes.oneOf([1, 2, 3, 4, 5, 6]),\n  sheetSize: PropTypes.oneOf([16, 20, 32, 64]),\n  sheetColumns: PropTypes.number,\n  sheetRows: PropTypes.number,\n  set: PropTypes.oneOf(['apple', 'google', 'twitter', 'facebook']),\n  size: PropTypes.number.isRequired,\n  emoji: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired\n};\nvar PickerPropTypes = {\n  onClick: PropTypes.func,\n  onSelect: PropTypes.func,\n  onSkinChange: PropTypes.func,\n  perLine: PropTypes.number,\n  emojiSize: PropTypes.number,\n  i18n: PropTypes.object,\n  style: PropTypes.object,\n  title: PropTypes.string,\n  emoji: PropTypes.string,\n  color: PropTypes.string,\n  set: EmojiPropTypes.set,\n  skin: EmojiPropTypes.skin,\n  \"native\": PropTypes.bool,\n  backgroundImageFn: EmojiPropTypes.backgroundImageFn,\n  sheetSize: EmojiPropTypes.sheetSize,\n  emojisToShowFilter: PropTypes.func,\n  showPreview: PropTypes.bool,\n  showSkinTones: PropTypes.bool,\n  emojiTooltip: EmojiPropTypes.tooltip,\n  useButton: EmojiPropTypes.useButton,\n  theme: PropTypes.oneOf(['auto', 'light', 'dark']),\n  include: PropTypes.arrayOf(PropTypes.string),\n  exclude: PropTypes.arrayOf(PropTypes.string),\n  recent: PropTypes.arrayOf(PropTypes.string),\n  autoFocus: PropTypes.bool,\n  enableFrequentEmojiSort: PropTypes.bool,\n  custom: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    short_names: PropTypes.arrayOf(PropTypes.string).isRequired,\n    emoticons: PropTypes.arrayOf(PropTypes.string),\n    keywords: PropTypes.arrayOf(PropTypes.string),\n    imageUrl: PropTypes.string,\n    spriteUrl: PropTypes.string,\n    sheet_x: PropTypes.number,\n    sheet_y: PropTypes.number,\n    size: PropTypes.number,\n    sheetColumns: PropTypes.number,\n    sheetRows: PropTypes.number\n  })),\n  skinEmoji: PropTypes.string,\n  notFound: PropTypes.func,\n  notFoundEmoji: PropTypes.string,\n  icons: PropTypes.object\n};\nexport { EmojiPropTypes, PickerPropTypes };","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar Anchors =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Anchors, _React$PureComponent);\n\n  function Anchors(props) {\n    var _this;\n\n    _classCallCheck(this, Anchors);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Anchors).call(this, props));\n    var defaultCategory = props.categories.filter(function (category) {\n      return category.first;\n    })[0];\n    _this.state = {\n      selected: defaultCategory.name\n    };\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Anchors, [{\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      var index = e.currentTarget.getAttribute('data-index');\n      var _this$props = this.props,\n          categories = _this$props.categories,\n          onAnchorClick = _this$props.onAnchorClick;\n      onAnchorClick(categories[index], index);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          categories = _this$props2.categories,\n          color = _this$props2.color,\n          i18n = _this$props2.i18n,\n          icons = _this$props2.icons,\n          selected = this.state.selected;\n      return React.createElement(\"nav\", {\n        className: \"emoji-mart-anchors\",\n        \"aria-label\": i18n.categorieslabel\n      }, categories.map(function (category, i) {\n        var id = category.id,\n            name = category.name,\n            anchor = category.anchor,\n            isSelected = name == selected;\n\n        if (anchor === false) {\n          return null;\n        }\n\n        var iconId = id.startsWith('custom-') ? 'custom' : id;\n        return React.createElement(\"button\", {\n          key: id,\n          \"aria-label\": i18n.categories[iconId],\n          title: i18n.categories[iconId],\n          \"data-index\": i,\n          type: 'button',\n          onClick: _this2.handleClick,\n          className: \"emoji-mart-anchor \".concat(isSelected ? 'emoji-mart-anchor-selected' : ''),\n          style: {\n            color: isSelected ? color : null\n          }\n        }, React.createElement(\"div\", {\n          className: \"emoji-mart-anchor-icon\"\n        }, icons.categories[iconId]()), React.createElement(\"span\", {\n          className: \"emoji-mart-anchor-bar\",\n          style: {\n            backgroundColor: color\n          }\n        }));\n      }));\n    }\n  }]);\n\n  return Anchors;\n}(React.PureComponent);\n\nexport { Anchors as default };\nAnchors.propTypes\n/* remove-proptypes */\n= {\n  categories: PropTypes.array,\n  onAnchorClick: PropTypes.func,\n  icons: PropTypes.object\n};\nAnchors.defaultProps = {\n  categories: [],\n  onAnchorClick: function onAnchorClick() {},\n  icons: {}\n};","var EmojiDefaultProps = {\n  skin: 1,\n  set: 'apple',\n  sheetSize: 64,\n  sheetColumns: 57,\n  sheetRows: 57,\n  \"native\": false,\n  forceSize: false,\n  tooltip: false,\n  useButton: true,\n  backgroundImageFn: function backgroundImageFn(set, sheetSize) {\n    return \"https://unpkg.com/emoji-datasource-\".concat(set, \"@\").concat(\"5.0.1\", \"/img/\").concat(set, \"/sheets-256/\").concat(sheetSize, \".png\");\n  }\n};\nvar PickerDefaultProps = {\n  onClick: function onClick() {},\n  onSelect: function onSelect() {},\n  onSkinChange: function onSkinChange() {},\n  emojiSize: 24,\n  perLine: 9,\n  i18n: {},\n  style: {},\n  title: 'Emoji Martâ„¢',\n  emoji: 'department_store',\n  color: '#ae65c5',\n  set: EmojiDefaultProps.set,\n  theme: 'light',\n  skin: null,\n  defaultSkin: EmojiDefaultProps.skin,\n  \"native\": EmojiDefaultProps[\"native\"],\n  sheetSize: EmojiDefaultProps.sheetSize,\n  backgroundImageFn: EmojiDefaultProps.backgroundImageFn,\n  emojisToShowFilter: null,\n  showPreview: true,\n  showSkinTones: true,\n  emojiTooltip: EmojiDefaultProps.tooltip,\n  useButton: EmojiDefaultProps.useButton,\n  autoFocus: false,\n  enableFrequentEmojiSort: false,\n  custom: [],\n  skinEmoji: '',\n  notFound: function notFound() {},\n  notFoundEmoji: 'sleuth_or_spy',\n  icons: {}\n};\nexport { PickerDefaultProps, EmojiDefaultProps };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getData, getSanitizedData, unifiedToNative } from '../../utils';\nimport { uncompress } from '../../utils/data';\nimport { EmojiPropTypes } from '../../utils/shared-props';\nimport { EmojiDefaultProps } from '../../utils/shared-default-props';\n\nvar _getData = function _getData(props) {\n  var emoji = props.emoji,\n      skin = props.skin,\n      set = props.set,\n      data = props.data;\n  return getData(emoji, skin, set, data);\n};\n\nvar _getPosition = function _getPosition(props) {\n  var _getData2 = _getData(props),\n      sheet_x = _getData2.sheet_x,\n      sheet_y = _getData2.sheet_y,\n      multiplyX = 100 / (props.sheetColumns - 1),\n      multiplyY = 100 / (props.sheetRows - 1);\n\n  return \"\".concat(multiplyX * sheet_x, \"% \").concat(multiplyY * sheet_y, \"%\");\n};\n\nvar _getSanitizedData = function _getSanitizedData(props) {\n  var emoji = props.emoji,\n      skin = props.skin,\n      set = props.set,\n      data = props.data;\n  return getSanitizedData(emoji, skin, set, data);\n};\n\nvar _handleClick = function _handleClick(e, props) {\n  if (!props.onClick) {\n    return;\n  }\n\n  var onClick = props.onClick,\n      emoji = _getSanitizedData(props);\n\n  onClick(emoji, e);\n};\n\nvar _handleOver = function _handleOver(e, props) {\n  if (!props.onOver) {\n    return;\n  }\n\n  var onOver = props.onOver,\n      emoji = _getSanitizedData(props);\n\n  onOver(emoji, e);\n};\n\nvar _handleLeave = function _handleLeave(e, props) {\n  if (!props.onLeave) {\n    return;\n  }\n\n  var onLeave = props.onLeave,\n      emoji = _getSanitizedData(props);\n\n  onLeave(emoji, e);\n};\n\nvar _isNumeric = function _isNumeric(value) {\n  return !isNaN(value - parseFloat(value));\n};\n\nvar _convertStyleToCSS = function _convertStyleToCSS(style) {\n  var div = document.createElement('div');\n\n  for (var key in style) {\n    var value = style[key];\n\n    if (_isNumeric(value)) {\n      value += 'px';\n    }\n\n    div.style[key] = value;\n  }\n\n  return div.getAttribute('style');\n};\n\nvar NimbleEmoji = function NimbleEmoji(props) {\n  if (props.data.compressed) {\n    uncompress(props.data);\n  }\n\n  for (var k in NimbleEmoji.defaultProps) {\n    if (props[k] == undefined && NimbleEmoji.defaultProps[k] != undefined) {\n      props[k] = NimbleEmoji.defaultProps[k];\n    }\n  }\n\n  var data = _getData(props);\n\n  if (!data) {\n    if (props.fallback) {\n      return props.fallback(null, props);\n    } else {\n      return null;\n    }\n  }\n\n  var unified = data.unified,\n      custom = data.custom,\n      short_names = data.short_names,\n      imageUrl = data.imageUrl,\n      style = {},\n      children = props.children,\n      className = 'emoji-mart-emoji',\n      nativeEmoji = unified && unifiedToNative(unified),\n      label = [nativeEmoji].concat(short_names).filter(Boolean).join(', '),\n      title = null;\n\n  if (!unified && !custom) {\n    if (props.fallback) {\n      return props.fallback(data, props);\n    } else {\n      return null;\n    }\n  }\n\n  if (props.tooltip) {\n    title = short_names[0];\n  }\n\n  if (props[\"native\"] && unified) {\n    className += ' emoji-mart-emoji-native';\n    style = {\n      fontSize: props.size\n    };\n    children = nativeEmoji;\n\n    if (props.forceSize) {\n      style.display = 'inline-block';\n      style.width = props.size;\n      style.height = props.size;\n      style.wordBreak = 'keep-all';\n    }\n  } else if (custom) {\n    className += ' emoji-mart-emoji-custom';\n    style = {\n      width: props.size,\n      height: props.size,\n      display: 'inline-block'\n    };\n\n    if (data.spriteUrl) {\n      style = _objectSpread({}, style, {\n        backgroundImage: \"url(\".concat(data.spriteUrl, \")\"),\n        backgroundSize: \"\".concat(100 * props.sheetColumns, \"% \").concat(100 * props.sheetRows, \"%\"),\n        backgroundPosition: _getPosition(props)\n      });\n    } else {\n      style = _objectSpread({}, style, {\n        backgroundImage: \"url(\".concat(imageUrl, \")\"),\n        backgroundSize: 'contain',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center'\n      });\n    }\n  } else {\n    var setHasEmoji = data[\"has_img_\".concat(props.set)] == undefined || data[\"has_img_\".concat(props.set)];\n\n    if (!setHasEmoji) {\n      if (props.fallback) {\n        return props.fallback(data, props);\n      } else {\n        return null;\n      }\n    } else {\n      style = {\n        width: props.size,\n        height: props.size,\n        display: 'inline-block',\n        backgroundImage: \"url(\".concat(props.backgroundImageFn(props.set, props.sheetSize), \")\"),\n        backgroundSize: \"\".concat(100 * props.sheetColumns, \"% \").concat(100 * props.sheetRows, \"%\"),\n        backgroundPosition: _getPosition(props)\n      };\n    }\n  }\n\n  var Tag = {\n    name: 'span',\n    props: {}\n  };\n\n  if (props.onClick && props.useButton) {\n    Tag.name = 'button';\n    Tag.props = {\n      type: 'button'\n    };\n  }\n\n  if (props.html) {\n    style = _convertStyleToCSS(style);\n    return \"<\".concat(Tag.name, \" style='\").concat(style, \"' aria-label='\").concat(label, \"' \").concat(title ? \"title='\".concat(title, \"'\") : '', \" class='\").concat(className, \"'>\").concat(children || '', \"</\").concat(Tag.name, \">\");\n  } else {\n    return React.createElement(Tag.name, _extends({\n      onClick: function onClick(e) {\n        return _handleClick(e, props);\n      },\n      onMouseEnter: function onMouseEnter(e) {\n        return _handleOver(e, props);\n      },\n      onMouseLeave: function onMouseLeave(e) {\n        return _handleLeave(e, props);\n      },\n      \"aria-label\": label,\n      title: title,\n      className: className\n    }, Tag.props), React.createElement(\"span\", {\n      style: style\n    }, children));\n  }\n};\n\nNimbleEmoji.propTypes\n/* remove-proptypes */\n= _objectSpread({}, EmojiPropTypes, {\n  data: PropTypes.object.isRequired\n});\nNimbleEmoji.defaultProps = EmojiDefaultProps;\nexport default NimbleEmoji;","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport NimbleEmoji from './emoji/nimble-emoji';\n\nvar NotFound =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(NotFound, _React$PureComponent);\n\n  function NotFound() {\n    _classCallCheck(this, NotFound);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(NotFound).apply(this, arguments));\n  }\n\n  _createClass(NotFound, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          data = _this$props.data,\n          emojiProps = _this$props.emojiProps,\n          i18n = _this$props.i18n,\n          notFound = _this$props.notFound,\n          notFoundEmoji = _this$props.notFoundEmoji;\n      var component = notFound && notFound() || React.createElement(\"div\", {\n        className: \"emoji-mart-no-results\"\n      }, NimbleEmoji(_objectSpread({\n        data: data\n      }, emojiProps, {\n        size: 38,\n        emoji: notFoundEmoji,\n        onOver: null,\n        onLeave: null,\n        onClick: null\n      })), React.createElement(\"div\", {\n        className: \"emoji-mart-no-results-label\"\n      }, i18n.notfound));\n      return component;\n    }\n  }]);\n\n  return NotFound;\n}(React.PureComponent);\n\nexport { NotFound as default };\nNotFound.propTypes\n/* remove-proptypes */\n= {\n  notFound: PropTypes.func.isRequired,\n  emojiProps: PropTypes.object.isRequired\n};","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport frequently from '../utils/frequently';\nimport { getData } from '../utils';\nimport NimbleEmoji from './emoji/nimble-emoji';\nimport NotFound from './not-found';\n\nvar Category =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Category, _React$Component);\n\n  function Category(props) {\n    var _this;\n\n    _classCallCheck(this, Category);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Category).call(this, props));\n    _this.data = props.data;\n    _this.setContainerRef = _this.setContainerRef.bind(_assertThisInitialized(_this));\n    _this.setLabelRef = _this.setLabelRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Category, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.margin = 0;\n      this.minMargin = 0;\n      this.memoizeSize();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var _this$props = this.props,\n          name = _this$props.name,\n          perLine = _this$props.perLine,\n          _native = _this$props[\"native\"],\n          hasStickyPosition = _this$props.hasStickyPosition,\n          emojis = _this$props.emojis,\n          emojiProps = _this$props.emojiProps,\n          skin = emojiProps.skin,\n          size = emojiProps.size,\n          set = emojiProps.set,\n          nextPerLine = nextProps.perLine,\n          nextNative = nextProps[\"native\"],\n          nextHasStickyPosition = nextProps.hasStickyPosition,\n          nextEmojis = nextProps.emojis,\n          nextEmojiProps = nextProps.emojiProps,\n          nextSkin = nextEmojiProps.skin,\n          nextSize = nextEmojiProps.size,\n          nextSet = nextEmojiProps.set,\n          shouldUpdate = false;\n\n      if (name == 'Recent' && perLine != nextPerLine) {\n        shouldUpdate = true;\n      }\n\n      if (name == 'Search') {\n        shouldUpdate = !(emojis == nextEmojis);\n      }\n\n      if (skin != nextSkin || size != nextSize || _native != nextNative || set != nextSet || hasStickyPosition != nextHasStickyPosition) {\n        shouldUpdate = true;\n      }\n\n      return shouldUpdate;\n    }\n  }, {\n    key: \"memoizeSize\",\n    value: function memoizeSize() {\n      if (!this.container) {\n        // probably this is a test environment, e.g. jest\n        this.top = 0;\n        this.maxMargin = 0;\n        return;\n      }\n\n      var parent = this.container.parentElement;\n\n      var _this$container$getBo = this.container.getBoundingClientRect(),\n          top = _this$container$getBo.top,\n          height = _this$container$getBo.height;\n\n      var _parent$getBoundingCl = parent.getBoundingClientRect(),\n          parentTop = _parent$getBoundingCl.top;\n\n      var _this$label$getBoundi = this.label.getBoundingClientRect(),\n          labelHeight = _this$label$getBoundi.height;\n\n      this.top = top - parentTop + parent.scrollTop;\n\n      if (height == 0) {\n        this.maxMargin = 0;\n      } else {\n        this.maxMargin = height - labelHeight;\n      }\n    }\n  }, {\n    key: \"handleScroll\",\n    value: function handleScroll(scrollTop) {\n      var margin = scrollTop - this.top;\n      margin = margin < this.minMargin ? this.minMargin : margin;\n      margin = margin > this.maxMargin ? this.maxMargin : margin;\n      if (margin == this.margin) return;\n\n      if (!this.props.hasStickyPosition) {\n        this.label.style.top = \"\".concat(margin, \"px\");\n      }\n\n      this.margin = margin;\n      return true;\n    }\n  }, {\n    key: \"getEmojis\",\n    value: function getEmojis() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          name = _this$props2.name,\n          emojis = _this$props2.emojis,\n          recent = _this$props2.recent,\n          perLine = _this$props2.perLine;\n\n      if (name == 'Recent') {\n        var custom = this.props.custom;\n        var frequentlyUsed = recent || frequently.get(perLine);\n\n        if (frequentlyUsed.length) {\n          emojis = frequentlyUsed.map(function (id) {\n            var emoji = custom.filter(function (e) {\n              return e.id === id;\n            })[0];\n\n            if (emoji) {\n              return emoji;\n            }\n\n            return id;\n          }).filter(function (id) {\n            return !!getData(id, null, null, _this2.data);\n          });\n        }\n\n        if (emojis.length === 0 && frequentlyUsed.length > 0) {\n          return null;\n        }\n      }\n\n      if (emojis) {\n        emojis = emojis.slice(0);\n      }\n\n      return emojis;\n    }\n  }, {\n    key: \"updateDisplay\",\n    value: function updateDisplay(display) {\n      var emojis = this.getEmojis();\n\n      if (!emojis || !this.container) {\n        return;\n      }\n\n      this.container.style.display = display;\n    }\n  }, {\n    key: \"setContainerRef\",\n    value: function setContainerRef(c) {\n      this.container = c;\n    }\n  }, {\n    key: \"setLabelRef\",\n    value: function setLabelRef(c) {\n      this.label = c;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props3 = this.props,\n          id = _this$props3.id,\n          name = _this$props3.name,\n          hasStickyPosition = _this$props3.hasStickyPosition,\n          emojiProps = _this$props3.emojiProps,\n          i18n = _this$props3.i18n,\n          notFound = _this$props3.notFound,\n          notFoundEmoji = _this$props3.notFoundEmoji,\n          emojis = this.getEmojis(),\n          labelStyles = {},\n          labelSpanStyles = {},\n          containerStyles = {};\n\n      if (!emojis) {\n        containerStyles = {\n          display: 'none'\n        };\n      }\n\n      if (!hasStickyPosition) {\n        labelStyles = {\n          height: 28\n        };\n        labelSpanStyles = {\n          position: 'absolute'\n        };\n      }\n\n      var label = i18n.categories[id] || name;\n      return React.createElement(\"section\", {\n        ref: this.setContainerRef,\n        className: \"emoji-mart-category\",\n        \"aria-label\": label,\n        style: containerStyles\n      }, React.createElement(\"div\", {\n        style: labelStyles,\n        \"data-name\": name,\n        className: \"emoji-mart-category-label\"\n      }, React.createElement(\"span\", {\n        style: labelSpanStyles,\n        ref: this.setLabelRef,\n        \"aria-hidden\": true\n        /* already labeled by the section aria-label */\n\n      }, label)), React.createElement(\"ul\", {\n        className: \"emoji-mart-category-list\"\n      }, emojis && emojis.map(function (emoji) {\n        return React.createElement(\"li\", {\n          key: emoji.short_names && emoji.short_names.join('_') || emoji\n        }, NimbleEmoji(_objectSpread({\n          emoji: emoji,\n          data: _this3.data\n        }, emojiProps)));\n      })), emojis && !emojis.length && React.createElement(NotFound, {\n        i18n: i18n,\n        notFound: notFound,\n        notFoundEmoji: notFoundEmoji,\n        data: this.data,\n        emojiProps: emojiProps\n      }));\n    }\n  }]);\n\n  return Category;\n}(React.Component);\n\nexport { Category as default };\nCategory.propTypes\n/* remove-proptypes */\n= {\n  emojis: PropTypes.array,\n  hasStickyPosition: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  \"native\": PropTypes.bool.isRequired,\n  perLine: PropTypes.number.isRequired,\n  emojiProps: PropTypes.object.isRequired,\n  recent: PropTypes.arrayOf(PropTypes.string),\n  notFound: PropTypes.func,\n  notFoundEmoji: PropTypes.string.isRequired\n};\nCategory.defaultProps = {\n  emojis: [],\n  hasStickyPosition: true\n};","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar Skins =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Skins, _React$PureComponent);\n\n  function Skins(props) {\n    var _this;\n\n    _classCallCheck(this, Skins);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Skins).call(this, props));\n    _this.state = {\n      opened: false\n    };\n    return _this;\n  }\n\n  _createClass(Skins, [{\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      var skin = parseInt(e.currentTarget.getAttribute('data-skin'));\n      var onChange = this.props.onChange;\n\n      if (!this.state.opened) {\n        this.setState({\n          opened: true\n        });\n      } else {\n        this.setState({\n          opened: false\n        });\n\n        if (skin != this.props.skin) {\n          onChange(skin);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Skins;\n}(React.PureComponent);\n\nexport { Skins as default };\nSkins.propTypes\n/* remove-proptypes */\n= {\n  onChange: PropTypes.func,\n  skin: PropTypes.number.isRequired\n};\nSkins.defaultProps = {\n  onChange: function onChange() {}\n};","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport NimbleEmoji from './emoji/nimble-emoji';\nimport Skins from './skins';\n\nvar SkinsEmoji =\n/*#__PURE__*/\nfunction (_Skins) {\n  _inherits(SkinsEmoji, _Skins);\n\n  function SkinsEmoji(props) {\n    var _this;\n\n    _classCallCheck(this, SkinsEmoji);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SkinsEmoji).call(this, props));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SkinsEmoji, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          skin = _this$props.skin,\n          emojiProps = _this$props.emojiProps,\n          data = _this$props.data,\n          skinEmoji = _this$props.skinEmoji,\n          i18n = _this$props.i18n;\n      var opened = this.state.opened;\n      var skinToneNodes = [];\n\n      for (var skinTone = 1; skinTone <= 6; skinTone++) {\n        var selected = skinTone === skin;\n        skinToneNodes.push(React.createElement(\"span\", {\n          key: \"skin-tone-\".concat(skinTone),\n          className: \"emoji-mart-skin-swatch custom\".concat(selected ? ' selected' : '')\n        }, React.createElement(\"span\", {\n          onClick: this.handleClick,\n          \"data-skin\": skinTone,\n          className: \"emoji-mart-skin-tone-\".concat(skinTone)\n        }, NimbleEmoji({\n          emoji: skinEmoji,\n          data: data,\n          skin: skinTone,\n          backgroundImageFn: emojiProps.backgroundImageFn,\n          \"native\": emojiProps[\"native\"],\n          set: emojiProps.set,\n          sheetSize: emojiProps.sheetSize,\n          size: 23\n        }))));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"emoji-mart-skin-swatches custom\".concat(opened ? ' opened' : '')\n      }, React.createElement(\"div\", {\n        className: \"emoji-mart-skin-text\".concat(opened ? ' opened' : '')\n      }, i18n.skintext), skinToneNodes);\n    }\n  }]);\n\n  return SkinsEmoji;\n}(Skins);\n\nexport { SkinsEmoji as default };\nSkinsEmoji.propTypes\n/* remove-proptypes */\n= {\n  onChange: PropTypes.func,\n  skin: PropTypes.number.isRequired,\n  emojiProps: PropTypes.object.isRequired,\n  skinTone: PropTypes.number,\n  skinEmoji: PropTypes.string.isRequired,\n  i18n: PropTypes.object\n};\nSkinsEmoji.defaultProps = {\n  onChange: function onChange() {},\n  skinTone: null\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Skins from './skins';\n\nvar SkinsDot =\n/*#__PURE__*/\nfunction (_Skins) {\n  _inherits(SkinsDot, _Skins);\n\n  function SkinsDot(props) {\n    var _this;\n\n    _classCallCheck(this, SkinsDot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SkinsDot).call(this, props));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SkinsDot, [{\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      // if either enter or space is pressed, then execute\n      if (event.keyCode === 13 || event.keyCode === 32) {\n        event.preventDefault();\n        this.handleClick(event);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          skin = _this$props.skin,\n          i18n = _this$props.i18n;\n      var opened = this.state.opened;\n      var skinToneNodes = [];\n\n      for (var skinTone = 1; skinTone <= 6; skinTone++) {\n        var selected = skinTone === skin;\n        var visible = opened || selected;\n        skinToneNodes.push(React.createElement(\"span\", _extends({\n          key: \"skin-tone-\".concat(skinTone),\n          className: \"emoji-mart-skin-swatch\".concat(selected ? ' selected' : ''),\n          \"aria-label\": i18n.skintones[skinTone],\n          \"aria-hidden\": !visible\n        }, opened ? {\n          role: 'menuitem'\n        } : {}), React.createElement(\"span\", _extends({\n          onClick: this.handleClick,\n          onKeyDown: this.handleKeyDown,\n          role: \"button\"\n        }, selected ? {\n          'aria-haspopup': true,\n          'aria-expanded': !!opened\n        } : {}, opened ? {\n          'aria-pressed': !!selected\n        } : {}, {\n          tabIndex: visible ? '0' : '',\n          \"aria-label\": i18n.skintones[skinTone],\n          title: i18n.skintones[skinTone],\n          \"data-skin\": skinTone,\n          className: \"emoji-mart-skin emoji-mart-skin-tone-\".concat(skinTone)\n        }))));\n      }\n\n      return React.createElement(\"section\", {\n        className: \"emoji-mart-skin-swatches\".concat(opened ? ' opened' : ''),\n        \"aria-label\": i18n.skintext\n      }, React.createElement(\"div\", opened ? {\n        role: 'menubar'\n      } : {}, skinToneNodes));\n    }\n  }]);\n\n  return SkinsDot;\n}(Skins);\n\nexport { SkinsDot as default };\nSkinsDot.propTypes\n/* remove-proptypes */\n= {\n  onChange: PropTypes.func,\n  skin: PropTypes.number.isRequired,\n  i18n: PropTypes.object\n};\nSkinsDot.defaultProps = {\n  onChange: function onChange() {}\n};","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getData } from '../utils';\nimport NimbleEmoji from './emoji/nimble-emoji';\nimport SkinsEmoji from './skins-emoji';\nimport SkinsDot from './skins-dot';\n\nvar Preview =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Preview, _React$PureComponent);\n\n  function Preview(props) {\n    var _this;\n\n    _classCallCheck(this, Preview);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Preview).call(this, props));\n    _this.data = props.data;\n    _this.state = {\n      emoji: null\n    };\n    return _this;\n  }\n\n  _createClass(Preview, [{\n    key: \"render\",\n    value: function render() {\n      var emoji = this.state.emoji,\n          _this$props = this.props,\n          emojiProps = _this$props.emojiProps,\n          skinsProps = _this$props.skinsProps,\n          showSkinTones = _this$props.showSkinTones,\n          title = _this$props.title,\n          idleEmoji = _this$props.emoji,\n          i18n = _this$props.i18n,\n          showPreview = _this$props.showPreview;\n\n      if (emoji && showPreview) {\n        var emojiData = getData(emoji, null, null, this.data),\n            _emojiData$emoticons = emojiData.emoticons,\n            emoticons = _emojiData$emoticons === void 0 ? [] : _emojiData$emoticons,\n            knownEmoticons = [],\n            listedEmoticons = [];\n        emoticons.forEach(function (emoticon) {\n          if (knownEmoticons.indexOf(emoticon.toLowerCase()) >= 0) {\n            return;\n          }\n\n          knownEmoticons.push(emoticon.toLowerCase());\n          listedEmoticons.push(emoticon);\n        });\n        return React.createElement(\"div\", {\n          className: \"emoji-mart-preview\"\n        }, React.createElement(\"div\", {\n          className: \"emoji-mart-preview-emoji\",\n          \"aria-hidden\": \"true\"\n        }, NimbleEmoji(_objectSpread({\n          key: emoji.id,\n          emoji: emoji,\n          data: this.data\n        }, emojiProps))), React.createElement(\"div\", {\n          className: \"emoji-mart-preview-data\",\n          \"aria-hidden\": \"true\"\n        }, React.createElement(\"div\", {\n          className: \"emoji-mart-preview-name\"\n        }, emoji.name), React.createElement(\"div\", {\n          className: \"emoji-mart-preview-shortnames\"\n        }, emojiData.short_names.map(function (short_name) {\n          return React.createElement(\"span\", {\n            key: short_name,\n            className: \"emoji-mart-preview-shortname\"\n          }, \":\", short_name, \":\");\n        })), React.createElement(\"div\", {\n          className: \"emoji-mart-preview-emoticons\"\n        }, listedEmoticons.map(function (emoticon) {\n          return React.createElement(\"span\", {\n            key: emoticon,\n            className: \"emoji-mart-preview-emoticon\"\n          }, emoticon);\n        }))));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"emoji-mart-preview\"\n        }, React.createElement(\"div\", {\n          className: \"emoji-mart-preview-emoji\",\n          \"aria-hidden\": \"true\"\n        }, idleEmoji && idleEmoji.length && NimbleEmoji(_objectSpread({\n          emoji: idleEmoji,\n          data: this.data\n        }, emojiProps))), React.createElement(\"div\", {\n          className: \"emoji-mart-preview-data\",\n          \"aria-hidden\": \"true\"\n        }, React.createElement(\"span\", {\n          className: \"emoji-mart-title-label\"\n        }, title)), showSkinTones && React.createElement(\"div\", {\n          className: \"emoji-mart-preview-skins\".concat(skinsProps.skinEmoji ? ' custom' : '')\n        }, skinsProps.skinEmoji ? React.createElement(SkinsEmoji, {\n          skin: skinsProps.skin,\n          emojiProps: emojiProps,\n          data: this.data,\n          skinEmoji: skinsProps.skinEmoji,\n          i18n: i18n,\n          onChange: skinsProps.onChange\n        }) : React.createElement(SkinsDot, {\n          skin: skinsProps.skin,\n          i18n: i18n,\n          onChange: skinsProps.onChange\n        })));\n      }\n    }\n  }]);\n\n  return Preview;\n}(React.PureComponent);\n\nexport { Preview as default };\nPreview.propTypes\n/* remove-proptypes */\n= {\n  showSkinTones: PropTypes.bool,\n  title: PropTypes.string.isRequired,\n  emoji: PropTypes.string.isRequired,\n  emojiProps: PropTypes.object.isRequired,\n  skinsProps: PropTypes.object.isRequired\n};\nPreview.defaultProps = {\n  showSkinTones: true,\n  onChange: function onChange() {}\n};","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { search as icons } from '../svgs';\nimport NimbleEmojiIndex from '../utils/emoji-index/nimble-emoji-index';\nimport { throttleIdleTask } from '../utils/index';\nvar id = 0;\n\nvar Search =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Search, _React$PureComponent);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n    _this.state = {\n      icon: icons.search,\n      isSearching: false,\n      id: ++id\n    };\n    _this.data = props.data;\n    _this.emojiIndex = new NimbleEmojiIndex(_this.data);\n    _this.setRef = _this.setRef.bind(_assertThisInitialized(_this));\n    _this.clear = _this.clear.bind(_assertThisInitialized(_this));\n    _this.handleKeyUp = _this.handleKeyUp.bind(_assertThisInitialized(_this)); // throttle keyboard input so that typing isn't delayed\n\n    _this.handleChange = throttleIdleTask(_this.handleChange.bind(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // in some cases (e.g. preact) the input may already be pre-populated\n      // this.input is undefined in Jest tests\n      if (this.input && this.input.value) {\n        this.search(this.input.value);\n      }\n    }\n  }, {\n    key: \"search\",\n    value: function search(value) {\n      if (value == '') this.setState({\n        icon: icons.search,\n        isSearching: false\n      });else this.setState({\n        icon: icons[\"delete\"],\n        isSearching: true\n      });\n      this.props.onSearch(this.emojiIndex.search(value, {\n        emojisToShowFilter: this.props.emojisToShowFilter,\n        maxResults: this.props.maxResults,\n        include: this.props.include,\n        exclude: this.props.exclude,\n        custom: this.props.custom\n      }));\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (this.input.value == '') return;\n      this.input.value = '';\n      this.input.focus();\n      this.search('');\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange() {\n      if (this.input) {\n        this.search(this.input.value);\n      }\n    }\n  }, {\n    key: \"handleKeyUp\",\n    value: function handleKeyUp(e) {\n      if (e.keyCode === 13) {\n        this.clear();\n      }\n    }\n  }, {\n    key: \"setRef\",\n    value: function setRef(c) {\n      this.input = c;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          i18n = _this$props.i18n,\n          autoFocus = _this$props.autoFocus;\n      var _this$state = this.state,\n          icon = _this$state.icon,\n          isSearching = _this$state.isSearching,\n          id = _this$state.id;\n      var inputId = \"emoji-mart-search-\".concat(id);\n      return React.createElement(\"section\", {\n        className: \"emoji-mart-search\",\n        \"aria-label\": i18n.search\n      }, React.createElement(\"input\", {\n        id: inputId,\n        ref: this.setRef,\n        type: \"search\",\n        onChange: this.handleChange,\n        placeholder: i18n.search,\n        autoFocus: autoFocus\n      }), React.createElement(\"label\", {\n        className: \"emoji-mart-sr-only\",\n        htmlFor: inputId\n      }, i18n.search), React.createElement(\"button\", {\n        className: \"emoji-mart-search-icon\",\n        onClick: this.clear,\n        onKeyUp: this.handleKeyUp,\n        \"aria-label\": i18n.clear,\n        disabled: !isSearching\n      }, icon()));\n    }\n  }]);\n\n  return Search;\n}(React.PureComponent);\n\nexport { Search as default };\nSearch.propTypes\n/* remove-proptypes */\n= {\n  onSearch: PropTypes.func,\n  maxResults: PropTypes.number,\n  emojisToShowFilter: PropTypes.func,\n  autoFocus: PropTypes.bool\n};\nSearch.defaultProps = {\n  onSearch: function onSearch() {},\n  maxResults: 75,\n  emojisToShowFilter: null,\n  autoFocus: false\n};","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport * as icons from '../../svgs';\nimport store from '../../utils/store';\nimport frequently from '../../utils/frequently';\nimport { deepMerge, measureScrollbar, getSanitizedData } from '../../utils';\nimport { uncompress } from '../../utils/data';\nimport { PickerPropTypes } from '../../utils/shared-props';\nimport Anchors from '../anchors';\nimport Category from '../category';\nimport Preview from '../preview';\nimport Search from '../search';\nimport { PickerDefaultProps } from '../../utils/shared-default-props';\nvar I18N = {\n  search: 'Search',\n  clear: 'Clear',\n  // Accessible label on \"clear\" button\n  notfound: 'No Emoji Found',\n  skintext: 'Choose your default skin tone',\n  categories: {\n    search: 'Search Results',\n    recent: 'Frequently Used',\n    people: 'Smileys & People',\n    nature: 'Animals & Nature',\n    foods: 'Food & Drink',\n    activity: 'Activity',\n    places: 'Travel & Places',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags',\n    custom: 'Custom'\n  },\n  categorieslabel: 'Emoji categories',\n  // Accessible title for the list of categories\n  skintones: {\n    1: 'Default Skin Tone',\n    2: 'Light Skin Tone',\n    3: 'Medium-Light Skin Tone',\n    4: 'Medium Skin Tone',\n    5: 'Medium-Dark Skin Tone',\n    6: 'Dark Skin Tone'\n  }\n};\n\nvar NimblePicker =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(NimblePicker, _React$PureComponent);\n\n  function NimblePicker(props) {\n    var _this;\n\n    _classCallCheck(this, NimblePicker);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NimblePicker).call(this, props));\n    _this.CUSTOM = [];\n    _this.RECENT_CATEGORY = {\n      id: 'recent',\n      name: 'Recent',\n      emojis: null\n    };\n    _this.SEARCH_CATEGORY = {\n      id: 'search',\n      name: 'Search',\n      emojis: null,\n      anchor: false\n    };\n\n    if (props.data.compressed) {\n      uncompress(props.data);\n    }\n\n    _this.data = props.data;\n    _this.i18n = deepMerge(I18N, props.i18n);\n    _this.icons = deepMerge(icons, props.icons);\n    _this.state = {\n      firstRender: true\n    };\n    _this.categories = [];\n    var allCategories = [].concat(_this.data.categories);\n\n    if (props.custom.length > 0) {\n      var customCategories = {};\n      var customCategoriesCreated = 0;\n      props.custom.forEach(function (emoji) {\n        if (!customCategories[emoji.customCategory]) {\n          customCategories[emoji.customCategory] = {\n            id: emoji.customCategory ? \"custom-\".concat(emoji.customCategory) : 'custom',\n            name: emoji.customCategory || 'Custom',\n            emojis: [],\n            anchor: customCategoriesCreated === 0\n          };\n          customCategoriesCreated++;\n        }\n\n        var category = customCategories[emoji.customCategory];\n\n        var customEmoji = _objectSpread({}, emoji, {\n          // `<Category />` expects emoji to have an `id`.\n          id: emoji.short_names[0],\n          custom: true\n        });\n\n        category.emojis.push(customEmoji);\n\n        _this.CUSTOM.push(customEmoji);\n      });\n      allCategories = allCategories.concat(Object.keys(customCategories).map(function (key) {\n        return customCategories[key];\n      }));\n    }\n\n    _this.hideRecent = true;\n\n    if (props.include != undefined) {\n      allCategories.sort(function (a, b) {\n        if (props.include.indexOf(a.id) > props.include.indexOf(b.id)) {\n          return 1;\n        }\n\n        return -1;\n      });\n    }\n\n    for (var categoryIndex = 0; categoryIndex < allCategories.length; categoryIndex++) {\n      var category = allCategories[categoryIndex];\n      var isIncluded = props.include && props.include.length ? props.include.indexOf(category.id) > -1 : true;\n      var isExcluded = props.exclude && props.exclude.length ? props.exclude.indexOf(category.id) > -1 : false;\n\n      if (!isIncluded || isExcluded) {\n        continue;\n      }\n\n      if (props.emojisToShowFilter) {\n        var newEmojis = [];\n        var emojis = category.emojis;\n\n        for (var emojiIndex = 0; emojiIndex < emojis.length; emojiIndex++) {\n          var emoji = emojis[emojiIndex];\n\n          if (props.emojisToShowFilter(_this.data.emojis[emoji] || emoji)) {\n            newEmojis.push(emoji);\n          }\n        }\n\n        if (newEmojis.length) {\n          var newCategory = {\n            emojis: newEmojis,\n            name: category.name,\n            id: category.id\n          };\n\n          _this.categories.push(newCategory);\n        }\n      } else {\n        _this.categories.push(category);\n      }\n    }\n\n    var includeRecent = props.include && props.include.length ? props.include.indexOf(_this.RECENT_CATEGORY.id) > -1 : true;\n    var excludeRecent = props.exclude && props.exclude.length ? props.exclude.indexOf(_this.RECENT_CATEGORY.id) > -1 : false;\n\n    if (includeRecent && !excludeRecent) {\n      _this.hideRecent = false;\n\n      _this.categories.unshift(_this.RECENT_CATEGORY);\n    }\n\n    if (_this.categories[0]) {\n      _this.categories[0].first = true;\n    }\n\n    _this.categories.unshift(_this.SEARCH_CATEGORY);\n\n    _this.setAnchorsRef = _this.setAnchorsRef.bind(_assertThisInitialized(_this));\n    _this.handleAnchorClick = _this.handleAnchorClick.bind(_assertThisInitialized(_this));\n    _this.setSearchRef = _this.setSearchRef.bind(_assertThisInitialized(_this));\n    _this.handleSearch = _this.handleSearch.bind(_assertThisInitialized(_this));\n    _this.setScrollRef = _this.setScrollRef.bind(_assertThisInitialized(_this));\n    _this.handleScroll = _this.handleScroll.bind(_assertThisInitialized(_this));\n    _this.handleScrollPaint = _this.handleScrollPaint.bind(_assertThisInitialized(_this));\n    _this.handleEmojiOver = _this.handleEmojiOver.bind(_assertThisInitialized(_this));\n    _this.handleEmojiLeave = _this.handleEmojiLeave.bind(_assertThisInitialized(_this));\n    _this.handleEmojiClick = _this.handleEmojiClick.bind(_assertThisInitialized(_this));\n    _this.handleEmojiSelect = _this.handleEmojiSelect.bind(_assertThisInitialized(_this));\n    _this.setPreviewRef = _this.setPreviewRef.bind(_assertThisInitialized(_this));\n    _this.handleSkinChange = _this.handleSkinChange.bind(_assertThisInitialized(_this));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_this));\n    _this.handleDarkMatchMediaChange = _this.handleDarkMatchMediaChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(NimblePicker, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.state.firstRender) {\n        this.testStickyPosition();\n        this.firstRenderTimeout = setTimeout(function () {\n          _this2.setState({\n            firstRender: false\n          });\n        }, 60);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.updateCategoriesSize();\n      this.handleScroll();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.SEARCH_CATEGORY.emojis = null;\n      clearTimeout(this.leaveTimeout);\n      clearTimeout(this.firstRenderTimeout);\n\n      if (this.darkMatchMedia) {\n        this.darkMatchMedia.removeListener(this.handleDarkMatchMediaChange);\n      }\n    }\n  }, {\n    key: \"testStickyPosition\",\n    value: function testStickyPosition() {\n      var stickyTestElement = document.createElement('div');\n      var prefixes = ['', '-webkit-', '-ms-', '-moz-', '-o-'];\n      prefixes.forEach(function (prefix) {\n        return stickyTestElement.style.position = \"\".concat(prefix, \"sticky\");\n      });\n      this.hasStickyPosition = !!stickyTestElement.style.position.length;\n    }\n  }, {\n    key: \"getPreferredTheme\",\n    value: function getPreferredTheme() {\n      if (this.props.theme != 'auto') return this.props.theme;\n      if (this.state.theme) return this.state.theme;\n      if (typeof matchMedia !== 'function') return PickerDefaultProps.theme;\n\n      if (!this.darkMatchMedia) {\n        this.darkMatchMedia = matchMedia('(prefers-color-scheme: dark)');\n        this.darkMatchMedia.addListener(this.handleDarkMatchMediaChange);\n      }\n\n      if (this.darkMatchMedia.media.match(/^not/)) return PickerDefaultProps.theme;\n      return this.darkMatchMedia.matches ? 'dark' : 'light';\n    }\n  }, {\n    key: \"handleDarkMatchMediaChange\",\n    value: function handleDarkMatchMediaChange() {\n      this.setState({\n        theme: this.darkMatchMedia.matches ? 'dark' : 'light'\n      });\n    }\n  }, {\n    key: \"handleEmojiOver\",\n    value: function handleEmojiOver(emoji) {\n      var preview = this.preview;\n\n      if (!preview) {\n        return;\n      } // Use Array.prototype.find() when it is more widely supported.\n\n\n      var emojiData = this.CUSTOM.filter(function (customEmoji) {\n        return customEmoji.id === emoji.id;\n      })[0];\n\n      for (var key in emojiData) {\n        if (emojiData.hasOwnProperty(key)) {\n          emoji[key] = emojiData[key];\n        }\n      }\n\n      preview.setState({\n        emoji: emoji\n      });\n      clearTimeout(this.leaveTimeout);\n    }\n  }, {\n    key: \"handleEmojiLeave\",\n    value: function handleEmojiLeave(emoji) {\n      var preview = this.preview;\n\n      if (!preview) {\n        return;\n      }\n\n      this.leaveTimeout = setTimeout(function () {\n        preview.setState({\n          emoji: null\n        });\n      }, 16);\n    }\n  }, {\n    key: \"handleEmojiClick\",\n    value: function handleEmojiClick(emoji, e) {\n      this.props.onClick(emoji, e);\n      this.handleEmojiSelect(emoji);\n    }\n  }, {\n    key: \"handleEmojiSelect\",\n    value: function handleEmojiSelect(emoji) {\n      var _this3 = this;\n\n      this.props.onSelect(emoji);\n      if (!this.hideRecent && !this.props.recent) frequently.add(emoji);\n      var component = this.categoryRefs['category-1'];\n\n      if (component) {\n        var maxMargin = component.maxMargin;\n\n        if (this.props.enableFrequentEmojiSort) {\n          component.forceUpdate();\n        }\n\n        requestAnimationFrame(function () {\n          if (!_this3.scroll) return;\n          component.memoizeSize();\n          if (maxMargin == component.maxMargin) return;\n\n          _this3.updateCategoriesSize();\n\n          _this3.handleScrollPaint();\n\n          if (_this3.SEARCH_CATEGORY.emojis) {\n            component.updateDisplay('none');\n          }\n        });\n      }\n    }\n  }, {\n    key: \"handleScroll\",\n    value: function handleScroll() {\n      if (!this.waitingForPaint) {\n        this.waitingForPaint = true;\n        requestAnimationFrame(this.handleScrollPaint);\n      }\n    }\n  }, {\n    key: \"handleScrollPaint\",\n    value: function handleScrollPaint() {\n      this.waitingForPaint = false;\n\n      if (!this.scroll) {\n        return;\n      }\n\n      var activeCategory = null;\n\n      if (this.SEARCH_CATEGORY.emojis) {\n        activeCategory = this.SEARCH_CATEGORY;\n      } else {\n        var target = this.scroll,\n            scrollTop = target.scrollTop,\n            scrollingDown = scrollTop > (this.scrollTop || 0),\n            minTop = 0;\n\n        for (var i = 0, l = this.categories.length; i < l; i++) {\n          var ii = scrollingDown ? this.categories.length - 1 - i : i,\n              category = this.categories[ii],\n              component = this.categoryRefs[\"category-\".concat(ii)];\n\n          if (component) {\n            var active = component.handleScroll(scrollTop);\n\n            if (!minTop || component.top < minTop) {\n              if (component.top > 0) {\n                minTop = component.top;\n              }\n            }\n\n            if (active && !activeCategory) {\n              activeCategory = category;\n            }\n          }\n        }\n\n        if (scrollTop < minTop) {\n          activeCategory = this.categories.filter(function (category) {\n            return !(category.anchor === false);\n          })[0];\n        } else if (scrollTop + this.clientHeight >= this.scrollHeight) {\n          activeCategory = this.categories[this.categories.length - 1];\n        }\n      }\n\n      if (activeCategory) {\n        var anchors = this.anchors,\n            _activeCategory = activeCategory,\n            categoryName = _activeCategory.name;\n\n        if (anchors.state.selected != categoryName) {\n          anchors.setState({\n            selected: categoryName\n          });\n        }\n      }\n\n      this.scrollTop = scrollTop;\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(emojis) {\n      this.SEARCH_CATEGORY.emojis = emojis;\n\n      for (var i = 0, l = this.categories.length; i < l; i++) {\n        var component = this.categoryRefs[\"category-\".concat(i)];\n\n        if (component && component.props.name != 'Search') {\n          var display = emojis ? 'none' : 'inherit';\n          component.updateDisplay(display);\n        }\n      }\n\n      this.forceUpdate();\n\n      if (this.scroll) {\n        this.scroll.scrollTop = 0;\n      }\n\n      this.handleScroll();\n    }\n  }, {\n    key: \"handleAnchorClick\",\n    value: function handleAnchorClick(category, i) {\n      var component = this.categoryRefs[\"category-\".concat(i)],\n          scroll = this.scroll,\n          anchors = this.anchors,\n          scrollToComponent = null;\n\n      scrollToComponent = function scrollToComponent() {\n        if (component) {\n          var top = component.top;\n\n          if (category.first) {\n            top = 0;\n          } else {\n            top += 1;\n          }\n\n          scroll.scrollTop = top;\n        }\n      };\n\n      if (this.SEARCH_CATEGORY.emojis) {\n        this.handleSearch(null);\n        this.search.clear();\n        requestAnimationFrame(scrollToComponent);\n      } else {\n        scrollToComponent();\n      }\n    }\n  }, {\n    key: \"handleSkinChange\",\n    value: function handleSkinChange(skin) {\n      var newState = {\n        skin: skin\n      },\n          onSkinChange = this.props.onSkinChange;\n      this.setState(newState);\n      store.update(newState);\n      onSkinChange(skin);\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      var handled = false;\n\n      switch (e.keyCode) {\n        case 13:\n          var emoji;\n\n          if (this.SEARCH_CATEGORY.emojis && this.SEARCH_CATEGORY.emojis.length && (emoji = getSanitizedData(this.SEARCH_CATEGORY.emojis[0], this.state.skin, this.props.set, this.props.data))) {\n            this.handleEmojiSelect(emoji);\n            handled = true;\n          }\n\n          break;\n      }\n\n      if (handled) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"updateCategoriesSize\",\n    value: function updateCategoriesSize() {\n      for (var i = 0, l = this.categories.length; i < l; i++) {\n        var component = this.categoryRefs[\"category-\".concat(i)];\n        if (component) component.memoizeSize();\n      }\n\n      if (this.scroll) {\n        var target = this.scroll;\n        this.scrollHeight = target.scrollHeight;\n        this.clientHeight = target.clientHeight;\n      }\n    }\n  }, {\n    key: \"getCategories\",\n    value: function getCategories() {\n      return this.state.firstRender ? this.categories.slice(0, 3) : this.categories;\n    }\n  }, {\n    key: \"setAnchorsRef\",\n    value: function setAnchorsRef(c) {\n      this.anchors = c;\n    }\n  }, {\n    key: \"setSearchRef\",\n    value: function setSearchRef(c) {\n      this.search = c;\n    }\n  }, {\n    key: \"setPreviewRef\",\n    value: function setPreviewRef(c) {\n      this.preview = c;\n    }\n  }, {\n    key: \"setScrollRef\",\n    value: function setScrollRef(c) {\n      this.scroll = c;\n    }\n  }, {\n    key: \"setCategoryRef\",\n    value: function setCategoryRef(name, c) {\n      if (!this.categoryRefs) {\n        this.categoryRefs = {};\n      }\n\n      this.categoryRefs[name] = c;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props = this.props,\n          perLine = _this$props.perLine,\n          emojiSize = _this$props.emojiSize,\n          set = _this$props.set,\n          sheetSize = _this$props.sheetSize,\n          sheetColumns = _this$props.sheetColumns,\n          sheetRows = _this$props.sheetRows,\n          style = _this$props.style,\n          title = _this$props.title,\n          emoji = _this$props.emoji,\n          color = _this$props.color,\n          _native = _this$props[\"native\"],\n          backgroundImageFn = _this$props.backgroundImageFn,\n          emojisToShowFilter = _this$props.emojisToShowFilter,\n          showPreview = _this$props.showPreview,\n          showSkinTones = _this$props.showSkinTones,\n          emojiTooltip = _this$props.emojiTooltip,\n          useButton = _this$props.useButton,\n          include = _this$props.include,\n          exclude = _this$props.exclude,\n          recent = _this$props.recent,\n          autoFocus = _this$props.autoFocus,\n          skinEmoji = _this$props.skinEmoji,\n          notFound = _this$props.notFound,\n          notFoundEmoji = _this$props.notFoundEmoji;\n      var width = perLine * (emojiSize + 12) + 12 + 2 + measureScrollbar();\n      var theme = this.getPreferredTheme();\n      var skin = this.props.skin || this.state.skin || store.get('skin') || this.props.defaultSkin;\n      return React.createElement(\"section\", {\n        style: _objectSpread({\n          width: width\n        }, style),\n        className: \"emoji-mart emoji-mart-\".concat(theme),\n        \"aria-label\": title,\n        onKeyDown: this.handleKeyDown\n      }, React.createElement(\"div\", {\n        className: \"emoji-mart-bar\"\n      }, React.createElement(Anchors, {\n        ref: this.setAnchorsRef,\n        data: this.data,\n        i18n: this.i18n,\n        color: color,\n        categories: this.categories,\n        onAnchorClick: this.handleAnchorClick,\n        icons: this.icons\n      })), React.createElement(Search, {\n        ref: this.setSearchRef,\n        onSearch: this.handleSearch,\n        data: this.data,\n        i18n: this.i18n,\n        emojisToShowFilter: emojisToShowFilter,\n        include: include,\n        exclude: exclude,\n        custom: this.CUSTOM,\n        autoFocus: autoFocus\n      }), React.createElement(\"div\", {\n        ref: this.setScrollRef,\n        className: \"emoji-mart-scroll\",\n        onScroll: this.handleScroll\n      }, this.getCategories().map(function (category, i) {\n        return React.createElement(Category, {\n          ref: _this4.setCategoryRef.bind(_this4, \"category-\".concat(i)),\n          key: category.name,\n          id: category.id,\n          name: category.name,\n          emojis: category.emojis,\n          perLine: perLine,\n          \"native\": _native,\n          hasStickyPosition: _this4.hasStickyPosition,\n          data: _this4.data,\n          i18n: _this4.i18n,\n          recent: category.id == _this4.RECENT_CATEGORY.id ? recent : undefined,\n          custom: category.id == _this4.RECENT_CATEGORY.id ? _this4.CUSTOM : undefined,\n          emojiProps: {\n            \"native\": _native,\n            skin: skin,\n            size: emojiSize,\n            set: set,\n            sheetSize: sheetSize,\n            sheetColumns: sheetColumns,\n            sheetRows: sheetRows,\n            forceSize: _native,\n            tooltip: emojiTooltip,\n            backgroundImageFn: backgroundImageFn,\n            useButton: useButton,\n            onOver: _this4.handleEmojiOver,\n            onLeave: _this4.handleEmojiLeave,\n            onClick: _this4.handleEmojiClick\n          },\n          notFound: notFound,\n          notFoundEmoji: notFoundEmoji\n        });\n      })), (showPreview || showSkinTones) && React.createElement(\"div\", {\n        className: \"emoji-mart-bar\"\n      }, React.createElement(Preview, {\n        ref: this.setPreviewRef,\n        data: this.data,\n        title: title,\n        emoji: emoji,\n        showSkinTones: showSkinTones,\n        showPreview: showPreview,\n        emojiProps: {\n          \"native\": _native,\n          size: 38,\n          skin: skin,\n          set: set,\n          sheetSize: sheetSize,\n          sheetColumns: sheetColumns,\n          sheetRows: sheetRows,\n          backgroundImageFn: backgroundImageFn\n        },\n        skinsProps: {\n          skin: skin,\n          onChange: this.handleSkinChange,\n          skinEmoji: skinEmoji\n        },\n        i18n: this.i18n\n      })));\n    }\n  }]);\n\n  return NimblePicker;\n}(React.PureComponent);\n\nexport { NimblePicker as default };\nNimblePicker.propTypes\n/* remove-proptypes */\n= _objectSpread({}, PickerPropTypes, {\n  data: PropTypes.object.isRequired\n});\nNimblePicker.defaultProps = _objectSpread({}, PickerDefaultProps);","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport data from '../../../data/all.json';\nimport NimblePicker from './nimble-picker';\nimport { PickerPropTypes } from '../../utils/shared-props';\nimport { PickerDefaultProps } from '../../utils/shared-default-props';\n\nvar Picker =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Picker, _React$PureComponent);\n\n  function Picker() {\n    _classCallCheck(this, Picker);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Picker).apply(this, arguments));\n  }\n\n  _createClass(Picker, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(NimblePicker, _extends({}, this.props, this.state));\n    }\n  }]);\n\n  return Picker;\n}(React.PureComponent);\n\nexport { Picker as default };\nPicker.propTypes\n/* remove-proptypes */\n= PickerPropTypes;\nPicker.defaultProps = _objectSpread({}, PickerDefaultProps, {\n  data: data\n});","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport data from '../../../data/all.json';\nimport NimbleEmoji from './nimble-emoji';\nimport { EmojiPropTypes } from '../../utils/shared-props';\nimport { EmojiDefaultProps } from '../../utils/shared-default-props';\n\nvar Emoji = function Emoji(props) {\n  for (var k in Emoji.defaultProps) {\n    if (props[k] == undefined && Emoji.defaultProps[k] != undefined) {\n      props[k] = Emoji.defaultProps[k];\n    }\n  }\n\n  return NimbleEmoji(_objectSpread({}, props));\n};\n\nEmoji.propTypes\n/* remove-proptypes */\n= EmojiPropTypes;\nEmoji.defaultProps = _objectSpread({}, EmojiDefaultProps, {\n  data: data\n});\nexport default Emoji;","import { blockTypeDisplayOrder, inlineFormatDisplayOrder, linkFormatDisplayOrder } from \"../RichTextEditor/constants\";\n\nexport const DEFAULT_TITLE = \"Pick an emoji...\";\nexport const DEFAULT_EMOJI = 'point_up';\nexport const DEFAULT_SHOULD_DISPLAY_EMOJI_TOOLTIP = true;\nexport const DEFAULT_INCLUDE = ['people'];\nexport const DEFAULT_SHOULD_USE_NATIVE_EMOJIS = true;\nexport const DEFAULT_THEME = \"light\";\nexport const DEFAULT_SHOULD_SHOW_SKIN_TONES = false;\nexport const EMOJI_PICKER_CLASS = \"emoji-mart\";\nexport const RICH_TOOLBAR_EMOJI_BUTTON_ID = `richToolbarButton_${inlineFormatDisplayOrder.length+blockTypeDisplayOrder.length+linkFormatDisplayOrder.length}`;","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: MIT-0\n\nimport React, { useRef, useEffect } from 'react'\nimport 'emoji-mart/css/emoji-mart.css'\nimport { Picker } from 'emoji-mart'\nimport { EmojiPickerWrapper } from \"../RichTextEditor/styled.js\";\nimport {\n    DEFAULT_EMOJI,\n    DEFAULT_INCLUDE,\n    DEFAULT_SHOULD_DISPLAY_EMOJI_TOOLTIP,\n    DEFAULT_SHOULD_SHOW_SKIN_TONES,\n    DEFAULT_SHOULD_USE_NATIVE_EMOJIS,\n    DEFAULT_THEME,\n    DEFAULT_TITLE,\n    RICH_TOOLBAR_EMOJI_BUTTON_ID,\n} from \"./emojiConstants.js\";\nimport { KEY_CODE } from \"../RichTextEditor/constants.js\";\n\n/**\n * Emoji Picker component for the RichTextEditor\n *\n * @param {Object} props\n */\nfunction EmojiPicker(props) {\n    const ref = useRef(null);\n\n    useEffect(() => {\n        console.log('EmojiPicker useEffect')\n        const handleEscKey = (event) => {\n            if(event.keyCode === KEY_CODE.ESCAPE){\n                props.closeEmojiPicker();\n            }\n        }\n        const handleClickOutside = (event) => {\n            if (ref.current && !ref.current.contains(event.target) && !event.target.closest('#' + RICH_TOOLBAR_EMOJI_BUTTON_ID)) {\n                props.closeEmojiPicker();\n            }\n        }\n        document.addEventListener('keydown', handleEscKey)\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return () => {\n            document.removeEventListener('keydown', handleEscKey);\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        }\n    },[props])\n\n    return (<EmojiPickerWrapper ref={ref}>\n            <Picker\n                onSelect={props.onSelect || ((emojiObject) => props.onEmojiSelect(emojiObject.native))}\n                emoji={props.emoji || DEFAULT_EMOJI}\n                emojiTooltip={props.emojiTooltip || DEFAULT_SHOULD_DISPLAY_EMOJI_TOOLTIP}\n                include={props.include || DEFAULT_INCLUDE}\n                native={props.native || DEFAULT_SHOULD_USE_NATIVE_EMOJIS}\n                showSkinTones={props.showSkinTones || DEFAULT_SHOULD_SHOW_SKIN_TONES}\n                title={props.title || DEFAULT_TITLE}\n                theme={props.theme || DEFAULT_THEME}\n            />\n        </EmojiPickerWrapper>\n    )\n}\nexport default EmojiPicker;","import {EMOJI_PICKER_CLASS, RICH_TOOLBAR_EMOJI_BUTTON_ID} from \"./emojiConstants.js\";\n\nlet EMOJI_PICKER_TOP_POSITION = \"17.1875rem\";\n\nfunction convertPixelsToRem(pixels) {\n    let fontSize = parseInt(getComputedStyle(document.documentElement).fontSize);\n\n    if(fontSize === 0){\n        return 0;\n    }\n\n    return pixels/fontSize;\n}\n\nexport function getEmojiPickerTopPosition() {\n    let emojiButton = document.querySelector('#' + RICH_TOOLBAR_EMOJI_BUTTON_ID);\n    let emojiPicker = document.querySelector('.' + EMOJI_PICKER_CLASS);\n\n    if(emojiPicker && emojiButton) {\n        let emojiPickerHeight = emojiPicker.getBoundingClientRect().height;\n        let topPositionInPixels = emojiButton.offsetTop - emojiPickerHeight;\n        let topPositionInRem = convertPixelsToRem(topPositionInPixels);\n        EMOJI_PICKER_TOP_POSITION = topPositionInRem + \"rem\";\n        emojiPicker.style.top = EMOJI_PICKER_TOP_POSITION;\n    }\n\n    return EMOJI_PICKER_TOP_POSITION;\n}\n\nexport function isMobile(){\n    return /Android|webOS|Mobi|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n}","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: MIT-0\n\nimport React from 'react';\nimport PT from 'prop-types';\nimport { EditorState, RichUtils, convertToRaw, CompositeDecorator, Modifier } from 'draft-js';\nimport 'draft-js/dist/Draft.css';\nimport { draftToMarkdown } from 'markdown-draft-js';\nimport { ErrorBoundary } from 'react-error-boundary';\n\nimport {\n  AttachmentContainer,\n  AttachmentOuterContainer,\n  AttachmentInnerContainer,\n  AttachmentsIcon,\n  CloseIcon,\n  EditorContainer,\n  StyledEditor as Editor,\n  IconButton,\n  RichToolbarAttachmentsContainer,\n  RichToolbarContainer,\n  RichToolbarFormattingContainer,\n  SendMessageButtonContainer,\n  URLInput,\n  URLInputLabel,\n  URLInputContainer,\n  URLLink,\n  URLConfirmIcon,\n  URLRemoveIcon\n} from './styled';\n\nimport {\n  blockTypeDisplayOrder,\n  inlineFormatDisplayOrder,\n  KEY_CODE,\n  linkFormatDisplayOrder,\n  emojisFormatDisplayOrder,\n} from './constants';\n\nimport { clearEditorContent, focusLastOrNextElement, removeSelectedBlocksStyle } from './editorUtils';\nimport { RICH_FORMAT_ICONS, RICH_FORMAT_ICONS_SELECTED, ATTACHMENTS_ICON, REMOVE_LINK_ICON, CONFIRM_LINK_ICON } from './assets';\n\nimport SendMessageButton from './SendMessageButton/SendMessageButton';\nimport RichToolbarButton from './RichToolbarButton/RichToolbarButton';\nimport EmojiPicker from \"../Emojis/EmojiPicker\";\nimport { isMobile, getEmojiPickerTopPosition } from \"../Emojis/emojiUtils.js\";\n\nconst Link = (props) => {\n  const {url} = props.contentState.getEntity(props.entityKey).getData();\n  return (\n      <URLLink href={url}>\n        {props.children}\n      </URLLink>\n  );\n};\n\nfunction findLinkEntities(contentBlock, callback, contentState) {\n  contentBlock.findEntityRanges(\n      (character) => {\n        const entityKey = character.getEntity();\n        return (\n            entityKey !== null &&\n            contentState.getEntity(entityKey).getType() === 'LINK'\n        );\n      },\n      callback\n  );\n}\n\n/**\n * The error fall back UI that's not finalized\n * TODO: Revisit and update UI post launch https://app.asana.com/0/1201057534450490/1201587489851346/f\n */\nfunction ErrorFallback({error, resetErrorBoundary}) {\n  return (\n      <div role=\"alert\">\n        <p>Something went wrong</p>\n        <button onClick={resetErrorBoundary}>Reload Editor</button>\n      </div>\n  )\n}\n\n/**\n * RichText toolbar and editor, intended to be used for input in a real-time chat application.\n * Supports markdown message and attachment sending, typing events, and additional configuration options.\n */\nclass RichTextEditor extends React.Component {\n  // TODO: implement capturing typing events on content change\n  // TODO: pull the toolbar out to a separate internal component to reduce bloat here\n  // TODO: fix bug where multiple toggles in a row don't properly apply all styles\n  // TODO: fix styling of the selected buttons\n  constructor(props) {\n    super(props);\n\n    const decorator = new CompositeDecorator([\n      {\n        strategy: findLinkEntities,\n        component: Link,\n      },\n    ]);\n\n    this.state = {\n      editorState: EditorState.createEmpty(decorator),\n      attachment: null,\n      showURLInput: false,\n      urlValue: '',\n      showEmojiPicker: false,\n    };\n\n    this.onChange = (editorState) => {\n      if (this.state.editorState.getCurrentContent() !== editorState.getCurrentContent()) {\n        this.props.onTyping();\n      }\n      this.setState((prevState) => {\n        return {...prevState, editorState}\n      });\n    };\n\n    this.setDomEditorRef = (ref) => (this.domEditor = ref);\n    this.focus = () => this.domEditor.focus();\n\n    this.resetState = this._resetState.bind(this);\n    this._handleReturn = this._handleReturn.bind(this);\n    this.handleBeforeInput = this._handleBeforeInput.bind(this);\n    this.onURLChange = (e) => this.setState({urlValue: e.target.value});\n    this.promptForLink = this._promptForLink.bind(this);\n    this.confirmLink = this._confirmLink.bind(this);\n    this.removeLink = this._removeLink.bind(this);\n    this.addTextToMessage = this._addTextToMessage.bind(this);\n    this.onURLKeyInput = (e) => {\n      if (!e.shiftKey && e.key === 'Enter') {\n        e.preventDefault();\n        this.confirmLink(e);\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.domEditor && this.domEditor.focus();\n  }\n\n  _onFormatToggled(formatType, toggleFn) {\n    this.setState((prevState) => ({\n      ...prevState,\n      editorState: toggleFn(prevState.editorState, formatType),\n    }));\n  }\n\n  /**\n   * Handle the period added with double spaces\n   * This is a workaround for known DraftJs bug - https://github.com/facebook/draft-js/issues/2422\n   */\n  _handleBeforeInput (chars, editorState, eventTimestamp) {\n    if (chars === '. ') {\n      const currentSelection = editorState.getSelection();\n      this.setState({\n        editorState: EditorState.set(\n          editorState,\n          {\n            currentContent: Modifier.replaceText(\n              editorState.getCurrentContent(),\n              currentSelection,\n              ' '\n            )\n          }\n        )\n      });\n      return 'handled';\n    }\n    return 'not-handled';\n  }\n\n  /**\n   * Handle the \"Return\" key pressed. Sends message and attachment, and clears the editor state.\n   */\n  _handleReturn(event, isSendButtonClicked) {\n    const currentContent = this.state.editorState.getCurrentContent();\n    // Insert soft newline or split block without sending message if shift + return pressed\n    if (event.shiftKey) {\n      const selection = this.state.editorState.getSelection();\n      const currentBlockStyle = currentContent\n        .getBlockForKey(selection.getStartKey())\n        .getType();\n      if (currentBlockStyle === 'unstyled') {\n        this.setState({ editorState: RichUtils.insertSoftNewline(this.state.editorState) });\n      } else {\n        const textWithEntity = Modifier.splitBlock(currentContent, selection);\n        this.setState({\n          editorState: EditorState.push(this.state.editorState, textWithEntity, \"split-block\")\n        });\n      }\n      return \"handled\";\n    }\n\n    const rawContentState = convertToRaw(currentContent);\n\n    const markdownString = draftToMarkdown(rawContentState);\n\n    if (this.state.attachment) {\n      this.props.sendAttachment(this.state.attachment);\n    }\n\n    this.props.sendMessage(markdownString);\n    this.resetState();\n    return \"handled\";\n  }\n\n   _resetState() {\n    let resetEditorState = clearEditorContent(this.state.editorState);\n    resetEditorState = removeSelectedBlocksStyle(resetEditorState);\n    this.setState({\n      editorState: clearEditorContent(resetEditorState),\n      attachment: null,\n      showURLInput: false,\n      urlValue: '',\n      showEmojiPicker: false,\n    });\n  }\n\n  _promptForLink() {\n    if (this.state.showURLInput) {\n      this.setState({\n        showURLInput: false\n      });\n      return;\n    }\n    const {editorState} = this.state;\n    const selection = editorState.getSelection();\n    if (!selection.isCollapsed()) {\n      const contentState = editorState.getCurrentContent();\n      const startKey = editorState.getSelection().getStartKey();\n      const startOffset = editorState.getSelection().getStartOffset();\n      const blockWithLinkAtBeginning = contentState.getBlockForKey(startKey);\n      const linkKey = blockWithLinkAtBeginning.getEntityAt(startOffset);\n\n      let url = '';\n      if (linkKey) {\n        const linkInstance = contentState.getEntity(linkKey);\n        url = linkInstance.getData().url;\n      }\n\n      this.setState({\n        showURLInput: true,\n        urlValue: url,\n      }, () => {\n        setTimeout(() => this.refs.url.focus(), 0);\n      });\n    }\n  }\n\n  _confirmLink(e) {\n    e.preventDefault();\n    const {editorState} = this.state;\n    let {urlValue} = this.state;\n    const contentState = editorState.getCurrentContent();\n    // Default protocol for hyperlinks\n    if (!/^https?:\\/\\//i.test(urlValue)) {\n      urlValue = 'http://' + urlValue;\n    }\n    const contentStateWithEntity = contentState.createEntity(\n        'LINK',\n        'MUTABLE',\n        {url: urlValue}\n    );\n    const entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n    const newEditorState = EditorState.set(editorState, { currentContent: contentStateWithEntity });\n    this.setState({\n      editorState: RichUtils.toggleLink(\n          newEditorState,\n          newEditorState.getSelection(),\n          entityKey\n      ),\n      showURLInput: false,\n      urlValue: '',\n    }, () => {\n      setTimeout(() => this.domEditor.focus(), 0);\n    });\n  }\n\n  _removeLink(e) {\n    e.preventDefault();\n    const {editorState} = this.state;\n    const selection = editorState.getSelection();\n    if (!selection.isCollapsed()) {\n      this.setState({\n        editorState: RichUtils.toggleLink(editorState, selection, null),\n        showURLInput: false,\n      }, () => {\n        setTimeout(() => this.domEditor.focus(), 0);\n      });\n    }\n  }\n\n  _addTextToMessage(text) {\n    const {editorState} = this.state;\n    const selection = editorState.getSelection();\n    const contentState = editorState.getCurrentContent();\n    let nextEditorState = EditorState.createEmpty();\n    if (selection.isCollapsed()) {\n      const nextContentState = Modifier.insertText(contentState, selection, text);\n      nextEditorState = EditorState.push(\n          editorState,\n          nextContentState,\n          'insert-characters'\n      );\n    } else {\n      const nextContentState = Modifier.replaceText(contentState, selection, text);\n      nextEditorState = EditorState.push(\n          editorState,\n          nextContentState,\n          'insert-characters'\n      );\n    }\n    this.onChange(nextEditorState);\n  }\n\n  _countRichFormatTypes(rawContentState) {\n    // BOLD, ITALIC, NUMBER_LIST, BULLET_LIST are from blocks;\n    // HYPER_LINK is from entityMap;\n    const { blocks, entityMap } = rawContentState;\n    const set = new Set();\n    blocks.forEach((block) => {\n      const { type, inlineStyleRanges } = block;\n      if(type !== 'unstyled') {\n        set.add(type);\n      }\n      inlineStyleRanges.forEach((range) => {\n        set.add(range.style);\n      })\n    })\n    if(Object.keys(entityMap).length > 0) {\n      for(let entity in entityMap) {\n        set.add(entityMap[entity].type);\n      }\n    }\n  }\n\n  render() {\n    const { attachment, editorState } = this.state;\n    const { allowedFileContentTypes, placeholder } = this.props;\n    const editorStateSelection = editorState.getSelection();\n    const currentBlockStyle = editorState\n      .getCurrentContent()\n      .getBlockForKey(editorStateSelection.getStartKey())\n      .getType();\n    const currentInlineStyle = editorState.getCurrentInlineStyle();\n\n    let urlInput;\n    if (this.state.showURLInput) {\n      urlInput =\n          <URLInputContainer>\n            <URLInputLabel>\n              Link\n            </URLInputLabel>\n            <URLInput\n                onChange={this.onURLChange}\n                ref=\"url\"\n                type=\"text\"\n                value={this.state.urlValue}\n                onKeyPress={this.onURLKeyInput}\n                onKeyDown={this.onURLKeyInput}\n            />\n            <URLConfirmIcon onClick={this.confirmLink} tabIndex={0} onKeyDown={(e) => {\n              if (e.keyCode === KEY_CODE.SPACE || e.keyCode === KEY_CODE.ENTER) {\n                e.preventDefault();\n                e.target.click()\n              }\n            }}>\n              {CONFIRM_LINK_ICON}\n            </URLConfirmIcon>\n            <URLRemoveIcon onClick={this.removeLink} tabIndex={0} onKeyDown={(e) => {\n              if (e.keyCode === KEY_CODE.SPACE || e.keyCode === KEY_CODE.ENTER) {\n                e.preventDefault();\n                e.target.click()\n              }\n            }}>\n              {REMOVE_LINK_ICON}\n            </URLRemoveIcon>\n          </URLInputContainer>;\n    }\n\n    return (\n      <div>\n        <ErrorBoundary\n            FallbackComponent={ErrorFallback}\n            onReset={this.resetState}\n        >\n        <div id=\"emoji-picker\" data-testid={'emoji-picker'} style={{ visibility: this.state.showEmojiPicker ? 'visible': 'hidden'}}>\n          <EmojiPicker closeEmojiPicker={() => this.setState({showEmojiPicker:false})} style={{top:getEmojiPickerTopPosition()}}\n                       onEmojiSelect={this.addTextToMessage}\n          />\n        </div>\n        <RichToolbarContainer onClick={this.focus} data-testid='rich-tool-bar-container'>\n          <RichToolbarFormattingContainer>\n            {inlineFormatDisplayOrder.map((richFormat, idx) => (\n              <RichToolbarButton\n                id={`richToolbarButton_${idx}`}\n                key={idx}\n                index={idx}\n                isActiveButton={currentInlineStyle.has(richFormat)}\n                onFormatToggled={this._onFormatToggled.bind(\n                  this,\n                  richFormat,\n                  RichUtils.toggleInlineStyle\n                )}\n                buttonSvg={currentInlineStyle.has(richFormat)? RICH_FORMAT_ICONS_SELECTED[richFormat]: RICH_FORMAT_ICONS[richFormat]}\n              />\n            ))}\n            {blockTypeDisplayOrder.map((blockType, idx) => (\n              <RichToolbarButton\n                id={`richToolbarButton_${inlineFormatDisplayOrder.length+idx}`}\n                key={idx}\n                index={inlineFormatDisplayOrder.length+idx}\n                isActiveButton={blockType === currentBlockStyle}\n                onFormatToggled={this._onFormatToggled.bind(\n                  this,\n                  blockType,\n                  RichUtils.toggleBlockType\n                )}\n                buttonSvg={blockType === currentBlockStyle? RICH_FORMAT_ICONS_SELECTED[blockType]: RICH_FORMAT_ICONS[blockType]}\n              />\n            ))}\n            {linkFormatDisplayOrder.map((linkFormat, idx) => (\n                <RichToolbarButton\n                    id={`richToolbarButton_${inlineFormatDisplayOrder.length+blockTypeDisplayOrder.length+idx}`}\n                    key={idx}\n                    index={inlineFormatDisplayOrder.length+blockTypeDisplayOrder.length+idx}\n                    isActiveButton={this.state.showURLInput}\n                    onButtonClicked={this.promptForLink}\n                    buttonSvg={this.state.showURLInput? RICH_FORMAT_ICONS_SELECTED[linkFormat]: RICH_FORMAT_ICONS[linkFormat]}\n                />\n            ))}\n            {!isMobile() && emojisFormatDisplayOrder.map((richFormat, idx) => (\n                <RichToolbarButton\n                    id={`richToolbarButton_${inlineFormatDisplayOrder.length+blockTypeDisplayOrder.length+linkFormatDisplayOrder.length+idx}`}\n                    key={idx}\n                    index={inlineFormatDisplayOrder.length+blockTypeDisplayOrder.length+linkFormatDisplayOrder.length+idx}\n                    isActiveButton={this.state.showEmojiPicker === true}\n                    onButtonClicked={() => {\n                      this.setState({showEmojiPicker: !this.state.showEmojiPicker});\n                      getEmojiPickerTopPosition();\n                    }}\n                    buttonSvg={this.state.showEmojiPicker ? RICH_FORMAT_ICONS_SELECTED[richFormat]: RICH_FORMAT_ICONS[richFormat]}\n                />\n            ))}\n          </RichToolbarFormattingContainer>\n          <RichToolbarAttachmentsContainer>\n            {this.props.attachmentsEnabled && (\n              <AttachmentsIcon\n                  id={`richToolbarButton_${inlineFormatDisplayOrder.length+blockTypeDisplayOrder.length+linkFormatDisplayOrder.length+emojisFormatDisplayOrder.length}`}\n                  tabIndex={-1}\n                  onKeyDown={(e) => {\n                    if (e.keyCode === KEY_CODE.SPACE || e.keyCode === KEY_CODE.ENTER) {\n                      e.preventDefault();\n                      document.getElementById('chat-file-select-attachments').click();\n                    } else if (e.keyCode === KEY_CODE.LEFT) {\n                      e.preventDefault();\n                      const currentIndex = inlineFormatDisplayOrder.length+blockTypeDisplayOrder.length+linkFormatDisplayOrder.length+emojisFormatDisplayOrder.length;\n                      focusLastOrNextElement(currentIndex, -1);\n                    }\n                  }}>\n                <label htmlFor={`chat-file-select-attachments`}>\n                  {ATTACHMENTS_ICON}\n                  <input\n                    type=\"file\"\n                    id={`chat-file-select-attachments`}\n                    data-testid={`chat-file-select-attachments`}\n                    accept={allowedFileContentTypes.join(\",\")}\n                    onChange={(e) => {\n                      const file = e.target.files[0];\n                      this.setState((prevState) => ({\n                        ...prevState,\n                        attachment: file,\n                      }));\n                    }}\n                    tabIndex={-1}\n                  />\n                </label>\n              </AttachmentsIcon>\n            )}\n          </RichToolbarAttachmentsContainer>\n        </RichToolbarContainer>\n        {attachment != null && (\n          <AttachmentOuterContainer>\n            <AttachmentContainer>\n              <AttachmentInnerContainer>\n                <span>{attachment.name}</span>\n                <IconButton\n                  onClick={() => {\n                    this.setState((prevState) => ({\n                      ...prevState,\n                      attachment: null,\n                    }));\n                  }}\n                  aria-label={\"Remove attachment\"}\n                >\n                  <CloseIcon>\n                    <svg\n                      viewBox=\"0 0 13 13\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      fill=\"currentColor\"\n                    >\n                      <path\n                        d=\"M13 1.3L11.7 0 6.5 5.2 1.3 0 0 1.3l5.2 5.2L0 11.7 1.3 13l5.2-5.2 5.2 5.2 1.3-1.3-5.2-5.2z\"\n                        fillRule=\"evenodd\"\n                      />\n                    </svg>\n                  </CloseIcon>\n                </IconButton>\n              </AttachmentInnerContainer>\n            </AttachmentContainer>\n          </AttachmentOuterContainer>\n        )}\n        {urlInput}\n        <EditorContainer>\n          <Editor\n            placeholder={currentBlockStyle === 'unstyled' ? placeholder : undefined}\n            editorState={editorState}\n            onChange={this.onChange}\n            handleReturn={this._handleReturn}\n            ref={this.setDomEditorRef}\n            handleBeforeInput={this.handleBeforeInput}\n            // webDriverTestID is the data-testid for <Editor /> component\n            webDriverTestID=\"rich-text-editor\"\n          />\n          <SendMessageButtonContainer>\n            <SendMessageButton\n              isActive={\n                !!editorState.getCurrentContent().getPlainText() || attachment\n              }\n              sendMessage={(e) => { this._handleReturn(e, true) }}\n            />\n          </SendMessageButtonContainer>\n        </EditorContainer>\n        </ErrorBoundary>\n      </div>\n    );\n  }\n}\n\nRichTextEditor.propTypes = {\n  /**\n   * Whether or not to show attachments functionality.\n   */\n  attachmentsEnabled: PT.bool.isRequired,\n\n  /**\n   * Allowed file types for the attachment, e.g. ['.pdf', '.jpg']\n   */\n  allowedFileContentTypes: PT.array.isRequired,\n\n  /**\n   * Function to run on submit/enter, to send the message contents _as Markdown_\n   */\n  sendMessage: PT.func.isRequired,\n\n  /**\n   * Function to run on submit/enter, to send the attachment contents.\n   */\n  sendAttachment: PT.func.isRequired,\n\n  /**\n   * Function invoked when any of the text content in the editor is changed.\n   */\n  onContentChange: PT.func.isRequired,\n\n  /**\n   * Placeholder text for the rich text editor.\n   */\n  placeholder: PT.string.isRequired,\n};\n\nexport default RichTextEditor;\n\n","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: MIT-0\n\nimport React from \"react\";\nimport ReactMarkdown from 'react-markdown';\n\nconst updateURLValue = (urlValue) => {\n  let updatedUrlValue = urlValue;\n  if (!/^https?:\\/\\//i.test(urlValue)) {\n    updatedUrlValue = 'http://' + urlValue;\n  }\n  return updatedUrlValue;\n};\n\nconst RichMessageRenderer = (props) => (\n  <ReactMarkdown\n    children={props.content}\n    disallowedElements={[\"img\"]}\n    components={{\n      p: ({ node, ...props }) => <p style={{ margin: '0' }} {...props} />,\n      ol: ({ node, ...props }) => <ol style={{ margin: '0', padding: '0 30px', listStyleType: 'decimal' }} {...props} />,\n      ul: ({ node, ...props }) => <ul style={{ margin: '0', padding: '0 30px', listStyleType: 'disc' }} {...props} />,\n      a: ({ node, ...props }) => (\n        <a style={{ margin: '0', textDecoration: 'none' }}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            {...props}\n            href={updateURLValue(props.href)}\n          >\n            {props.children}\n          </a>\n      )\n    }}\n  />\n)\n\nexport default RichMessageRenderer;"],"names":["Object","defineProperty","exports","value","React","require","ReactMarkdown","draftJs","styled","PropTypes","_interopDefaultLegacy","e","default","_interopNamespace","__esModule","n","create","keys","forEach","k","d","getOwnPropertyDescriptor","get","enumerable","freeze","React__default","React__namespace","ReactMarkdown__default","styled__default","PropTypes__default","_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","length","indexOf","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_defineProperty","obj","configurable","writable","ownKeys","object","enumerableOnly","symbols","filter","sym","push","apply","_objectSpread2","arguments","getOwnPropertyDescriptors","defineProperties","_defineProperties","props","descriptor","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","_typeof","Symbol","iterator","constructor","_possibleConstructorReturn","assertThisInitialized","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","TRAILING_WHITESPACE","MARKDOWN_STYLE_CHARACTERS","MARKDOWN_STYLE_CHARACTER_REGXP","orderedListNumber","previousOrderedListDepth","StyleItems","open","close","block","number","undefined","concat","blockquote","data","language","BOLD","ITALIC","STRIKETHROUGH","CODE","EntityItems","LINK","entity","url","href","SingleNewlineAfterBlock","renderBlock","index","rawDraftObject","options","markdownToAdd","markdownString","customStyleItems","styleItems","customEntityItems","entityItems","escapeMarkdownCharacters","hasOwnProperty","markdownStyleCharactersToEscape","text","entityRanges","isEmptyBlock","preserveNewlines","repeat","depth","openTags","openTag","tag","styleToAdd","entityMap","entityToAdd","closeTag","pop","Error","trailingWhitespace","exec","slice","compareTagsLastCloseFirst","a","b","offset","reverse","array","Array","from","some","character","characterIndex","tagsToSplit","sort","inlineTagsToOpen","inlineStyleRanges","entityTagsToOpen","map","item","join","find","replace","includes","openingStyle","markdownStringIndexEnd","openingStyleLength","markdownStringIndexStart","escapeCharacter","popOpeningStyle","splice","replacementString","blocks","ESCAPED","replace$1","regex","name","val","RegExp","split","ch","charCodeAt","attr_value","attribute","open_tag","bind","initialState","error","ErrorBoundary","_React$Component","subClass","superClass","_this","_len","_args","_key","this","state","resetErrorBoundary","_this$props","_len2","args","_key2","onReset","reset","getDerivedStateFromError","_proto","setState","componentDidCatch","info","_this$props$onError","_this$props2","onError","componentDidUpdate","prevProps","prevState","_this$props$onResetKe","_this$props3","resetKeys","is","onResetKeysChange","render","_this$props4","fallbackRender","FallbackComponent","fallback","_props","isValidElement","children","Component","_taggedTemplateLiteral","strings","raw","RichToolbarContainer","div","_templateObject","StyledEditor","Editor","DraftCSS","EditorContainer","_templateObject3","SendMessageButtonContainer","_templateObject4","RichToolbarFormattingContainer","_templateObject5","RichToolbarAttachmentsContainer","_templateObject6","AttachmentsIcon","_templateObject7","IconButton","button","_templateObject8","CloseIcon","_templateObject9","AttachmentOuterContainer","_templateObject10","AttachmentInnerContainer","_templateObject11","AttachmentContainer","_templateObject12","URLInputContainer","_templateObject13","URLInput","input","_templateObject14","URLInputLabel","_templateObject15","URLLink","_templateObject16","URLConfirmIcon","_templateObject17","URLRemoveIcon","_templateObject18","EmojiPickerWrapper","_templateObject19","RICH_FORMATS","inlineFormatDisplayOrder","blockTypeDisplayOrder","linkFormatDisplayOrder","emojisFormatDisplayOrder","KEY_CODE","clearEditorContent","editorState","getCurrentContent","getBlockMap","toList","updatedSelection","getSelection","merge","anchorKey","first","anchorOffset","focusKey","last","focusOffset","getLength","newContentState","Modifier","removeRange","EditorState","focusLastOrNextElement","currentIndex","delta","getElementById","tabIndex","targetElement","focus","RICH_FORMAT_ICONS","_RICH_FORMAT_ICONS","xmlns","height","viewBox","width","fill","fillRule","clipRule","fillOpacity","version","preserveAspectRatio","transform","stroke","RICH_FORMAT_ICONS_SELECTED","_RICH_FORMAT_ICONS_SE","ATTACHMENTS_ICON","CONFIRM_LINK_ICON","opacity","REMOVE_LINK_ICON","SendButton","isActive","SendMessageButton","_ref","sendMessage","onClick","onKeyDown","keyCode","preventDefault","_arrayLikeToArray","arr","len","arr2","_slicedToArray","isArray","arrayWithHoles","_arr","_n","_d","_e","_s","_i","next","done","err","iterableToArrayLimit","minLen","arrayLikeToArray","test","unsupportedIterableToArray","TypeError","nonIterableRest","RichToolbarButtonContainer","active","RichToolbarButton","id","buttonSvg","onFormatToggled","onButtonClicked","isActiveButton","_useState2","useState","setIsActive","firstToggle","useRef","clickButton","useEffect","console","log","current","onMouseDown","classCallCheck","instance","Constructor","createClass","protoProps","staticProps","_typeof_1","mapping","unified","non_qualified","has_img_apple","has_img_google","has_img_twitter","has_img_facebook","keywords","sheet","emoticons","short_names","added_in","buildSearch","emoji","search","addToSearch","string","s","toLowerCase","uncompress","compressed","emojis","unshift","sheet_x","sheet_y","toFixed","stringFromCodePoint","String","fromCodePoint","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","result","codePoint","Number","isFinite","Math","floor","RangeError","fromCharCode","COLONS_REGEX","SKINS","unifiedToNative","codePoints","u","sanitize","skin_tone","skin_variations","custom","customCategory","imageUrl","colons","skin","native","getSanitizedData","getData","set","emojiData","matches","match","parseInt","aliases","variations","JSON","parse","stringify","skinKey","variationData","v","shift","uniq","reduce","acc","intersect","uniqA","uniqB","deepMerge","originalValue","getter","setter","NAMESPACE","isLocalStorageSupported","window","localStorage","store","update","setNamespace","namespace","setHandlers","handlers","NimbleEmojiIndex","_classCallCheck","originalPool","customEmojisList","buildIndex","_createClass","_loop","emoticon","skinTone","pool","_this2","emojiId","_this3","clearCustomEmojis","_this4","emojisToShowFilter","maxResults","include","exclude","_ref$custom","addCustomToPool","results","values","allResults","categories","category","isIncluded","isExcluded","customIsIncluded","customIsExcluded","aPool","aIndex","charIndex","_char","scores","sub","substr","subIndex","score","aScore","bScore","localeCompare","emojiIndex","frequently","initialized","DEFAULTS","defaults","init","frequently$1","add","perLine","quantity","frequentlyKeys","sliced","_extends","_extends_1","assign","require$$0","require$$1","possibleConstructorReturn","inherits","activity","x","y","rx","flags","foods","nature","objects","people","places","recent","delete","icons","EmojiPropTypes","isRequired","onOver","func","onLeave","backgroundImageFn","bool","forceSize","tooltip","useButton","oneOf","sheetSize","sheetColumns","sheetRows","size","oneOfType","PickerPropTypes","onSelect","onSkinChange","emojiSize","i18n","title","color","showPreview","showSkinTones","emojiTooltip","theme","arrayOf","autoFocus","enableFrequentEmojiSort","shape","spriteUrl","skinEmoji","notFound","notFoundEmoji","Anchors","_React$PureComponent","defaultCategory","selected","handleClick","_inherits","currentTarget","getAttribute","onAnchorClick","className","categorieslabel","anchor","isSelected","iconId","startsWith","backgroundColor","PureComponent","propTypes","defaultProps","EmojiDefaultProps","PickerDefaultProps","defaultSkin","_objectSpread","_getData","_getPosition","_getData2","multiplyX","multiplyY","_getSanitizedData","_isNumeric","isNaN","parseFloat","NimbleEmoji","nativeEmoji","label","Boolean","fontSize","display","wordBreak","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","Tag","html","_convertStyleToCSS","_handleClick","onMouseEnter","_handleOver","onMouseLeave","_handleLeave","NotFound","emojiProps","component","notfound","Category","setContainerRef","setLabelRef","margin","minMargin","memoizeSize","nextProps","nextState","_native","hasStickyPosition","nextPerLine","nextNative","nextHasStickyPosition","nextEmojis","nextEmojiProps","nextSkin","nextSize","nextSet","shouldUpdate","container","top","maxMargin","parent","parentElement","_this$container$getBo","getBoundingClientRect","parentTop","labelHeight","scrollTop","frequentlyUsed","getEmojis","c","labelStyles","labelSpanStyles","containerStyles","position","Skins","opened","onChange","SkinsEmoji","_Skins","skinToneNodes","skintext","SkinsDot","handleKeyDown","event","visible","skintones","role","Preview","skinsProps","idleEmoji","_emojiData$emoticons","knownEmoticons","listedEmoticons","short_name","Search","doIdleTask","running","icon","isSearching","setRef","clear","handleKeyUp","handleChange","requestIdleCallback","setTimeout","onSearch","_this$state","inputId","placeholder","htmlFor","onKeyUp","disabled","I18N","NimblePicker","CUSTOM","RECENT_CATEGORY","SEARCH_CATEGORY","firstRender","allCategories","customCategories","customCategoriesCreated","customEmoji","hideRecent","categoryIndex","newEmojis","newCategory","includeRecent","excludeRecent","setAnchorsRef","handleAnchorClick","setSearchRef","handleSearch","setScrollRef","handleScroll","handleScrollPaint","handleEmojiOver","handleEmojiLeave","handleEmojiClick","handleEmojiSelect","setPreviewRef","handleSkinChange","handleDarkMatchMediaChange","testStickyPosition","firstRenderTimeout","updateCategoriesSize","clearTimeout","leaveTimeout","darkMatchMedia","removeListener","stickyTestElement","prefix","matchMedia","addListener","media","preview","categoryRefs","forceUpdate","requestAnimationFrame","scroll","updateDisplay","waitingForPaint","activeCategory","scrollingDown","minTop","l","ii","clientHeight","scrollHeight","anchors","categoryName","scrollToComponent","newState","handled","overflow","body","scrollbarWidth","offsetWidth","clientWidth","removeChild","measureScrollbar","getPreferredTheme","onScroll","getCategories","setCategoryRef","Picker","DEFAULT_INCLUDE","RICH_TOOLBAR_EMOJI_BUTTON_ID","EmojiPicker","handleEscKey","closeEmojiPicker","handleClickOutside","contains","closest","addEventListener","removeEventListener","emojiObject","onEmojiSelect","EMOJI_PICKER_TOP_POSITION","getEmojiPickerTopPosition","pixels","emojiButton","querySelector","emojiPicker","emojiPickerHeight","topPositionInPixels","offsetTop","topPositionInRem","getComputedStyle","documentElement","Link","contentState","getEntity","entityKey","findLinkEntities","contentBlock","callback","findEntityRanges","getType","ErrorFallback","RichTextEditor","Derived","_super","Super","isNativeReflectConstruct","NewTarget","decorator","CompositeDecorator","strategy","createEmpty","attachment","showURLInput","urlValue","showEmojiPicker","onTyping","setDomEditorRef","domEditor","resetState","_resetState","_handleReturn","handleBeforeInput","_handleBeforeInput","onURLChange","promptForLink","_promptForLink","confirmLink","_confirmLink","removeLink","_removeLink","addTextToMessage","_addTextToMessage","onURLKeyInput","shiftKey","formatType","toggleFn","chars","eventTimestamp","currentSelection","currentContent","replaceText","isSendButtonClicked","selection","getBlockForKey","getStartKey","RichUtils","insertSoftNewline","textWithEntity","splitBlock","draftToMarkdown","convertToRaw","sendAttachment","resetEditorState","tryToRemoveBlockStyle","isCollapsed","startKey","startOffset","getStartOffset","linkKey","getEntityAt","refs","contentStateWithEntity","createEntity","getLastCreatedEntityKey","newEditorState","toggleLink","nextEditorState","nextContentState","insertText","rawContentState","Set","range","urlInput","_this5","allowedFileContentTypes","editorStateSelection","currentBlockStyle","currentInlineStyle","getCurrentInlineStyle","onKeyPress","click","visibility","richFormat","idx","has","_onFormatToggled","toggleInlineStyle","blockType","toggleBlockType","linkFormat","navigator","userAgent","attachmentsEnabled","accept","file","files","handleReturn","webDriverTestID","getPlainText","RichMessageRenderer","content","disallowedElements","components","node","_excluded","ol","_ref2","_excluded2","padding","listStyleType","ul","_ref3","_excluded3","_ref4","updatedUrlValue","_excluded4","textDecoration","rel"],"mappings":"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"}